function vb(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(t,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ay(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uu={exports:{}},Ws={},Bu={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function _b(){if(Ym)return be;Ym=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=y&&k[y]||k["@@iterator"],typeof k=="function"?k:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function E(k,M,pe){this.props=k,this.context=M,this.refs=T,this.updater=pe||b}E.prototype.isReactComponent={},E.prototype.setState=function(k,M){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,M,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function N(){}N.prototype=E.prototype;function z(k,M,pe){this.props=k,this.context=M,this.refs=T,this.updater=pe||b}var O=z.prototype=new N;O.constructor=z,j(O,E.prototype),O.isPureReactComponent=!0;var $=Array.isArray,D=Object.prototype.hasOwnProperty,Y={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function K(k,M,pe){var ve,Z={},ie=null,xe=null;if(M!=null)for(ve in M.ref!==void 0&&(xe=M.ref),M.key!==void 0&&(ie=""+M.key),M)D.call(M,ve)&&!G.hasOwnProperty(ve)&&(Z[ve]=M[ve]);var ye=arguments.length-2;if(ye===1)Z.children=pe;else if(1<ye){for(var Ie=Array(ye),tt=0;tt<ye;tt++)Ie[tt]=arguments[tt+2];Z.children=Ie}if(k&&k.defaultProps)for(ve in ye=k.defaultProps,ye)Z[ve]===void 0&&(Z[ve]=ye[ve]);return{$$typeof:t,type:k,key:ie,ref:xe,props:Z,_owner:Y.current}}function X(k,M){return{$$typeof:t,type:k.type,key:M,ref:k.ref,props:k.props,_owner:k._owner}}function Q(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function ae(k){var M={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return M[pe]})}var ge=/\/+/g;function V(k,M){return typeof k=="object"&&k!==null&&k.key!=null?ae(""+k.key):M.toString(36)}function me(k,M,pe,ve,Z){var ie=typeof k;(ie==="undefined"||ie==="boolean")&&(k=null);var xe=!1;if(k===null)xe=!0;else switch(ie){case"string":case"number":xe=!0;break;case"object":switch(k.$$typeof){case t:case e:xe=!0}}if(xe)return xe=k,Z=Z(xe),k=ve===""?"."+V(xe,0):ve,$(Z)?(pe="",k!=null&&(pe=k.replace(ge,"$&/")+"/"),me(Z,M,pe,"",function(tt){return tt})):Z!=null&&(Q(Z)&&(Z=X(Z,pe+(!Z.key||xe&&xe.key===Z.key?"":(""+Z.key).replace(ge,"$&/")+"/")+k)),M.push(Z)),1;if(xe=0,ve=ve===""?".":ve+":",$(k))for(var ye=0;ye<k.length;ye++){ie=k[ye];var Ie=ve+V(ie,ye);xe+=me(ie,M,pe,Ie,Z)}else if(Ie=x(k),typeof Ie=="function")for(k=Ie.call(k),ye=0;!(ie=k.next()).done;)ie=ie.value,Ie=ve+V(ie,ye++),xe+=me(ie,M,pe,Ie,Z);else if(ie==="object")throw M=String(k),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return xe}function _e(k,M,pe){if(k==null)return k;var ve=[],Z=0;return me(k,ve,"","",function(ie){return M.call(pe,ie,Z++)}),ve}function Pe(k){if(k._status===-1){var M=k._result;M=M(),M.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=M)}if(k._status===1)return k._result.default;throw k._result}var oe={current:null},L={transition:null},U={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:L,ReactCurrentOwner:Y};function B(){throw Error("act(...) is not supported in production builds of React.")}return be.Children={map:_e,forEach:function(k,M,pe){_e(k,function(){M.apply(this,arguments)},pe)},count:function(k){var M=0;return _e(k,function(){M++}),M},toArray:function(k){return _e(k,function(M){return M})||[]},only:function(k){if(!Q(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},be.Component=E,be.Fragment=n,be.Profiler=o,be.PureComponent=z,be.StrictMode=i,be.Suspense=p,be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,be.act=B,be.cloneElement=function(k,M,pe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ve=j({},k.props),Z=k.key,ie=k.ref,xe=k._owner;if(M!=null){if(M.ref!==void 0&&(ie=M.ref,xe=Y.current),M.key!==void 0&&(Z=""+M.key),k.type&&k.type.defaultProps)var ye=k.type.defaultProps;for(Ie in M)D.call(M,Ie)&&!G.hasOwnProperty(Ie)&&(ve[Ie]=M[Ie]===void 0&&ye!==void 0?ye[Ie]:M[Ie])}var Ie=arguments.length-2;if(Ie===1)ve.children=pe;else if(1<Ie){ye=Array(Ie);for(var tt=0;tt<Ie;tt++)ye[tt]=arguments[tt+2];ve.children=ye}return{$$typeof:t,type:k.type,key:Z,ref:ie,props:ve,_owner:xe}},be.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:c,_context:k},k.Consumer=k},be.createElement=K,be.createFactory=function(k){var M=K.bind(null,k);return M.type=k,M},be.createRef=function(){return{current:null}},be.forwardRef=function(k){return{$$typeof:f,render:k}},be.isValidElement=Q,be.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:Pe}},be.memo=function(k,M){return{$$typeof:g,type:k,compare:M===void 0?null:M}},be.startTransition=function(k){var M=L.transition;L.transition={};try{k()}finally{L.transition=M}},be.unstable_act=B,be.useCallback=function(k,M){return oe.current.useCallback(k,M)},be.useContext=function(k){return oe.current.useContext(k)},be.useDebugValue=function(){},be.useDeferredValue=function(k){return oe.current.useDeferredValue(k)},be.useEffect=function(k,M){return oe.current.useEffect(k,M)},be.useId=function(){return oe.current.useId()},be.useImperativeHandle=function(k,M,pe){return oe.current.useImperativeHandle(k,M,pe)},be.useInsertionEffect=function(k,M){return oe.current.useInsertionEffect(k,M)},be.useLayoutEffect=function(k,M){return oe.current.useLayoutEffect(k,M)},be.useMemo=function(k,M){return oe.current.useMemo(k,M)},be.useReducer=function(k,M,pe){return oe.current.useReducer(k,M,pe)},be.useRef=function(k){return oe.current.useRef(k)},be.useState=function(k){return oe.current.useState(k)},be.useSyncExternalStore=function(k,M,pe){return oe.current.useSyncExternalStore(k,M,pe)},be.useTransition=function(){return oe.current.useTransition()},be.version="18.3.1",be}var Qm;function Ud(){return Qm||(Qm=1,Bu.exports=_b()),Bu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function xb(){if(Xm)return Ws;Xm=1;var t=Ud(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,g){var v,y={},x=null,b=null;g!==void 0&&(x=""+g),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(b=p.ref);for(v in p)i.call(p,v)&&!c.hasOwnProperty(v)&&(y[v]=p[v]);if(f&&f.defaultProps)for(v in p=f.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:e,type:f,key:x,ref:b,props:y,_owner:o.current}}return Ws.Fragment=n,Ws.jsx=d,Ws.jsxs=d,Ws}var Zm;function bb(){return Zm||(Zm=1,Uu.exports=xb()),Uu.exports}var l=bb(),C=Ud();const el=Ay(C),wb=vb({__proto__:null,default:el},[C]);var Ha={},Wu={exports:{}},Nt={},Hu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function Sb(){return eg||(eg=1,(function(t){function e(L,U){var B=L.length;L.push(U);e:for(;0<B;){var k=B-1>>>1,M=L[k];if(0<o(M,U))L[k]=U,L[B]=M,B=k;else break e}}function n(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var U=L[0],B=L.pop();if(B!==U){L[0]=B;e:for(var k=0,M=L.length,pe=M>>>1;k<pe;){var ve=2*(k+1)-1,Z=L[ve],ie=ve+1,xe=L[ie];if(0>o(Z,B))ie<M&&0>o(xe,Z)?(L[k]=xe,L[ie]=B,k=ie):(L[k]=Z,L[ve]=B,k=ve);else if(ie<M&&0>o(xe,B))L[k]=xe,L[ie]=B,k=ie;else break e}}return U}function o(L,U){var B=L.sortIndex-U.sortIndex;return B!==0?B:L.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,f=d.now();t.unstable_now=function(){return d.now()-f}}var p=[],g=[],v=1,y=null,x=3,b=!1,j=!1,T=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(L){for(var U=n(g);U!==null;){if(U.callback===null)i(g);else if(U.startTime<=L)i(g),U.sortIndex=U.expirationTime,e(p,U);else break;U=n(g)}}function $(L){if(T=!1,O(L),!j)if(n(p)!==null)j=!0,Pe(D);else{var U=n(g);U!==null&&oe($,U.startTime-L)}}function D(L,U){j=!1,T&&(T=!1,N(K),K=-1),b=!0;var B=x;try{for(O(U),y=n(p);y!==null&&(!(y.expirationTime>U)||L&&!ae());){var k=y.callback;if(typeof k=="function"){y.callback=null,x=y.priorityLevel;var M=k(y.expirationTime<=U);U=t.unstable_now(),typeof M=="function"?y.callback=M:y===n(p)&&i(p),O(U)}else i(p);y=n(p)}if(y!==null)var pe=!0;else{var ve=n(g);ve!==null&&oe($,ve.startTime-U),pe=!1}return pe}finally{y=null,x=B,b=!1}}var Y=!1,G=null,K=-1,X=5,Q=-1;function ae(){return!(t.unstable_now()-Q<X)}function ge(){if(G!==null){var L=t.unstable_now();Q=L;var U=!0;try{U=G(!0,L)}finally{U?V():(Y=!1,G=null)}}else Y=!1}var V;if(typeof z=="function")V=function(){z(ge)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,_e=me.port2;me.port1.onmessage=ge,V=function(){_e.postMessage(null)}}else V=function(){E(ge,0)};function Pe(L){G=L,Y||(Y=!0,V())}function oe(L,U){K=E(function(){L(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){j||b||(j=!0,Pe(D))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(L){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var B=x;x=U;try{return L()}finally{x=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,U){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=x;x=L;try{return U()}finally{x=B}},t.unstable_scheduleCallback=function(L,U,B){var k=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?k+B:k):B=k,L){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=B+M,L={id:v++,callback:U,priorityLevel:L,startTime:B,expirationTime:M,sortIndex:-1},B>k?(L.sortIndex=B,e(g,L),n(p)===null&&L===n(g)&&(T?(N(K),K=-1):T=!0,oe($,B-k))):(L.sortIndex=M,e(p,L),j||b||(j=!0,Pe(D))),L},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(L){var U=x;return function(){var B=x;x=U;try{return L.apply(this,arguments)}finally{x=B}}}})($u)),$u}var tg;function Cb(){return tg||(tg=1,Hu.exports=Sb()),Hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function Eb(){if(ng)return Nt;ng=1;var t=Ud(),e=Cb();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function x(r){return p.call(y,r)?!0:p.call(v,r)?!1:g.test(r)?y[r]=!0:(v[r]=!0,!1)}function b(r,s,a,u){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function j(r,s,a,u){if(s===null||typeof s>"u"||b(r,s,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function T(r,s,a,u,h,m,_){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=_}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){E[r]=new T(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];E[s]=new T(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){E[r]=new T(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){E[r]=new T(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){E[r]=new T(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){E[r]=new T(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){E[r]=new T(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){E[r]=new T(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){E[r]=new T(r,5,!1,r.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function z(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(N,z);E[s]=new T(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(N,z);E[s]=new T(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(N,z);E[s]=new T(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){E[r]=new T(r,1,!1,r.toLowerCase(),null,!1,!1)}),E.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){E[r]=new T(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,s,a,u){var h=E.hasOwnProperty(s)?E[s]:null;(h!==null?h.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(j(s,a,h,u)&&(a=null),u||h===null?x(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,u=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,u?r.setAttributeNS(u,s,a):r.setAttribute(s,a))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),Y=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),ae=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),L=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var B=Object.assign,k;function M(r){if(k===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||""}return`
`+k+r}var pe=!1;function ve(r,s){if(!r||pe)return"";pe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(A){var u=A}Reflect.construct(r,[],s)}else{try{s.call()}catch(A){u=A}r.call(s.prototype)}else{try{throw Error()}catch(A){u=A}r()}}catch(A){if(A&&u&&typeof A.stack=="string"){for(var h=A.stack.split(`
`),m=u.stack.split(`
`),_=h.length-1,w=m.length-1;1<=_&&0<=w&&h[_]!==m[w];)w--;for(;1<=_&&0<=w;_--,w--)if(h[_]!==m[w]){if(_!==1||w!==1)do if(_--,w--,0>w||h[_]!==m[w]){var S=`
`+h[_].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=_&&0<=w);break}}}finally{pe=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?M(r):""}function Z(r){switch(r.tag){case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return r=ve(r.type,!1),r;case 11:return r=ve(r.type.render,!1),r;case 1:return r=ve(r.type,!0),r;default:return""}}function ie(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case G:return"Fragment";case Y:return"Portal";case X:return"Profiler";case K:return"StrictMode";case V:return"Suspense";case me:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ae:return(r.displayName||"Context")+".Consumer";case Q:return(r._context.displayName||"Context")+".Provider";case ge:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case _e:return s=r.displayName||null,s!==null?s:ie(r.type)||"Memo";case Pe:s=r._payload,r=r._init;try{return ie(r(s))}catch{}}return null}function xe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(s);case 8:return s===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ye(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ie(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tt(r){var s=Ie(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,m.call(this,_)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function si(r){r._valueTracker||(r._valueTracker=tt(r))}function tf(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return r&&(u=Ie(r)?r.checked?"true":"false":r.value),r=u,r!==a?(s.setValue(r),!0):!1}function Oo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function ql(r,s){var a=s.checked;return B({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function nf(r,s){var a=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;a=ye(s.value!=null?s.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function rf(r,s){s=s.checked,s!=null&&O(r,"checked",s,!1)}function Jl(r,s){rf(r,s);var a=ye(s.value),u=s.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Kl(r,s.type,a):s.hasOwnProperty("defaultValue")&&Kl(r,s.type,ye(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function sf(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Kl(r,s,a){(s!=="number"||Oo(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var rs=Array.isArray;function oi(r,s,a,u){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&u&&(r[a].defaultSelected=!0)}else{for(a=""+ye(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Yl(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function of(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(rs(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:ye(a)}}function af(r,s){var a=ye(s.value),u=ye(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function lf(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function cf(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ql(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?cf(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Lo,uf=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,u,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,u,h)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Lo=Lo||document.createElement("div"),Lo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Lo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function is(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w0=["Webkit","ms","Moz","O"];Object.keys(ss).forEach(function(r){w0.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),ss[s]=ss[r]})});function df(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||ss.hasOwnProperty(r)&&ss[r]?(""+s).trim():s+"px"}function hf(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var u=a.indexOf("--")===0,h=df(a,s[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,h):r[a]=h}}var S0=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xl(r,s){if(s){if(S0[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Zl(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=null;function tc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var nc=null,ai=null,li=null;function ff(r){if(r=ks(r)){if(typeof nc!="function")throw Error(n(280));var s=r.stateNode;s&&(s=ia(s),nc(r.stateNode,r.type,s))}}function pf(r){ai?li?li.push(r):li=[r]:ai=r}function mf(){if(ai){var r=ai,s=li;if(li=ai=null,ff(r),s)for(r=0;r<s.length;r++)ff(s[r])}}function gf(r,s){return r(s)}function yf(){}var rc=!1;function vf(r,s,a){if(rc)return r(s,a);rc=!0;try{return gf(r,s,a)}finally{rc=!1,(ai!==null||li!==null)&&(yf(),mf())}}function os(r,s){var a=r.stateNode;if(a===null)return null;var u=ia(a);if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var ic=!1;if(f)try{var as={};Object.defineProperty(as,"passive",{get:function(){ic=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{ic=!1}function C0(r,s,a,u,h,m,_,w,S){var A=Array.prototype.slice.call(arguments,3);try{s.apply(a,A)}catch(W){this.onError(W)}}var ls=!1,Do=null,Mo=!1,sc=null,E0={onError:function(r){ls=!0,Do=r}};function j0(r,s,a,u,h,m,_,w,S){ls=!1,Do=null,C0.apply(E0,arguments)}function k0(r,s,a,u,h,m,_,w,S){if(j0.apply(this,arguments),ls){if(ls){var A=Do;ls=!1,Do=null}else throw Error(n(198));Mo||(Mo=!0,sc=A)}}function Rr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function _f(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function xf(r){if(Rr(r)!==r)throw Error(n(188))}function I0(r){var s=r.alternate;if(!s){if(s=Rr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,u=s;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){a=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return xf(h),r;if(m===u)return xf(h),s;m=m.sibling}throw Error(n(188))}if(a.return!==u.return)a=h,u=m;else{for(var _=!1,w=h.child;w;){if(w===a){_=!0,a=h,u=m;break}if(w===u){_=!0,u=h,a=m;break}w=w.sibling}if(!_){for(w=m.child;w;){if(w===a){_=!0,a=m,u=h;break}if(w===u){_=!0,u=m,a=h;break}w=w.sibling}if(!_)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function bf(r){return r=I0(r),r!==null?wf(r):null}function wf(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=wf(r);if(s!==null)return s;r=r.sibling}return null}var Sf=e.unstable_scheduleCallback,Cf=e.unstable_cancelCallback,T0=e.unstable_shouldYield,R0=e.unstable_requestPaint,Ke=e.unstable_now,P0=e.unstable_getCurrentPriorityLevel,oc=e.unstable_ImmediatePriority,Ef=e.unstable_UserBlockingPriority,zo=e.unstable_NormalPriority,N0=e.unstable_LowPriority,jf=e.unstable_IdlePriority,Fo=null,fn=null;function A0(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Fo,r,void 0,(r.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:D0,O0=Math.log,L0=Math.LN2;function D0(r){return r>>>=0,r===0?32:31-(O0(r)/L0|0)|0}var Uo=64,Bo=4194304;function cs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Wo(r,s){var a=r.pendingLanes;if(a===0)return 0;var u=0,h=r.suspendedLanes,m=r.pingedLanes,_=a&268435455;if(_!==0){var w=_&~h;w!==0?u=cs(w):(m&=_,m!==0&&(u=cs(m)))}else _=a&~h,_!==0?u=cs(_):m!==0&&(u=cs(m));if(u===0)return 0;if(s!==0&&s!==u&&(s&h)===0&&(h=u&-u,m=s&-s,h>=m||h===16&&(m&4194240)!==0))return s;if((u&4)!==0&&(u|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)a=31-Yt(s),h=1<<a,u|=r[a],s&=~h;return u}function M0(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z0(r,s){for(var a=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes;0<m;){var _=31-Yt(m),w=1<<_,S=h[_];S===-1?((w&a)===0||(w&u)!==0)&&(h[_]=M0(w,s)):S<=s&&(r.expiredLanes|=w),m&=~w}}function ac(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function kf(){var r=Uo;return Uo<<=1,(Uo&4194240)===0&&(Uo=64),r}function lc(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function us(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Yt(s),r[s]=a}function F0(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-Yt(a),m=1<<h;s[h]=0,u[h]=-1,r[h]=-1,a&=~m}}function cc(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var u=31-Yt(a),h=1<<u;h&s|r[u]&s&&(r[u]|=s),a&=~h}}var Ne=0;function If(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Tf,uc,Rf,Pf,Nf,dc=!1,Ho=[],Gn=null,qn=null,Jn=null,ds=new Map,hs=new Map,Kn=[],U0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Af(r,s){switch(r){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":ds.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(s.pointerId)}}function fs(r,s,a,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},s!==null&&(s=ks(s),s!==null&&uc(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function B0(r,s,a,u,h){switch(s){case"focusin":return Gn=fs(Gn,r,s,a,u,h),!0;case"dragenter":return qn=fs(qn,r,s,a,u,h),!0;case"mouseover":return Jn=fs(Jn,r,s,a,u,h),!0;case"pointerover":var m=h.pointerId;return ds.set(m,fs(ds.get(m)||null,r,s,a,u,h)),!0;case"gotpointercapture":return m=h.pointerId,hs.set(m,fs(hs.get(m)||null,r,s,a,u,h)),!0}return!1}function Of(r){var s=Pr(r.target);if(s!==null){var a=Rr(s);if(a!==null){if(s=a.tag,s===13){if(s=_f(a),s!==null){r.blockedOn=s,Nf(r.priority,function(){Rf(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function $o(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=fc(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);ec=u,a.target.dispatchEvent(u),ec=null}else return s=ks(a),s!==null&&uc(s),r.blockedOn=a,!1;s.shift()}return!0}function Lf(r,s,a){$o(r)&&a.delete(s)}function W0(){dc=!1,Gn!==null&&$o(Gn)&&(Gn=null),qn!==null&&$o(qn)&&(qn=null),Jn!==null&&$o(Jn)&&(Jn=null),ds.forEach(Lf),hs.forEach(Lf)}function ps(r,s){r.blockedOn===s&&(r.blockedOn=null,dc||(dc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,W0)))}function ms(r){function s(h){return ps(h,r)}if(0<Ho.length){ps(Ho[0],r);for(var a=1;a<Ho.length;a++){var u=Ho[a];u.blockedOn===r&&(u.blockedOn=null)}}for(Gn!==null&&ps(Gn,r),qn!==null&&ps(qn,r),Jn!==null&&ps(Jn,r),ds.forEach(s),hs.forEach(s),a=0;a<Kn.length;a++)u=Kn[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<Kn.length&&(a=Kn[0],a.blockedOn===null);)Of(a),a.blockedOn===null&&Kn.shift()}var ci=$.ReactCurrentBatchConfig,Vo=!0;function H0(r,s,a,u){var h=Ne,m=ci.transition;ci.transition=null;try{Ne=1,hc(r,s,a,u)}finally{Ne=h,ci.transition=m}}function $0(r,s,a,u){var h=Ne,m=ci.transition;ci.transition=null;try{Ne=4,hc(r,s,a,u)}finally{Ne=h,ci.transition=m}}function hc(r,s,a,u){if(Vo){var h=fc(r,s,a,u);if(h===null)Rc(r,s,u,Go,a),Af(r,u);else if(B0(h,r,s,a,u))u.stopPropagation();else if(Af(r,u),s&4&&-1<U0.indexOf(r)){for(;h!==null;){var m=ks(h);if(m!==null&&Tf(m),m=fc(r,s,a,u),m===null&&Rc(r,s,u,Go,a),m===h)break;h=m}h!==null&&u.stopPropagation()}else Rc(r,s,u,null,a)}}var Go=null;function fc(r,s,a,u){if(Go=null,r=tc(u),r=Pr(r),r!==null)if(s=Rr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=_f(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Go=r,null}function Df(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(P0()){case oc:return 1;case Ef:return 4;case zo:case N0:return 16;case jf:return 536870912;default:return 16}default:return 16}}var Yn=null,pc=null,qo=null;function Mf(){if(qo)return qo;var r,s=pc,a=s.length,u,h="value"in Yn?Yn.value:Yn.textContent,m=h.length;for(r=0;r<a&&s[r]===h[r];r++);var _=a-r;for(u=1;u<=_&&s[a-u]===h[m-u];u++);return qo=h.slice(r,1<u?1-u:void 0)}function Jo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Ko(){return!0}function zf(){return!1}function Dt(r){function s(a,u,h,m,_){this._reactName=a,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(a=r[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ko:zf,this.isPropagationStopped=zf,this}return B(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),s}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Dt(ui),gs=B({},ui,{view:0,detail:0}),V0=Dt(gs),gc,yc,ys,Yo=B({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ys&&(ys&&r.type==="mousemove"?(gc=r.screenX-ys.screenX,yc=r.screenY-ys.screenY):yc=gc=0,ys=r),gc)},movementY:function(r){return"movementY"in r?r.movementY:yc}}),Ff=Dt(Yo),G0=B({},Yo,{dataTransfer:0}),q0=Dt(G0),J0=B({},gs,{relatedTarget:0}),vc=Dt(J0),K0=B({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=Dt(K0),Q0=B({},ui,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),X0=Dt(Q0),Z0=B({},ui,{data:0}),Uf=Dt(Z0),ex={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rx(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nx[r])?!!s[r]:!1}function _c(){return rx}var ix=B({},gs,{key:function(r){if(r.key){var s=ex[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Jo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?tx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(r){return r.type==="keypress"?Jo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Jo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sx=Dt(ix),ox=B({},Yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bf=Dt(ox),ax=B({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),lx=Dt(ax),cx=B({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),ux=Dt(cx),dx=B({},Yo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),hx=Dt(dx),fx=[9,13,27,32],xc=f&&"CompositionEvent"in window,vs=null;f&&"documentMode"in document&&(vs=document.documentMode);var px=f&&"TextEvent"in window&&!vs,Wf=f&&(!xc||vs&&8<vs&&11>=vs),Hf=" ",$f=!1;function Vf(r,s){switch(r){case"keyup":return fx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var di=!1;function mx(r,s){switch(r){case"compositionend":return Gf(s);case"keypress":return s.which!==32?null:($f=!0,Hf);case"textInput":return r=s.data,r===Hf&&$f?null:r;default:return null}}function gx(r,s){if(di)return r==="compositionend"||!xc&&Vf(r,s)?(r=Mf(),qo=pc=Yn=null,di=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wf&&s.locale!=="ko"?null:s.data;default:return null}}var yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!yx[r.type]:s==="textarea"}function Jf(r,s,a,u){pf(u),s=ta(s,"onChange"),0<s.length&&(a=new mc("onChange","change",null,a,u),r.push({event:a,listeners:s}))}var _s=null,xs=null;function vx(r){hp(r,0)}function Qo(r){var s=gi(r);if(tf(s))return r}function _x(r,s){if(r==="change")return s}var Kf=!1;if(f){var bc;if(f){var wc="oninput"in document;if(!wc){var Yf=document.createElement("div");Yf.setAttribute("oninput","return;"),wc=typeof Yf.oninput=="function"}bc=wc}else bc=!1;Kf=bc&&(!document.documentMode||9<document.documentMode)}function Qf(){_s&&(_s.detachEvent("onpropertychange",Xf),xs=_s=null)}function Xf(r){if(r.propertyName==="value"&&Qo(xs)){var s=[];Jf(s,xs,r,tc(r)),vf(vx,s)}}function xx(r,s,a){r==="focusin"?(Qf(),_s=s,xs=a,_s.attachEvent("onpropertychange",Xf)):r==="focusout"&&Qf()}function bx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qo(xs)}function wx(r,s){if(r==="click")return Qo(s)}function Sx(r,s){if(r==="input"||r==="change")return Qo(s)}function Cx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Qt=typeof Object.is=="function"?Object.is:Cx;function bs(r,s){if(Qt(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var h=a[u];if(!p.call(s,h)||!Qt(r[h],s[h]))return!1}return!0}function Zf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ep(r,s){var a=Zf(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=s&&u>=s)return{node:a,offset:s-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zf(a)}}function tp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?tp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function np(){for(var r=window,s=Oo();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Oo(r.document)}return s}function Sc(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Ex(r){var s=np(),a=r.focusedElem,u=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&tp(a.ownerDocument.documentElement,a)){if(u!==null&&Sc(a)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,m=Math.min(u.start,h);u=u.end===void 0?m:Math.min(u.end,h),!r.extend&&m>u&&(h=u,u=m,m=h),h=ep(a,m);var _=ep(a,u);h&&_&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==_.node||r.focusOffset!==_.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),m>u?(r.addRange(s),r.extend(_.node,_.offset)):(s.setEnd(_.node,_.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jx=f&&"documentMode"in document&&11>=document.documentMode,hi=null,Cc=null,ws=null,Ec=!1;function rp(r,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ec||hi==null||hi!==Oo(u)||(u=hi,"selectionStart"in u&&Sc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ws&&bs(ws,u)||(ws=u,u=ta(Cc,"onSelect"),0<u.length&&(s=new mc("onSelect","select",null,s,a),r.push({event:s,listeners:u}),s.target=hi)))}function Xo(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var fi={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},jc={},ip={};f&&(ip=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function Zo(r){if(jc[r])return jc[r];if(!fi[r])return r;var s=fi[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in ip)return jc[r]=s[a];return r}var sp=Zo("animationend"),op=Zo("animationiteration"),ap=Zo("animationstart"),lp=Zo("transitionend"),cp=new Map,up="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(r,s){cp.set(r,s),c(s,[r])}for(var kc=0;kc<up.length;kc++){var Ic=up[kc],kx=Ic.toLowerCase(),Ix=Ic[0].toUpperCase()+Ic.slice(1);Qn(kx,"on"+Ix)}Qn(sp,"onAnimationEnd"),Qn(op,"onAnimationIteration"),Qn(ap,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(lp,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function dp(r,s,a){var u=r.type||"unknown-event";r.currentTarget=a,k0(u,s,void 0,r),r.currentTarget=null}function hp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],h=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var _=u.length-1;0<=_;_--){var w=u[_],S=w.instance,A=w.currentTarget;if(w=w.listener,S!==m&&h.isPropagationStopped())break e;dp(h,w,A),m=S}else for(_=0;_<u.length;_++){if(w=u[_],S=w.instance,A=w.currentTarget,w=w.listener,S!==m&&h.isPropagationStopped())break e;dp(h,w,A),m=S}}}if(Mo)throw r=sc,Mo=!1,sc=null,r}function ze(r,s){var a=s[Dc];a===void 0&&(a=s[Dc]=new Set);var u=r+"__bubble";a.has(u)||(fp(s,r,2,!1),a.add(u))}function Tc(r,s,a){var u=0;s&&(u|=4),fp(a,r,u,s)}var ea="_reactListening"+Math.random().toString(36).slice(2);function Cs(r){if(!r[ea]){r[ea]=!0,i.forEach(function(a){a!=="selectionchange"&&(Tx.has(a)||Tc(a,!1,r),Tc(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ea]||(s[ea]=!0,Tc("selectionchange",!1,s))}}function fp(r,s,a,u){switch(Df(s)){case 1:var h=H0;break;case 4:h=$0;break;default:h=hc}a=h.bind(null,s,a,r),h=void 0,!ic||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function Rc(r,s,a,u,h){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var S=_.tag;if((S===3||S===4)&&(S=_.stateNode.containerInfo,S===h||S.nodeType===8&&S.parentNode===h))return;_=_.return}for(;w!==null;){if(_=Pr(w),_===null)return;if(S=_.tag,S===5||S===6){u=m=_;continue e}w=w.parentNode}}u=u.return}vf(function(){var A=m,W=tc(a),H=[];e:{var F=cp.get(r);if(F!==void 0){var ee=mc,ne=r;switch(r){case"keypress":if(Jo(a)===0)break e;case"keydown":case"keyup":ee=sx;break;case"focusin":ne="focus",ee=vc;break;case"focusout":ne="blur",ee=vc;break;case"beforeblur":case"afterblur":ee=vc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=q0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=lx;break;case sp:case op:case ap:ee=Y0;break;case lp:ee=ux;break;case"scroll":ee=V0;break;case"wheel":ee=hx;break;case"copy":case"cut":case"paste":ee=X0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Bf}var re=(s&4)!==0,Ye=!re&&r==="scroll",R=re?F!==null?F+"Capture":null:F;re=[];for(var I=A,P;I!==null;){P=I;var q=P.stateNode;if(P.tag===5&&q!==null&&(P=q,R!==null&&(q=os(I,R),q!=null&&re.push(Es(I,q,P)))),Ye)break;I=I.return}0<re.length&&(F=new ee(F,ne,null,a,W),H.push({event:F,listeners:re}))}}if((s&7)===0){e:{if(F=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",F&&a!==ec&&(ne=a.relatedTarget||a.fromElement)&&(Pr(ne)||ne[Sn]))break e;if((ee||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,ee?(ne=a.relatedTarget||a.toElement,ee=A,ne=ne?Pr(ne):null,ne!==null&&(Ye=Rr(ne),ne!==Ye||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(ee=null,ne=A),ee!==ne)){if(re=Ff,q="onMouseLeave",R="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(re=Bf,q="onPointerLeave",R="onPointerEnter",I="pointer"),Ye=ee==null?F:gi(ee),P=ne==null?F:gi(ne),F=new re(q,I+"leave",ee,a,W),F.target=Ye,F.relatedTarget=P,q=null,Pr(W)===A&&(re=new re(R,I+"enter",ne,a,W),re.target=P,re.relatedTarget=Ye,q=re),Ye=q,ee&&ne)t:{for(re=ee,R=ne,I=0,P=re;P;P=pi(P))I++;for(P=0,q=R;q;q=pi(q))P++;for(;0<I-P;)re=pi(re),I--;for(;0<P-I;)R=pi(R),P--;for(;I--;){if(re===R||R!==null&&re===R.alternate)break t;re=pi(re),R=pi(R)}re=null}else re=null;ee!==null&&pp(H,F,ee,re,!1),ne!==null&&Ye!==null&&pp(H,Ye,ne,re,!0)}}e:{if(F=A?gi(A):window,ee=F.nodeName&&F.nodeName.toLowerCase(),ee==="select"||ee==="input"&&F.type==="file")var se=_x;else if(qf(F))if(Kf)se=Sx;else{se=bx;var le=xx}else(ee=F.nodeName)&&ee.toLowerCase()==="input"&&(F.type==="checkbox"||F.type==="radio")&&(se=wx);if(se&&(se=se(r,A))){Jf(H,se,a,W);break e}le&&le(r,F,A),r==="focusout"&&(le=F._wrapperState)&&le.controlled&&F.type==="number"&&Kl(F,"number",F.value)}switch(le=A?gi(A):window,r){case"focusin":(qf(le)||le.contentEditable==="true")&&(hi=le,Cc=A,ws=null);break;case"focusout":ws=Cc=hi=null;break;case"mousedown":Ec=!0;break;case"contextmenu":case"mouseup":case"dragend":Ec=!1,rp(H,a,W);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":rp(H,a,W)}var ce;if(xc)e:{switch(r){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else di?Vf(r,a)&&(fe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(fe="onCompositionStart");fe&&(Wf&&a.locale!=="ko"&&(di||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&di&&(ce=Mf()):(Yn=W,pc="value"in Yn?Yn.value:Yn.textContent,di=!0)),le=ta(A,fe),0<le.length&&(fe=new Uf(fe,r,null,a,W),H.push({event:fe,listeners:le}),ce?fe.data=ce:(ce=Gf(a),ce!==null&&(fe.data=ce)))),(ce=px?mx(r,a):gx(r,a))&&(A=ta(A,"onBeforeInput"),0<A.length&&(W=new Uf("onBeforeInput","beforeinput",null,a,W),H.push({event:W,listeners:A}),W.data=ce))}hp(H,s)})}function Es(r,s,a){return{instance:r,listener:s,currentTarget:a}}function ta(r,s){for(var a=s+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=os(r,a),m!=null&&u.unshift(Es(r,m,h)),m=os(r,s),m!=null&&u.push(Es(r,m,h))),r=r.return}return u}function pi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function pp(r,s,a,u,h){for(var m=s._reactName,_=[];a!==null&&a!==u;){var w=a,S=w.alternate,A=w.stateNode;if(S!==null&&S===u)break;w.tag===5&&A!==null&&(w=A,h?(S=os(a,m),S!=null&&_.unshift(Es(a,S,w))):h||(S=os(a,m),S!=null&&_.push(Es(a,S,w)))),a=a.return}_.length!==0&&r.push({event:s,listeners:_})}var Rx=/\r\n?/g,Px=/\u0000|\uFFFD/g;function mp(r){return(typeof r=="string"?r:""+r).replace(Rx,`
`).replace(Px,"")}function na(r,s,a){if(s=mp(s),mp(r)!==s&&a)throw Error(n(425))}function ra(){}var Pc=null,Nc=null;function Ac(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Oc=typeof setTimeout=="function"?setTimeout:void 0,Nx=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(r){return gp.resolve(null).then(r).catch(Ox)}:Oc;function Ox(r){setTimeout(function(){throw r})}function Lc(r,s){var a=s,u=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(u===0){r.removeChild(h),ms(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=h}while(a);ms(s)}function Xn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function yp(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var mi=Math.random().toString(36).slice(2),pn="__reactFiber$"+mi,js="__reactProps$"+mi,Sn="__reactContainer$"+mi,Dc="__reactEvents$"+mi,Lx="__reactListeners$"+mi,Dx="__reactHandles$"+mi;function Pr(r){var s=r[pn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Sn]||a[pn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=yp(r);r!==null;){if(a=r[pn])return a;r=yp(r)}return s}r=a,a=r.parentNode}return null}function ks(r){return r=r[pn]||r[Sn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function gi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function ia(r){return r[js]||null}var Mc=[],yi=-1;function Zn(r){return{current:r}}function Fe(r){0>yi||(r.current=Mc[yi],Mc[yi]=null,yi--)}function Le(r,s){yi++,Mc[yi]=r.current,r.current=s}var er={},mt=Zn(er),kt=Zn(!1),Nr=er;function vi(r,s){var a=r.type.contextTypes;if(!a)return er;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=s[m];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function It(r){return r=r.childContextTypes,r!=null}function sa(){Fe(kt),Fe(mt)}function vp(r,s,a){if(mt.current!==er)throw Error(n(168));Le(mt,s),Le(kt,a)}function _p(r,s,a){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var h in u)if(!(h in s))throw Error(n(108,xe(r)||"Unknown",h));return B({},a,u)}function oa(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||er,Nr=mt.current,Le(mt,r),Le(kt,kt.current),!0}function xp(r,s,a){var u=r.stateNode;if(!u)throw Error(n(169));a?(r=_p(r,s,Nr),u.__reactInternalMemoizedMergedChildContext=r,Fe(kt),Fe(mt),Le(mt,r)):Fe(kt),Le(kt,a)}var Cn=null,aa=!1,zc=!1;function bp(r){Cn===null?Cn=[r]:Cn.push(r)}function Mx(r){aa=!0,bp(r)}function tr(){if(!zc&&Cn!==null){zc=!0;var r=0,s=Ne;try{var a=Cn;for(Ne=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}Cn=null,aa=!1}catch(h){throw Cn!==null&&(Cn=Cn.slice(r+1)),Sf(oc,tr),h}finally{Ne=s,zc=!1}}return null}var _i=[],xi=0,la=null,ca=0,Bt=[],Wt=0,Ar=null,En=1,jn="";function Or(r,s){_i[xi++]=ca,_i[xi++]=la,la=r,ca=s}function wp(r,s,a){Bt[Wt++]=En,Bt[Wt++]=jn,Bt[Wt++]=Ar,Ar=r;var u=En;r=jn;var h=32-Yt(u)-1;u&=~(1<<h),a+=1;var m=32-Yt(s)+h;if(30<m){var _=h-h%5;m=(u&(1<<_)-1).toString(32),u>>=_,h-=_,En=1<<32-Yt(s)+h|a<<h|u,jn=m+r}else En=1<<m|a<<h|u,jn=r}function Fc(r){r.return!==null&&(Or(r,1),wp(r,1,0))}function Uc(r){for(;r===la;)la=_i[--xi],_i[xi]=null,ca=_i[--xi],_i[xi]=null;for(;r===Ar;)Ar=Bt[--Wt],Bt[Wt]=null,jn=Bt[--Wt],Bt[Wt]=null,En=Bt[--Wt],Bt[Wt]=null}var Mt=null,zt=null,Ue=!1,Xt=null;function Sp(r,s){var a=Gt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Cp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Mt=r,zt=Xn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Mt=r,zt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=Ar!==null?{id:En,overflow:jn}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Gt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Mt=r,zt=null,!0):!1;default:return!1}}function Bc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Wc(r){if(Ue){var s=zt;if(s){var a=s;if(!Cp(r,s)){if(Bc(r))throw Error(n(418));s=Xn(a.nextSibling);var u=Mt;s&&Cp(r,s)?Sp(u,a):(r.flags=r.flags&-4097|2,Ue=!1,Mt=r)}}else{if(Bc(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ue=!1,Mt=r}}}function Ep(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mt=r}function ua(r){if(r!==Mt)return!1;if(!Ue)return Ep(r),Ue=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ac(r.type,r.memoizedProps)),s&&(s=zt)){if(Bc(r))throw jp(),Error(n(418));for(;s;)Sp(r,s),s=Xn(s.nextSibling)}if(Ep(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){zt=Xn(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}zt=null}}else zt=Mt?Xn(r.stateNode.nextSibling):null;return!0}function jp(){for(var r=zt;r;)r=Xn(r.nextSibling)}function bi(){zt=Mt=null,Ue=!1}function Hc(r){Xt===null?Xt=[r]:Xt.push(r)}var zx=$.ReactCurrentBatchConfig;function Is(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,r));var h=u,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(_){var w=h.refs;_===null?delete w[m]:w[m]=_},s._stringRef=m,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function da(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function kp(r){var s=r._init;return s(r._payload)}function Ip(r){function s(R,I){if(r){var P=R.deletions;P===null?(R.deletions=[I],R.flags|=16):P.push(I)}}function a(R,I){if(!r)return null;for(;I!==null;)s(R,I),I=I.sibling;return null}function u(R,I){for(R=new Map;I!==null;)I.key!==null?R.set(I.key,I):R.set(I.index,I),I=I.sibling;return R}function h(R,I){return R=cr(R,I),R.index=0,R.sibling=null,R}function m(R,I,P){return R.index=P,r?(P=R.alternate,P!==null?(P=P.index,P<I?(R.flags|=2,I):P):(R.flags|=2,I)):(R.flags|=1048576,I)}function _(R){return r&&R.alternate===null&&(R.flags|=2),R}function w(R,I,P,q){return I===null||I.tag!==6?(I=Ou(P,R.mode,q),I.return=R,I):(I=h(I,P),I.return=R,I)}function S(R,I,P,q){var se=P.type;return se===G?W(R,I,P.props.children,q,P.key):I!==null&&(I.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pe&&kp(se)===I.type)?(q=h(I,P.props),q.ref=Is(R,I,P),q.return=R,q):(q=La(P.type,P.key,P.props,null,R.mode,q),q.ref=Is(R,I,P),q.return=R,q)}function A(R,I,P,q){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=Lu(P,R.mode,q),I.return=R,I):(I=h(I,P.children||[]),I.return=R,I)}function W(R,I,P,q,se){return I===null||I.tag!==7?(I=Wr(P,R.mode,q,se),I.return=R,I):(I=h(I,P),I.return=R,I)}function H(R,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Ou(""+I,R.mode,P),I.return=R,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return P=La(I.type,I.key,I.props,null,R.mode,P),P.ref=Is(R,null,I),P.return=R,P;case Y:return I=Lu(I,R.mode,P),I.return=R,I;case Pe:var q=I._init;return H(R,q(I._payload),P)}if(rs(I)||U(I))return I=Wr(I,R.mode,P,null),I.return=R,I;da(R,I)}return null}function F(R,I,P,q){var se=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return se!==null?null:w(R,I,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===se?S(R,I,P,q):null;case Y:return P.key===se?A(R,I,P,q):null;case Pe:return se=P._init,F(R,I,se(P._payload),q)}if(rs(P)||U(P))return se!==null?null:W(R,I,P,q,null);da(R,P)}return null}function ee(R,I,P,q,se){if(typeof q=="string"&&q!==""||typeof q=="number")return R=R.get(P)||null,w(I,R,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case D:return R=R.get(q.key===null?P:q.key)||null,S(I,R,q,se);case Y:return R=R.get(q.key===null?P:q.key)||null,A(I,R,q,se);case Pe:var le=q._init;return ee(R,I,P,le(q._payload),se)}if(rs(q)||U(q))return R=R.get(P)||null,W(I,R,q,se,null);da(I,q)}return null}function ne(R,I,P,q){for(var se=null,le=null,ce=I,fe=I=0,lt=null;ce!==null&&fe<P.length;fe++){ce.index>fe?(lt=ce,ce=null):lt=ce.sibling;var Te=F(R,ce,P[fe],q);if(Te===null){ce===null&&(ce=lt);break}r&&ce&&Te.alternate===null&&s(R,ce),I=m(Te,I,fe),le===null?se=Te:le.sibling=Te,le=Te,ce=lt}if(fe===P.length)return a(R,ce),Ue&&Or(R,fe),se;if(ce===null){for(;fe<P.length;fe++)ce=H(R,P[fe],q),ce!==null&&(I=m(ce,I,fe),le===null?se=ce:le.sibling=ce,le=ce);return Ue&&Or(R,fe),se}for(ce=u(R,ce);fe<P.length;fe++)lt=ee(ce,R,fe,P[fe],q),lt!==null&&(r&&lt.alternate!==null&&ce.delete(lt.key===null?fe:lt.key),I=m(lt,I,fe),le===null?se=lt:le.sibling=lt,le=lt);return r&&ce.forEach(function(ur){return s(R,ur)}),Ue&&Or(R,fe),se}function re(R,I,P,q){var se=U(P);if(typeof se!="function")throw Error(n(150));if(P=se.call(P),P==null)throw Error(n(151));for(var le=se=null,ce=I,fe=I=0,lt=null,Te=P.next();ce!==null&&!Te.done;fe++,Te=P.next()){ce.index>fe?(lt=ce,ce=null):lt=ce.sibling;var ur=F(R,ce,Te.value,q);if(ur===null){ce===null&&(ce=lt);break}r&&ce&&ur.alternate===null&&s(R,ce),I=m(ur,I,fe),le===null?se=ur:le.sibling=ur,le=ur,ce=lt}if(Te.done)return a(R,ce),Ue&&Or(R,fe),se;if(ce===null){for(;!Te.done;fe++,Te=P.next())Te=H(R,Te.value,q),Te!==null&&(I=m(Te,I,fe),le===null?se=Te:le.sibling=Te,le=Te);return Ue&&Or(R,fe),se}for(ce=u(R,ce);!Te.done;fe++,Te=P.next())Te=ee(ce,R,fe,Te.value,q),Te!==null&&(r&&Te.alternate!==null&&ce.delete(Te.key===null?fe:Te.key),I=m(Te,I,fe),le===null?se=Te:le.sibling=Te,le=Te);return r&&ce.forEach(function(yb){return s(R,yb)}),Ue&&Or(R,fe),se}function Ye(R,I,P,q){if(typeof P=="object"&&P!==null&&P.type===G&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:e:{for(var se=P.key,le=I;le!==null;){if(le.key===se){if(se=P.type,se===G){if(le.tag===7){a(R,le.sibling),I=h(le,P.props.children),I.return=R,R=I;break e}}else if(le.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===Pe&&kp(se)===le.type){a(R,le.sibling),I=h(le,P.props),I.ref=Is(R,le,P),I.return=R,R=I;break e}a(R,le);break}else s(R,le);le=le.sibling}P.type===G?(I=Wr(P.props.children,R.mode,q,P.key),I.return=R,R=I):(q=La(P.type,P.key,P.props,null,R.mode,q),q.ref=Is(R,I,P),q.return=R,R=q)}return _(R);case Y:e:{for(le=P.key;I!==null;){if(I.key===le)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){a(R,I.sibling),I=h(I,P.children||[]),I.return=R,R=I;break e}else{a(R,I);break}else s(R,I);I=I.sibling}I=Lu(P,R.mode,q),I.return=R,R=I}return _(R);case Pe:return le=P._init,Ye(R,I,le(P._payload),q)}if(rs(P))return ne(R,I,P,q);if(U(P))return re(R,I,P,q);da(R,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,I!==null&&I.tag===6?(a(R,I.sibling),I=h(I,P),I.return=R,R=I):(a(R,I),I=Ou(P,R.mode,q),I.return=R,R=I),_(R)):a(R,I)}return Ye}var wi=Ip(!0),Tp=Ip(!1),ha=Zn(null),fa=null,Si=null,$c=null;function Vc(){$c=Si=fa=null}function Gc(r){var s=ha.current;Fe(ha),r._currentValue=s}function qc(r,s,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===a)break;r=r.return}}function Ci(r,s){fa=r,$c=Si=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Tt=!0),r.firstContext=null)}function Ht(r){var s=r._currentValue;if($c!==r)if(r={context:r,memoizedValue:s,next:null},Si===null){if(fa===null)throw Error(n(308));Si=r,fa.dependencies={lanes:0,firstContext:r}}else Si=Si.next=r;return s}var Lr=null;function Jc(r){Lr===null?Lr=[r]:Lr.push(r)}function Rp(r,s,a,u){var h=s.interleaved;return h===null?(a.next=a,Jc(s)):(a.next=h.next,h.next=a),s.interleaved=a,kn(r,u)}function kn(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var nr=!1;function Kc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function In(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function rr(r,s,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(ke&2)!==0){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,kn(r,a)}return h=u.interleaved,h===null?(s.next=s,Jc(u)):(s.next=h.next,h.next=s),u.interleaved=s,kn(r,a)}function pa(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,cc(r,a)}}function Np(r,s){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=s:m=m.next=s}else h=m=s;a={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function ma(r,s,a,u){var h=r.updateQueue;nr=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var S=w,A=S.next;S.next=null,_===null?m=A:_.next=A,_=S;var W=r.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==_&&(w===null?W.firstBaseUpdate=A:w.next=A,W.lastBaseUpdate=S))}if(m!==null){var H=h.baseState;_=0,W=A=S=null,w=m;do{var F=w.lane,ee=w.eventTime;if((u&F)===F){W!==null&&(W=W.next={eventTime:ee,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ne=r,re=w;switch(F=s,ee=a,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){H=ne.call(ee,H,F);break e}H=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,F=typeof ne=="function"?ne.call(ee,H,F):ne,F==null)break e;H=B({},H,F);break e;case 2:nr=!0}}w.callback!==null&&w.lane!==0&&(r.flags|=64,F=h.effects,F===null?h.effects=[w]:F.push(w))}else ee={eventTime:ee,lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(A=W=ee,S=H):W=W.next=ee,_|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;F=w,w=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);if(W===null&&(S=H),h.baseState=S,h.firstBaseUpdate=A,h.lastBaseUpdate=W,s=h.shared.interleaved,s!==null){h=s;do _|=h.lane,h=h.next;while(h!==s)}else m===null&&(h.shared.lanes=0);zr|=_,r.lanes=_,r.memoizedState=H}}function Ap(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],h=u.callback;if(h!==null){if(u.callback=null,u=a,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Ts={},mn=Zn(Ts),Rs=Zn(Ts),Ps=Zn(Ts);function Dr(r){if(r===Ts)throw Error(n(174));return r}function Yc(r,s){switch(Le(Ps,s),Le(Rs,r),Le(mn,Ts),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ql(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ql(s,r)}Fe(mn),Le(mn,s)}function Ei(){Fe(mn),Fe(Rs),Fe(Ps)}function Op(r){Dr(Ps.current);var s=Dr(mn.current),a=Ql(s,r.type);s!==a&&(Le(Rs,r),Le(mn,a))}function Qc(r){Rs.current===r&&(Fe(mn),Fe(Rs))}var We=Zn(0);function ga(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Xc=[];function Zc(){for(var r=0;r<Xc.length;r++)Xc[r]._workInProgressVersionPrimary=null;Xc.length=0}var ya=$.ReactCurrentDispatcher,eu=$.ReactCurrentBatchConfig,Mr=0,He=null,nt=null,ot=null,va=!1,Ns=!1,As=0,Fx=0;function gt(){throw Error(n(321))}function tu(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!Qt(r[a],s[a]))return!1;return!0}function nu(r,s,a,u,h,m){if(Mr=m,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ya.current=r===null||r.memoizedState===null?Hx:$x,r=a(u,h),Ns){m=0;do{if(Ns=!1,As=0,25<=m)throw Error(n(301));m+=1,ot=nt=null,s.updateQueue=null,ya.current=Vx,r=a(u,h)}while(Ns)}if(ya.current=ba,s=nt!==null&&nt.next!==null,Mr=0,ot=nt=He=null,va=!1,s)throw Error(n(300));return r}function ru(){var r=As!==0;return As=0,r}function gn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?He.memoizedState=ot=r:ot=ot.next=r,ot}function $t(){if(nt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=nt.next;var s=ot===null?He.memoizedState:ot.next;if(s!==null)ot=s,nt=r;else{if(r===null)throw Error(n(310));nt=r,r={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?He.memoizedState=ot=r:ot=ot.next=r}return ot}function Os(r,s){return typeof s=="function"?s(r):s}function iu(r){var s=$t(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=nt,h=u.baseQueue,m=a.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}u.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,u=u.baseState;var w=_=null,S=null,A=m;do{var W=A.lane;if((Mr&W)===W)S!==null&&(S=S.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),u=A.hasEagerState?A.eagerState:r(u,A.action);else{var H={lane:W,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};S===null?(w=S=H,_=u):S=S.next=H,He.lanes|=W,zr|=W}A=A.next}while(A!==null&&A!==m);S===null?_=u:S.next=w,Qt(u,s.memoizedState)||(Tt=!0),s.memoizedState=u,s.baseState=_,s.baseQueue=S,a.lastRenderedState=u}if(r=a.interleaved,r!==null){h=r;do m=h.lane,He.lanes|=m,zr|=m,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function su(r){var s=$t(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=a.dispatch,h=a.pending,m=s.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=r(m,_.action),_=_.next;while(_!==h);Qt(m,s.memoizedState)||(Tt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,u]}function Lp(){}function Dp(r,s){var a=He,u=$t(),h=s(),m=!Qt(u.memoizedState,h);if(m&&(u.memoizedState=h,Tt=!0),u=u.queue,ou(Fp.bind(null,a,u,r),[r]),u.getSnapshot!==s||m||ot!==null&&ot.memoizedState.tag&1){if(a.flags|=2048,Ls(9,zp.bind(null,a,u,h,s),void 0,null),at===null)throw Error(n(349));(Mr&30)!==0||Mp(a,s,h)}return h}function Mp(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=He.updateQueue,s===null?(s={lastEffect:null,stores:null},He.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function zp(r,s,a,u){s.value=a,s.getSnapshot=u,Up(s)&&Bp(r)}function Fp(r,s,a){return a(function(){Up(s)&&Bp(r)})}function Up(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!Qt(r,a)}catch{return!0}}function Bp(r){var s=kn(r,1);s!==null&&nn(s,r,1,-1)}function Wp(r){var s=gn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},s.queue=r,r=r.dispatch=Wx.bind(null,He,r),[s.memoizedState,r]}function Ls(r,s,a,u){return r={tag:r,create:s,destroy:a,deps:u,next:null},s=He.updateQueue,s===null?(s={lastEffect:null,stores:null},He.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,s.lastEffect=r)),r}function Hp(){return $t().memoizedState}function _a(r,s,a,u){var h=gn();He.flags|=r,h.memoizedState=Ls(1|s,a,void 0,u===void 0?null:u)}function xa(r,s,a,u){var h=$t();u=u===void 0?null:u;var m=void 0;if(nt!==null){var _=nt.memoizedState;if(m=_.destroy,u!==null&&tu(u,_.deps)){h.memoizedState=Ls(s,a,m,u);return}}He.flags|=r,h.memoizedState=Ls(1|s,a,m,u)}function $p(r,s){return _a(8390656,8,r,s)}function ou(r,s){return xa(2048,8,r,s)}function Vp(r,s){return xa(4,2,r,s)}function Gp(r,s){return xa(4,4,r,s)}function qp(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Jp(r,s,a){return a=a!=null?a.concat([r]):null,xa(4,4,qp.bind(null,s,r),a)}function au(){}function Kp(r,s){var a=$t();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&tu(s,u[1])?u[0]:(a.memoizedState=[r,s],r)}function Yp(r,s){var a=$t();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&tu(s,u[1])?u[0]:(r=r(),a.memoizedState=[r,s],r)}function Qp(r,s,a){return(Mr&21)===0?(r.baseState&&(r.baseState=!1,Tt=!0),r.memoizedState=a):(Qt(a,s)||(a=kf(),He.lanes|=a,zr|=a,r.baseState=!0),s)}function Ux(r,s){var a=Ne;Ne=a!==0&&4>a?a:4,r(!0);var u=eu.transition;eu.transition={};try{r(!1),s()}finally{Ne=a,eu.transition=u}}function Xp(){return $t().memoizedState}function Bx(r,s,a){var u=ar(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},Zp(r))em(s,a);else if(a=Rp(r,s,a,u),a!==null){var h=wt();nn(a,r,u,h),tm(a,s,u)}}function Wx(r,s,a){var u=ar(r),h={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zp(r))em(s,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,w=m(_,a);if(h.hasEagerState=!0,h.eagerState=w,Qt(w,_)){var S=s.interleaved;S===null?(h.next=h,Jc(s)):(h.next=S.next,S.next=h),s.interleaved=h;return}}catch{}finally{}a=Rp(r,s,h,u),a!==null&&(h=wt(),nn(a,r,u,h),tm(a,s,u))}}function Zp(r){var s=r.alternate;return r===He||s!==null&&s===He}function em(r,s){Ns=va=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function tm(r,s,a){if((a&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,cc(r,a)}}var ba={readContext:Ht,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},Hx={readContext:Ht,useCallback:function(r,s){return gn().memoizedState=[r,s===void 0?null:s],r},useContext:Ht,useEffect:$p,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,_a(4194308,4,qp.bind(null,s,r),a)},useLayoutEffect:function(r,s){return _a(4194308,4,r,s)},useInsertionEffect:function(r,s){return _a(4,2,r,s)},useMemo:function(r,s){var a=gn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var u=gn();return s=a!==void 0?a(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=Bx.bind(null,He,r),[u.memoizedState,r]},useRef:function(r){var s=gn();return r={current:r},s.memoizedState=r},useState:Wp,useDebugValue:au,useDeferredValue:function(r){return gn().memoizedState=r},useTransition:function(){var r=Wp(!1),s=r[0];return r=Ux.bind(null,r[1]),gn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var u=He,h=gn();if(Ue){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),at===null)throw Error(n(349));(Mr&30)!==0||Mp(u,s,a)}h.memoizedState=a;var m={value:a,getSnapshot:s};return h.queue=m,$p(Fp.bind(null,u,m,r),[r]),u.flags|=2048,Ls(9,zp.bind(null,u,m,a,s),void 0,null),a},useId:function(){var r=gn(),s=at.identifierPrefix;if(Ue){var a=jn,u=En;a=(u&~(1<<32-Yt(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=As++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=Fx++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},$x={readContext:Ht,useCallback:Kp,useContext:Ht,useEffect:ou,useImperativeHandle:Jp,useInsertionEffect:Vp,useLayoutEffect:Gp,useMemo:Yp,useReducer:iu,useRef:Hp,useState:function(){return iu(Os)},useDebugValue:au,useDeferredValue:function(r){var s=$t();return Qp(s,nt.memoizedState,r)},useTransition:function(){var r=iu(Os)[0],s=$t().memoizedState;return[r,s]},useMutableSource:Lp,useSyncExternalStore:Dp,useId:Xp,unstable_isNewReconciler:!1},Vx={readContext:Ht,useCallback:Kp,useContext:Ht,useEffect:ou,useImperativeHandle:Jp,useInsertionEffect:Vp,useLayoutEffect:Gp,useMemo:Yp,useReducer:su,useRef:Hp,useState:function(){return su(Os)},useDebugValue:au,useDeferredValue:function(r){var s=$t();return nt===null?s.memoizedState=r:Qp(s,nt.memoizedState,r)},useTransition:function(){var r=su(Os)[0],s=$t().memoizedState;return[r,s]},useMutableSource:Lp,useSyncExternalStore:Dp,useId:Xp,unstable_isNewReconciler:!1};function Zt(r,s){if(r&&r.defaultProps){s=B({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function lu(r,s,a,u){s=r.memoizedState,a=a(u,s),a=a==null?s:B({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var wa={isMounted:function(r){return(r=r._reactInternals)?Rr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var u=wt(),h=ar(r),m=In(u,h);m.payload=s,a!=null&&(m.callback=a),s=rr(r,m,h),s!==null&&(nn(s,r,h,u),pa(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var u=wt(),h=ar(r),m=In(u,h);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=rr(r,m,h),s!==null&&(nn(s,r,h,u),pa(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=wt(),u=ar(r),h=In(a,u);h.tag=2,s!=null&&(h.callback=s),s=rr(r,h,u),s!==null&&(nn(s,r,u,a),pa(s,r,u))}};function nm(r,s,a,u,h,m,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,_):s.prototype&&s.prototype.isPureReactComponent?!bs(a,u)||!bs(h,m):!0}function rm(r,s,a){var u=!1,h=er,m=s.contextType;return typeof m=="object"&&m!==null?m=Ht(m):(h=It(s)?Nr:mt.current,u=s.contextTypes,m=(u=u!=null)?vi(r,h):er),s=new s(a,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=wa,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=m),s}function im(r,s,a,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==r&&wa.enqueueReplaceState(s,s.state,null)}function cu(r,s,a,u){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Kc(r);var m=s.contextType;typeof m=="object"&&m!==null?h.context=Ht(m):(m=It(s)?Nr:mt.current,h.context=vi(r,m)),h.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(lu(r,s,m,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&wa.enqueueReplaceState(h,h.state,null),ma(r,a,h,u),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function ji(r,s){try{var a="",u=s;do a+=Z(u),u=u.return;while(u);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:h,digest:null}}function uu(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function du(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var Gx=typeof WeakMap=="function"?WeakMap:Map;function sm(r,s,a){a=In(-1,a),a.tag=3,a.payload={element:null};var u=s.value;return a.callback=function(){Ta||(Ta=!0,ju=u),du(r,s)},a}function om(r,s,a){a=In(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var h=s.value;a.payload=function(){return u(h)},a.callback=function(){du(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){du(r,s),typeof u!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})}),a}function am(r,s,a){var u=r.pingCache;if(u===null){u=r.pingCache=new Gx;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(a)||(h.add(a),r=ob.bind(null,r,s,a),s.then(r,r))}function lm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function cm(r,s,a,u,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=In(-1,1),s.tag=2,rr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var qx=$.ReactCurrentOwner,Tt=!1;function bt(r,s,a,u){s.child=r===null?Tp(s,null,a,u):wi(s,r.child,a,u)}function um(r,s,a,u,h){a=a.render;var m=s.ref;return Ci(s,h),u=nu(r,s,a,u,m,h),a=ru(),r!==null&&!Tt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Tn(r,s,h)):(Ue&&a&&Fc(s),s.flags|=1,bt(r,s,u,h),s.child)}function dm(r,s,a,u,h){if(r===null){var m=a.type;return typeof m=="function"&&!Au(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=m,hm(r,s,m,u,h)):(r=La(a.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&h)===0){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:bs,a(_,u)&&r.ref===s.ref)return Tn(r,s,h)}return s.flags|=1,r=cr(m,u),r.ref=s.ref,r.return=s,s.child=r}function hm(r,s,a,u,h){if(r!==null){var m=r.memoizedProps;if(bs(m,u)&&r.ref===s.ref)if(Tt=!1,s.pendingProps=u=m,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Tt=!0);else return s.lanes=r.lanes,Tn(r,s,h)}return hu(r,s,a,u,h)}function fm(r,s,a){var u=s.pendingProps,h=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ii,Ft),Ft|=a;else{if((a&1073741824)===0)return r=m!==null?m.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Le(Ii,Ft),Ft|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=m!==null?m.baseLanes:a,Le(Ii,Ft),Ft|=u}else m!==null?(u=m.baseLanes|a,s.memoizedState=null):u=a,Le(Ii,Ft),Ft|=u;return bt(r,s,h,a),s.child}function pm(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function hu(r,s,a,u,h){var m=It(a)?Nr:mt.current;return m=vi(s,m),Ci(s,h),a=nu(r,s,a,u,m,h),u=ru(),r!==null&&!Tt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,Tn(r,s,h)):(Ue&&u&&Fc(s),s.flags|=1,bt(r,s,a,h),s.child)}function mm(r,s,a,u,h){if(It(a)){var m=!0;oa(s)}else m=!1;if(Ci(s,h),s.stateNode===null)Ca(r,s),rm(s,a,u),cu(s,a,u,h),u=!0;else if(r===null){var _=s.stateNode,w=s.memoizedProps;_.props=w;var S=_.context,A=a.contextType;typeof A=="object"&&A!==null?A=Ht(A):(A=It(a)?Nr:mt.current,A=vi(s,A));var W=a.getDerivedStateFromProps,H=typeof W=="function"||typeof _.getSnapshotBeforeUpdate=="function";H||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||S!==A)&&im(s,_,u,A),nr=!1;var F=s.memoizedState;_.state=F,ma(s,u,_,h),S=s.memoizedState,w!==u||F!==S||kt.current||nr?(typeof W=="function"&&(lu(s,a,W,u),S=s.memoizedState),(w=nr||nm(s,a,w,u,F,S,A))?(H||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=S),_.props=u,_.state=S,_.context=A,u=w):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,Pp(r,s),w=s.memoizedProps,A=s.type===s.elementType?w:Zt(s.type,w),_.props=A,H=s.pendingProps,F=_.context,S=a.contextType,typeof S=="object"&&S!==null?S=Ht(S):(S=It(a)?Nr:mt.current,S=vi(s,S));var ee=a.getDerivedStateFromProps;(W=typeof ee=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==H||F!==S)&&im(s,_,u,S),nr=!1,F=s.memoizedState,_.state=F,ma(s,u,_,h);var ne=s.memoizedState;w!==H||F!==ne||kt.current||nr?(typeof ee=="function"&&(lu(s,a,ee,u),ne=s.memoizedState),(A=nr||nm(s,a,A,u,F,ne,S)||!1)?(W||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,ne,S),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,ne,S)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ne),_.props=u,_.state=ne,_.context=S,u=A):(typeof _.componentDidUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&F===r.memoizedState||(s.flags|=1024),u=!1)}return fu(r,s,a,u,m,h)}function fu(r,s,a,u,h,m){pm(r,s);var _=(s.flags&128)!==0;if(!u&&!_)return h&&xp(s,a,!1),Tn(r,s,m);u=s.stateNode,qx.current=s;var w=_&&typeof a.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&_?(s.child=wi(s,r.child,null,m),s.child=wi(s,null,w,m)):bt(r,s,w,m),s.memoizedState=u.state,h&&xp(s,a,!0),s.child}function gm(r){var s=r.stateNode;s.pendingContext?vp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&vp(r,s.context,!1),Yc(r,s.containerInfo)}function ym(r,s,a,u,h){return bi(),Hc(h),s.flags|=256,bt(r,s,a,u),s.child}var pu={dehydrated:null,treeContext:null,retryLane:0};function mu(r){return{baseLanes:r,cachePool:null,transitions:null}}function vm(r,s,a){var u=s.pendingProps,h=We.current,m=!1,_=(s.flags&128)!==0,w;if((w=_)||(w=r!==null&&r.memoizedState===null?!1:(h&2)!==0),w?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),Le(We,h&1),r===null)return Wc(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(_=u.children,r=u.fallback,m?(u=s.mode,m=s.child,_={mode:"hidden",children:_},(u&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=_):m=Da(_,u,0,null),r=Wr(r,u,a,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=mu(a),s.memoizedState=pu,r):gu(s,_));if(h=r.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return Jx(r,s,_,u,w,h,a);if(m){m=u.fallback,_=s.mode,h=r.child,w=h.sibling;var S={mode:"hidden",children:u.children};return(_&1)===0&&s.child!==h?(u=s.child,u.childLanes=0,u.pendingProps=S,s.deletions=null):(u=cr(h,S),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?m=cr(w,m):(m=Wr(m,_,a,null),m.flags|=2),m.return=s,u.return=s,u.sibling=m,s.child=u,u=m,m=s.child,_=r.child.memoizedState,_=_===null?mu(a):{baseLanes:_.baseLanes|a,cachePool:null,transitions:_.transitions},m.memoizedState=_,m.childLanes=r.childLanes&~a,s.memoizedState=pu,u}return m=r.child,r=m.sibling,u=cr(m,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=a),u.return=s,u.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=u,s.memoizedState=null,u}function gu(r,s){return s=Da({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Sa(r,s,a,u){return u!==null&&Hc(u),wi(s,r.child,null,a),r=gu(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Jx(r,s,a,u,h,m,_){if(a)return s.flags&256?(s.flags&=-257,u=uu(Error(n(422))),Sa(r,s,_,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=u.fallback,h=s.mode,u=Da({mode:"visible",children:u.children},h,0,null),m=Wr(m,h,_,null),m.flags|=2,u.return=s,m.return=s,u.sibling=m,s.child=u,(s.mode&1)!==0&&wi(s,r.child,null,_),s.child.memoizedState=mu(_),s.memoizedState=pu,m);if((s.mode&1)===0)return Sa(r,s,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,m=Error(n(419)),u=uu(m,u,void 0),Sa(r,s,_,u)}if(w=(_&r.childLanes)!==0,Tt||w){if(u=at,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|_))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,kn(r,h),nn(u,r,h,-1))}return Nu(),u=uu(Error(n(421))),Sa(r,s,_,u)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=ab.bind(null,r),h._reactRetry=s,null):(r=m.treeContext,zt=Xn(h.nextSibling),Mt=s,Ue=!0,Xt=null,r!==null&&(Bt[Wt++]=En,Bt[Wt++]=jn,Bt[Wt++]=Ar,En=r.id,jn=r.overflow,Ar=s),s=gu(s,u.children),s.flags|=4096,s)}function _m(r,s,a){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),qc(r.return,s,a)}function yu(r,s,a,u,h){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:h}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=a,m.tailMode=h)}function xm(r,s,a){var u=s.pendingProps,h=u.revealOrder,m=u.tail;if(bt(r,s,u.children,a),u=We.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_m(r,a,s);else if(r.tag===19)_m(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Le(We,u),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&ga(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),yu(s,!1,h,a,m);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&ga(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}yu(s,!0,a,null,m);break;case"together":yu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ca(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Tn(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),zr|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=cr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=cr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Kx(r,s,a){switch(s.tag){case 3:gm(s),bi();break;case 5:Op(s);break;case 1:It(s.type)&&oa(s);break;case 4:Yc(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,h=s.memoizedProps.value;Le(ha,u._currentValue),u._currentValue=h;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(Le(We,We.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?vm(r,s,a):(Le(We,We.current&1),r=Tn(r,s,a),r!==null?r.sibling:null);Le(We,We.current&1);break;case 19:if(u=(a&s.childLanes)!==0,(r.flags&128)!==0){if(u)return xm(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Le(We,We.current),u)break;return null;case 22:case 23:return s.lanes=0,fm(r,s,a)}return Tn(r,s,a)}var bm,vu,wm,Sm;bm=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},vu=function(){},wm=function(r,s,a,u){var h=r.memoizedProps;if(h!==u){r=s.stateNode,Dr(mn.current);var m=null;switch(a){case"input":h=ql(r,h),u=ql(r,u),m=[];break;case"select":h=B({},h,{value:void 0}),u=B({},u,{value:void 0}),m=[];break;case"textarea":h=Yl(r,h),u=Yl(r,u),m=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=ra)}Xl(a,u);var _;a=null;for(A in h)if(!u.hasOwnProperty(A)&&h.hasOwnProperty(A)&&h[A]!=null)if(A==="style"){var w=h[A];for(_ in w)w.hasOwnProperty(_)&&(a||(a={}),a[_]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(o.hasOwnProperty(A)?m||(m=[]):(m=m||[]).push(A,null));for(A in u){var S=u[A];if(w=h!=null?h[A]:void 0,u.hasOwnProperty(A)&&S!==w&&(S!=null||w!=null))if(A==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||S&&S.hasOwnProperty(_)||(a||(a={}),a[_]="");for(_ in S)S.hasOwnProperty(_)&&w[_]!==S[_]&&(a||(a={}),a[_]=S[_])}else a||(m||(m=[]),m.push(A,a)),a=S;else A==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(m=m||[]).push(A,S)):A==="children"?typeof S!="string"&&typeof S!="number"||(m=m||[]).push(A,""+S):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(o.hasOwnProperty(A)?(S!=null&&A==="onScroll"&&ze("scroll",r),m||w===S||(m=[])):(m=m||[]).push(A,S))}a&&(m=m||[]).push("style",a);var A=m;(s.updateQueue=A)&&(s.flags|=4)}},Sm=function(r,s,a,u){a!==u&&(s.flags|=4)};function Ds(r,s){if(!Ue)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function yt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=a,s}function Yx(r,s,a){var u=s.pendingProps;switch(Uc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(s),null;case 1:return It(s.type)&&sa(),yt(s),null;case 3:return u=s.stateNode,Ei(),Fe(kt),Fe(mt),Zc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(ua(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xt!==null&&(Tu(Xt),Xt=null))),vu(r,s),yt(s),null;case 5:Qc(s);var h=Dr(Ps.current);if(a=s.type,r!==null&&s.stateNode!=null)wm(r,s,a,u,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(n(166));return yt(s),null}if(r=Dr(mn.current),ua(s)){u=s.stateNode,a=s.type;var m=s.memoizedProps;switch(u[pn]=s,u[js]=m,r=(s.mode&1)!==0,a){case"dialog":ze("cancel",u),ze("close",u);break;case"iframe":case"object":case"embed":ze("load",u);break;case"video":case"audio":for(h=0;h<Ss.length;h++)ze(Ss[h],u);break;case"source":ze("error",u);break;case"img":case"image":case"link":ze("error",u),ze("load",u);break;case"details":ze("toggle",u);break;case"input":nf(u,m),ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!m.multiple},ze("invalid",u);break;case"textarea":of(u,m),ze("invalid",u)}Xl(a,m),h=null;for(var _ in m)if(m.hasOwnProperty(_)){var w=m[_];_==="children"?typeof w=="string"?u.textContent!==w&&(m.suppressHydrationWarning!==!0&&na(u.textContent,w,r),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(m.suppressHydrationWarning!==!0&&na(u.textContent,w,r),h=["children",""+w]):o.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&ze("scroll",u)}switch(a){case"input":si(u),sf(u,m,!0);break;case"textarea":si(u),lf(u);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(u.onclick=ra)}u=h,s.updateQueue=u,u!==null&&(s.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=cf(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=_.createElement(a,{is:u.is}):(r=_.createElement(a),a==="select"&&(_=r,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):r=_.createElementNS(r,a),r[pn]=s,r[js]=u,bm(r,s,!1,!1),s.stateNode=r;e:{switch(_=Zl(a,u),a){case"dialog":ze("cancel",r),ze("close",r),h=u;break;case"iframe":case"object":case"embed":ze("load",r),h=u;break;case"video":case"audio":for(h=0;h<Ss.length;h++)ze(Ss[h],r);h=u;break;case"source":ze("error",r),h=u;break;case"img":case"image":case"link":ze("error",r),ze("load",r),h=u;break;case"details":ze("toggle",r),h=u;break;case"input":nf(r,u),h=ql(r,u),ze("invalid",r);break;case"option":h=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},h=B({},u,{value:void 0}),ze("invalid",r);break;case"textarea":of(r,u),h=Yl(r,u),ze("invalid",r);break;default:h=u}Xl(a,h),w=h;for(m in w)if(w.hasOwnProperty(m)){var S=w[m];m==="style"?hf(r,S):m==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&uf(r,S)):m==="children"?typeof S=="string"?(a!=="textarea"||S!=="")&&is(r,S):typeof S=="number"&&is(r,""+S):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?S!=null&&m==="onScroll"&&ze("scroll",r):S!=null&&O(r,m,S,_))}switch(a){case"input":si(r),sf(r,u,!1);break;case"textarea":si(r),lf(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ye(u.value));break;case"select":r.multiple=!!u.multiple,m=u.value,m!=null?oi(r,!!u.multiple,m,!1):u.defaultValue!=null&&oi(r,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=ra)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return yt(s),null;case 6:if(r&&s.stateNode!=null)Sm(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(a=Dr(Ps.current),Dr(mn.current),ua(s)){if(u=s.stateNode,a=s.memoizedProps,u[pn]=s,(m=u.nodeValue!==a)&&(r=Mt,r!==null))switch(r.tag){case 3:na(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&na(u.nodeValue,a,(r.mode&1)!==0)}m&&(s.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[pn]=s,s.stateNode=u}return yt(s),null;case 13:if(Fe(We),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ue&&zt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)jp(),bi(),s.flags|=98560,m=!1;else if(m=ua(s),u!==null&&u.dehydrated!==null){if(r===null){if(!m)throw Error(n(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[pn]=s}else bi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;yt(s),m=!1}else Xt!==null&&(Tu(Xt),Xt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(We.current&1)!==0?rt===0&&(rt=3):Nu())),s.updateQueue!==null&&(s.flags|=4),yt(s),null);case 4:return Ei(),vu(r,s),r===null&&Cs(s.stateNode.containerInfo),yt(s),null;case 10:return Gc(s.type._context),yt(s),null;case 17:return It(s.type)&&sa(),yt(s),null;case 19:if(Fe(We),m=s.memoizedState,m===null)return yt(s),null;if(u=(s.flags&128)!==0,_=m.rendering,_===null)if(u)Ds(m,!1);else{if(rt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(_=ga(r),_!==null){for(s.flags|=128,Ds(m,!1),u=_.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=a,a=s.child;a!==null;)m=a,r=u,m.flags&=14680066,_=m.alternate,_===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=_.childLanes,m.lanes=_.lanes,m.child=_.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=_.memoizedProps,m.memoizedState=_.memoizedState,m.updateQueue=_.updateQueue,m.type=_.type,r=_.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Le(We,We.current&1|2),s.child}r=r.sibling}m.tail!==null&&Ke()>Ti&&(s.flags|=128,u=!0,Ds(m,!1),s.lanes=4194304)}else{if(!u)if(r=ga(_),r!==null){if(s.flags|=128,u=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ds(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!Ue)return yt(s),null}else 2*Ke()-m.renderingStartTime>Ti&&a!==1073741824&&(s.flags|=128,u=!0,Ds(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(a=m.last,a!==null?a.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=Ke(),s.sibling=null,a=We.current,Le(We,u?a&1|2:a&1),s):(yt(s),null);case 22:case 23:return Pu(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Ft&1073741824)!==0&&(yt(s),s.subtreeFlags&6&&(s.flags|=8192)):yt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function Qx(r,s){switch(Uc(s),s.tag){case 1:return It(s.type)&&sa(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ei(),Fe(kt),Fe(mt),Zc(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Qc(s),null;case 13:if(Fe(We),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));bi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Fe(We),null;case 4:return Ei(),null;case 10:return Gc(s.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var Ea=!1,vt=!1,Xx=typeof WeakSet=="function"?WeakSet:Set,te=null;function ki(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){$e(r,s,u)}else a.current=null}function _u(r,s,a){try{a()}catch(u){$e(r,s,u)}}var Cm=!1;function Zx(r,s){if(Pc=Vo,r=np(),Sc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,w=-1,S=-1,A=0,W=0,H=r,F=null;t:for(;;){for(var ee;H!==a||h!==0&&H.nodeType!==3||(w=_+h),H!==m||u!==0&&H.nodeType!==3||(S=_+u),H.nodeType===3&&(_+=H.nodeValue.length),(ee=H.firstChild)!==null;)F=H,H=ee;for(;;){if(H===r)break t;if(F===a&&++A===h&&(w=_),F===m&&++W===u&&(S=_),(ee=H.nextSibling)!==null)break;H=F,F=H.parentNode}H=ee}a=w===-1||S===-1?null:{start:w,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nc={focusedElem:r,selectionRange:a},Vo=!1,te=s;te!==null;)if(s=te,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,te=r;else for(;te!==null;){s=te;try{var ne=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,Ye=ne.memoizedState,R=s.stateNode,I=R.getSnapshotBeforeUpdate(s.elementType===s.type?re:Zt(s.type,re),Ye);R.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var P=s.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(q){$e(s,s.return,q)}if(r=s.sibling,r!==null){r.return=s.return,te=r;break}te=s.return}return ne=Cm,Cm=!1,ne}function Ms(r,s,a){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&r)===r){var m=h.destroy;h.destroy=void 0,m!==void 0&&_u(s,a,m)}h=h.next}while(h!==u)}}function ja(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==s)}}function xu(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Em(r){var s=r.alternate;s!==null&&(r.alternate=null,Em(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[pn],delete s[js],delete s[Dc],delete s[Lx],delete s[Dx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jm(r){return r.tag===5||r.tag===3||r.tag===4}function km(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bu(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ra));else if(u!==4&&(r=r.child,r!==null))for(bu(r,s,a),r=r.sibling;r!==null;)bu(r,s,a),r=r.sibling}function wu(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(wu(r,s,a),r=r.sibling;r!==null;)wu(r,s,a),r=r.sibling}var dt=null,en=!1;function ir(r,s,a){for(a=a.child;a!==null;)Im(r,s,a),a=a.sibling}function Im(r,s,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Fo,a)}catch{}switch(a.tag){case 5:vt||ki(a,s);case 6:var u=dt,h=en;dt=null,ir(r,s,a),dt=u,en=h,dt!==null&&(en?(r=dt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):dt.removeChild(a.stateNode));break;case 18:dt!==null&&(en?(r=dt,a=a.stateNode,r.nodeType===8?Lc(r.parentNode,a):r.nodeType===1&&Lc(r,a),ms(r)):Lc(dt,a.stateNode));break;case 4:u=dt,h=en,dt=a.stateNode.containerInfo,en=!0,ir(r,s,a),dt=u,en=h;break;case 0:case 11:case 14:case 15:if(!vt&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var m=h,_=m.destroy;m=m.tag,_!==void 0&&((m&2)!==0||(m&4)!==0)&&_u(a,s,_),h=h.next}while(h!==u)}ir(r,s,a);break;case 1:if(!vt&&(ki(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(w){$e(a,s,w)}ir(r,s,a);break;case 21:ir(r,s,a);break;case 22:a.mode&1?(vt=(u=vt)||a.memoizedState!==null,ir(r,s,a),vt=u):ir(r,s,a);break;default:ir(r,s,a)}}function Tm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new Xx),s.forEach(function(u){var h=lb.bind(null,r,u);a.has(u)||(a.add(u),u.then(h,h))})}}function tn(r,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];try{var m=r,_=s,w=_;e:for(;w!==null;){switch(w.tag){case 5:dt=w.stateNode,en=!1;break e;case 3:dt=w.stateNode.containerInfo,en=!0;break e;case 4:dt=w.stateNode.containerInfo,en=!0;break e}w=w.return}if(dt===null)throw Error(n(160));Im(m,_,h),dt=null,en=!1;var S=h.alternate;S!==null&&(S.return=null),h.return=null}catch(A){$e(h,s,A)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rm(s,r),s=s.sibling}function Rm(r,s){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(tn(s,r),yn(r),u&4){try{Ms(3,r,r.return),ja(3,r)}catch(re){$e(r,r.return,re)}try{Ms(5,r,r.return)}catch(re){$e(r,r.return,re)}}break;case 1:tn(s,r),yn(r),u&512&&a!==null&&ki(a,a.return);break;case 5:if(tn(s,r),yn(r),u&512&&a!==null&&ki(a,a.return),r.flags&32){var h=r.stateNode;try{is(h,"")}catch(re){$e(r,r.return,re)}}if(u&4&&(h=r.stateNode,h!=null)){var m=r.memoizedProps,_=a!==null?a.memoizedProps:m,w=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{w==="input"&&m.type==="radio"&&m.name!=null&&rf(h,m),Zl(w,_);var A=Zl(w,m);for(_=0;_<S.length;_+=2){var W=S[_],H=S[_+1];W==="style"?hf(h,H):W==="dangerouslySetInnerHTML"?uf(h,H):W==="children"?is(h,H):O(h,W,H,A)}switch(w){case"input":Jl(h,m);break;case"textarea":af(h,m);break;case"select":var F=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var ee=m.value;ee!=null?oi(h,!!m.multiple,ee,!1):F!==!!m.multiple&&(m.defaultValue!=null?oi(h,!!m.multiple,m.defaultValue,!0):oi(h,!!m.multiple,m.multiple?[]:"",!1))}h[js]=m}catch(re){$e(r,r.return,re)}}break;case 6:if(tn(s,r),yn(r),u&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,m=r.memoizedProps;try{h.nodeValue=m}catch(re){$e(r,r.return,re)}}break;case 3:if(tn(s,r),yn(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{ms(s.containerInfo)}catch(re){$e(r,r.return,re)}break;case 4:tn(s,r),yn(r);break;case 13:tn(s,r),yn(r),h=r.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(Eu=Ke())),u&4&&Tm(r);break;case 22:if(W=a!==null&&a.memoizedState!==null,r.mode&1?(vt=(A=vt)||W,tn(s,r),vt=A):tn(s,r),yn(r),u&8192){if(A=r.memoizedState!==null,(r.stateNode.isHidden=A)&&!W&&(r.mode&1)!==0)for(te=r,W=r.child;W!==null;){for(H=te=W;te!==null;){switch(F=te,ee=F.child,F.tag){case 0:case 11:case 14:case 15:Ms(4,F,F.return);break;case 1:ki(F,F.return);var ne=F.stateNode;if(typeof ne.componentWillUnmount=="function"){u=F,a=F.return;try{s=u,ne.props=s.memoizedProps,ne.state=s.memoizedState,ne.componentWillUnmount()}catch(re){$e(u,a,re)}}break;case 5:ki(F,F.return);break;case 22:if(F.memoizedState!==null){Am(H);continue}}ee!==null?(ee.return=F,te=ee):Am(H)}W=W.sibling}e:for(W=null,H=r;;){if(H.tag===5){if(W===null){W=H;try{h=H.stateNode,A?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(w=H.stateNode,S=H.memoizedProps.style,_=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=df("display",_))}catch(re){$e(r,r.return,re)}}}else if(H.tag===6){if(W===null)try{H.stateNode.nodeValue=A?"":H.memoizedProps}catch(re){$e(r,r.return,re)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===r)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===r)break e;for(;H.sibling===null;){if(H.return===null||H.return===r)break e;W===H&&(W=null),H=H.return}W===H&&(W=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:tn(s,r),yn(r),u&4&&Tm(r);break;case 21:break;default:tn(s,r),yn(r)}}function yn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(jm(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(is(h,""),u.flags&=-33);var m=km(r);wu(r,m,h);break;case 3:case 4:var _=u.stateNode.containerInfo,w=km(r);bu(r,w,_);break;default:throw Error(n(161))}}catch(S){$e(r,r.return,S)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function eb(r,s,a){te=r,Pm(r)}function Pm(r,s,a){for(var u=(r.mode&1)!==0;te!==null;){var h=te,m=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||Ea;if(!_){var w=h.alternate,S=w!==null&&w.memoizedState!==null||vt;w=Ea;var A=vt;if(Ea=_,(vt=S)&&!A)for(te=h;te!==null;)_=te,S=_.child,_.tag===22&&_.memoizedState!==null?Om(h):S!==null?(S.return=_,te=S):Om(h);for(;m!==null;)te=m,Pm(m),m=m.sibling;te=h,Ea=w,vt=A}Nm(r)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,te=m):Nm(r)}}function Nm(r){for(;te!==null;){var s=te;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:vt||ja(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!vt)if(a===null)u.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:Zt(s.type,a.memoizedProps);u.componentDidUpdate(h,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Ap(s,m,u);break;case 3:var _=s.updateQueue;if(_!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Ap(s,_,a)}break;case 5:var w=s.stateNode;if(a===null&&s.flags&4){a=w;var S=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&a.focus();break;case"img":S.src&&(a.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var A=s.alternate;if(A!==null){var W=A.memoizedState;if(W!==null){var H=W.dehydrated;H!==null&&ms(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vt||s.flags&512&&xu(s)}catch(F){$e(s,s.return,F)}}if(s===r){te=null;break}if(a=s.sibling,a!==null){a.return=s.return,te=a;break}te=s.return}}function Am(r){for(;te!==null;){var s=te;if(s===r){te=null;break}var a=s.sibling;if(a!==null){a.return=s.return,te=a;break}te=s.return}}function Om(r){for(;te!==null;){var s=te;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{ja(4,s)}catch(S){$e(s,a,S)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var h=s.return;try{u.componentDidMount()}catch(S){$e(s,h,S)}}var m=s.return;try{xu(s)}catch(S){$e(s,m,S)}break;case 5:var _=s.return;try{xu(s)}catch(S){$e(s,_,S)}}}catch(S){$e(s,s.return,S)}if(s===r){te=null;break}var w=s.sibling;if(w!==null){w.return=s.return,te=w;break}te=s.return}}var tb=Math.ceil,ka=$.ReactCurrentDispatcher,Su=$.ReactCurrentOwner,Vt=$.ReactCurrentBatchConfig,ke=0,at=null,Xe=null,ht=0,Ft=0,Ii=Zn(0),rt=0,zs=null,zr=0,Ia=0,Cu=0,Fs=null,Rt=null,Eu=0,Ti=1/0,Rn=null,Ta=!1,ju=null,sr=null,Ra=!1,or=null,Pa=0,Us=0,ku=null,Na=-1,Aa=0;function wt(){return(ke&6)!==0?Ke():Na!==-1?Na:Na=Ke()}function ar(r){return(r.mode&1)===0?1:(ke&2)!==0&&ht!==0?ht&-ht:zx.transition!==null?(Aa===0&&(Aa=kf()),Aa):(r=Ne,r!==0||(r=window.event,r=r===void 0?16:Df(r.type)),r)}function nn(r,s,a,u){if(50<Us)throw Us=0,ku=null,Error(n(185));us(r,a,u),((ke&2)===0||r!==at)&&(r===at&&((ke&2)===0&&(Ia|=a),rt===4&&lr(r,ht)),Pt(r,u),a===1&&ke===0&&(s.mode&1)===0&&(Ti=Ke()+500,aa&&tr()))}function Pt(r,s){var a=r.callbackNode;z0(r,s);var u=Wo(r,r===at?ht:0);if(u===0)a!==null&&Cf(a),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(a!=null&&Cf(a),s===1)r.tag===0?Mx(Dm.bind(null,r)):bp(Dm.bind(null,r)),Ax(function(){(ke&6)===0&&tr()}),a=null;else{switch(If(u)){case 1:a=oc;break;case 4:a=Ef;break;case 16:a=zo;break;case 536870912:a=jf;break;default:a=zo}a=$m(a,Lm.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Lm(r,s){if(Na=-1,Aa=0,(ke&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ri()&&r.callbackNode!==a)return null;var u=Wo(r,r===at?ht:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=Oa(r,u);else{s=u;var h=ke;ke|=2;var m=zm();(at!==r||ht!==s)&&(Rn=null,Ti=Ke()+500,Ur(r,s));do try{ib();break}catch(w){Mm(r,w)}while(!0);Vc(),ka.current=m,ke=h,Xe!==null?s=0:(at=null,ht=0,s=rt)}if(s!==0){if(s===2&&(h=ac(r),h!==0&&(u=h,s=Iu(r,h))),s===1)throw a=zs,Ur(r,0),lr(r,u),Pt(r,Ke()),a;if(s===6)lr(r,u);else{if(h=r.current.alternate,(u&30)===0&&!nb(h)&&(s=Oa(r,u),s===2&&(m=ac(r),m!==0&&(u=m,s=Iu(r,m))),s===1))throw a=zs,Ur(r,0),lr(r,u),Pt(r,Ke()),a;switch(r.finishedWork=h,r.finishedLanes=u,s){case 0:case 1:throw Error(n(345));case 2:Br(r,Rt,Rn);break;case 3:if(lr(r,u),(u&130023424)===u&&(s=Eu+500-Ke(),10<s)){if(Wo(r,0)!==0)break;if(h=r.suspendedLanes,(h&u)!==u){wt(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=Oc(Br.bind(null,r,Rt,Rn),s);break}Br(r,Rt,Rn);break;case 4:if(lr(r,u),(u&4194240)===u)break;for(s=r.eventTimes,h=-1;0<u;){var _=31-Yt(u);m=1<<_,_=s[_],_>h&&(h=_),u&=~m}if(u=h,u=Ke()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*tb(u/1960))-u,10<u){r.timeoutHandle=Oc(Br.bind(null,r,Rt,Rn),u);break}Br(r,Rt,Rn);break;case 5:Br(r,Rt,Rn);break;default:throw Error(n(329))}}}return Pt(r,Ke()),r.callbackNode===a?Lm.bind(null,r):null}function Iu(r,s){var a=Fs;return r.current.memoizedState.isDehydrated&&(Ur(r,s).flags|=256),r=Oa(r,s),r!==2&&(s=Rt,Rt=a,s!==null&&Tu(s)),r}function Tu(r){Rt===null?Rt=r:Rt.push.apply(Rt,r)}function nb(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var h=a[u],m=h.getSnapshot;h=h.value;try{if(!Qt(m(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function lr(r,s){for(s&=~Cu,s&=~Ia,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-Yt(s),u=1<<a;r[a]=-1,s&=~u}}function Dm(r){if((ke&6)!==0)throw Error(n(327));Ri();var s=Wo(r,0);if((s&1)===0)return Pt(r,Ke()),null;var a=Oa(r,s);if(r.tag!==0&&a===2){var u=ac(r);u!==0&&(s=u,a=Iu(r,u))}if(a===1)throw a=zs,Ur(r,0),lr(r,s),Pt(r,Ke()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Br(r,Rt,Rn),Pt(r,Ke()),null}function Ru(r,s){var a=ke;ke|=1;try{return r(s)}finally{ke=a,ke===0&&(Ti=Ke()+500,aa&&tr())}}function Fr(r){or!==null&&or.tag===0&&(ke&6)===0&&Ri();var s=ke;ke|=1;var a=Vt.transition,u=Ne;try{if(Vt.transition=null,Ne=1,r)return r()}finally{Ne=u,Vt.transition=a,ke=s,(ke&6)===0&&tr()}}function Pu(){Ft=Ii.current,Fe(Ii)}function Ur(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Nx(a)),Xe!==null)for(a=Xe.return;a!==null;){var u=a;switch(Uc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&sa();break;case 3:Ei(),Fe(kt),Fe(mt),Zc();break;case 5:Qc(u);break;case 4:Ei();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Gc(u.type._context);break;case 22:case 23:Pu()}a=a.return}if(at=r,Xe=r=cr(r.current,null),ht=Ft=s,rt=0,zs=null,Cu=Ia=zr=0,Rt=Fs=null,Lr!==null){for(s=0;s<Lr.length;s++)if(a=Lr[s],u=a.interleaved,u!==null){a.interleaved=null;var h=u.next,m=a.pending;if(m!==null){var _=m.next;m.next=h,u.next=_}a.pending=u}Lr=null}return r}function Mm(r,s){do{var a=Xe;try{if(Vc(),ya.current=ba,va){for(var u=He.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}va=!1}if(Mr=0,ot=nt=He=null,Ns=!1,As=0,Su.current=null,a===null||a.return===null){rt=1,zs=s,Xe=null;break}e:{var m=r,_=a.return,w=a,S=s;if(s=ht,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var A=S,W=w,H=W.tag;if((W.mode&1)===0&&(H===0||H===11||H===15)){var F=W.alternate;F?(W.updateQueue=F.updateQueue,W.memoizedState=F.memoizedState,W.lanes=F.lanes):(W.updateQueue=null,W.memoizedState=null)}var ee=lm(_);if(ee!==null){ee.flags&=-257,cm(ee,_,w,m,s),ee.mode&1&&am(m,A,s),s=ee,S=A;var ne=s.updateQueue;if(ne===null){var re=new Set;re.add(S),s.updateQueue=re}else ne.add(S);break e}else{if((s&1)===0){am(m,A,s),Nu();break e}S=Error(n(426))}}else if(Ue&&w.mode&1){var Ye=lm(_);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),cm(Ye,_,w,m,s),Hc(ji(S,w));break e}}m=S=ji(S,w),rt!==4&&(rt=2),Fs===null?Fs=[m]:Fs.push(m),m=_;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var R=sm(m,S,s);Np(m,R);break e;case 1:w=S;var I=m.type,P=m.stateNode;if((m.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(sr===null||!sr.has(P)))){m.flags|=65536,s&=-s,m.lanes|=s;var q=om(m,w,s);Np(m,q);break e}}m=m.return}while(m!==null)}Um(a)}catch(se){s=se,Xe===a&&a!==null&&(Xe=a=a.return);continue}break}while(!0)}function zm(){var r=ka.current;return ka.current=ba,r===null?ba:r}function Nu(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||(zr&268435455)===0&&(Ia&268435455)===0||lr(at,ht)}function Oa(r,s){var a=ke;ke|=2;var u=zm();(at!==r||ht!==s)&&(Rn=null,Ur(r,s));do try{rb();break}catch(h){Mm(r,h)}while(!0);if(Vc(),ke=a,ka.current=u,Xe!==null)throw Error(n(261));return at=null,ht=0,rt}function rb(){for(;Xe!==null;)Fm(Xe)}function ib(){for(;Xe!==null&&!T0();)Fm(Xe)}function Fm(r){var s=Hm(r.alternate,r,Ft);r.memoizedProps=r.pendingProps,s===null?Um(r):Xe=s,Su.current=null}function Um(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=Yx(a,s,Ft),a!==null){Xe=a;return}}else{if(a=Qx(a,s),a!==null){a.flags&=32767,Xe=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{rt=6,Xe=null;return}}if(s=s.sibling,s!==null){Xe=s;return}Xe=s=r}while(s!==null);rt===0&&(rt=5)}function Br(r,s,a){var u=Ne,h=Vt.transition;try{Vt.transition=null,Ne=1,sb(r,s,a,u)}finally{Vt.transition=h,Ne=u}return null}function sb(r,s,a,u){do Ri();while(or!==null);if((ke&6)!==0)throw Error(n(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var m=a.lanes|a.childLanes;if(F0(r,m),r===at&&(Xe=at=null,ht=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Ra||(Ra=!0,$m(zo,function(){return Ri(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Vt.transition,Vt.transition=null;var _=Ne;Ne=1;var w=ke;ke|=4,Su.current=null,Zx(r,a),Rm(a,r),Ex(Nc),Vo=!!Pc,Nc=Pc=null,r.current=a,eb(a),R0(),ke=w,Ne=_,Vt.transition=m}else r.current=a;if(Ra&&(Ra=!1,or=r,Pa=h),m=r.pendingLanes,m===0&&(sr=null),A0(a.stateNode),Pt(r,Ke()),s!==null)for(u=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],u(h.value,{componentStack:h.stack,digest:h.digest});if(Ta)throw Ta=!1,r=ju,ju=null,r;return(Pa&1)!==0&&r.tag!==0&&Ri(),m=r.pendingLanes,(m&1)!==0?r===ku?Us++:(Us=0,ku=r):Us=0,tr(),null}function Ri(){if(or!==null){var r=If(Pa),s=Vt.transition,a=Ne;try{if(Vt.transition=null,Ne=16>r?16:r,or===null)var u=!1;else{if(r=or,or=null,Pa=0,(ke&6)!==0)throw Error(n(331));var h=ke;for(ke|=4,te=r.current;te!==null;){var m=te,_=m.child;if((te.flags&16)!==0){var w=m.deletions;if(w!==null){for(var S=0;S<w.length;S++){var A=w[S];for(te=A;te!==null;){var W=te;switch(W.tag){case 0:case 11:case 15:Ms(8,W,m)}var H=W.child;if(H!==null)H.return=W,te=H;else for(;te!==null;){W=te;var F=W.sibling,ee=W.return;if(Em(W),W===A){te=null;break}if(F!==null){F.return=ee,te=F;break}te=ee}}}var ne=m.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var Ye=re.sibling;re.sibling=null,re=Ye}while(re!==null)}}te=m}}if((m.subtreeFlags&2064)!==0&&_!==null)_.return=m,te=_;else e:for(;te!==null;){if(m=te,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Ms(9,m,m.return)}var R=m.sibling;if(R!==null){R.return=m.return,te=R;break e}te=m.return}}var I=r.current;for(te=I;te!==null;){_=te;var P=_.child;if((_.subtreeFlags&2064)!==0&&P!==null)P.return=_,te=P;else e:for(_=I;te!==null;){if(w=te,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ja(9,w)}}catch(se){$e(w,w.return,se)}if(w===_){te=null;break e}var q=w.sibling;if(q!==null){q.return=w.return,te=q;break e}te=w.return}}if(ke=h,tr(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Fo,r)}catch{}u=!0}return u}finally{Ne=a,Vt.transition=s}}return!1}function Bm(r,s,a){s=ji(a,s),s=sm(r,s,1),r=rr(r,s,1),s=wt(),r!==null&&(us(r,1,s),Pt(r,s))}function $e(r,s,a){if(r.tag===3)Bm(r,r,a);else for(;s!==null;){if(s.tag===3){Bm(s,r,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(sr===null||!sr.has(u))){r=ji(a,r),r=om(s,r,1),s=rr(s,r,1),r=wt(),s!==null&&(us(s,1,r),Pt(s,r));break}}s=s.return}}function ob(r,s,a){var u=r.pingCache;u!==null&&u.delete(s),s=wt(),r.pingedLanes|=r.suspendedLanes&a,at===r&&(ht&a)===a&&(rt===4||rt===3&&(ht&130023424)===ht&&500>Ke()-Eu?Ur(r,0):Cu|=a),Pt(r,s)}function Wm(r,s){s===0&&((r.mode&1)===0?s=1:(s=Bo,Bo<<=1,(Bo&130023424)===0&&(Bo=4194304)));var a=wt();r=kn(r,s),r!==null&&(us(r,s,a),Pt(r,a))}function ab(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Wm(r,a)}function lb(r,s){var a=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(s),Wm(r,a)}var Hm;Hm=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||kt.current)Tt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Tt=!1,Kx(r,s,a);Tt=(r.flags&131072)!==0}else Tt=!1,Ue&&(s.flags&1048576)!==0&&wp(s,ca,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;Ca(r,s),r=s.pendingProps;var h=vi(s,mt.current);Ci(s,a),h=nu(null,s,u,r,h,a);var m=ru();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,It(u)?(m=!0,oa(s)):m=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Kc(s),h.updater=wa,s.stateNode=h,h._reactInternals=s,cu(s,u,r,a),s=fu(null,s,u,!0,m,a)):(s.tag=0,Ue&&m&&Fc(s),bt(null,s,h,a),s=s.child),s;case 16:u=s.elementType;e:{switch(Ca(r,s),r=s.pendingProps,h=u._init,u=h(u._payload),s.type=u,h=s.tag=ub(u),r=Zt(u,r),h){case 0:s=hu(null,s,u,r,a);break e;case 1:s=mm(null,s,u,r,a);break e;case 11:s=um(null,s,u,r,a);break e;case 14:s=dm(null,s,u,Zt(u.type,r),a);break e}throw Error(n(306,u,""))}return s;case 0:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Zt(u,h),hu(r,s,u,h,a);case 1:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Zt(u,h),mm(r,s,u,h,a);case 3:e:{if(gm(s),r===null)throw Error(n(387));u=s.pendingProps,m=s.memoizedState,h=m.element,Pp(r,s),ma(s,u,null,a);var _=s.memoizedState;if(u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){h=ji(Error(n(423)),s),s=ym(r,s,u,a,h);break e}else if(u!==h){h=ji(Error(n(424)),s),s=ym(r,s,u,a,h);break e}else for(zt=Xn(s.stateNode.containerInfo.firstChild),Mt=s,Ue=!0,Xt=null,a=Tp(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(bi(),u===h){s=Tn(r,s,a);break e}bt(r,s,u,a)}s=s.child}return s;case 5:return Op(s),r===null&&Wc(s),u=s.type,h=s.pendingProps,m=r!==null?r.memoizedProps:null,_=h.children,Ac(u,h)?_=null:m!==null&&Ac(u,m)&&(s.flags|=32),pm(r,s),bt(r,s,_,a),s.child;case 6:return r===null&&Wc(s),null;case 13:return vm(r,s,a);case 4:return Yc(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=wi(s,null,u,a):bt(r,s,u,a),s.child;case 11:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Zt(u,h),um(r,s,u,h,a);case 7:return bt(r,s,s.pendingProps,a),s.child;case 8:return bt(r,s,s.pendingProps.children,a),s.child;case 12:return bt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(u=s.type._context,h=s.pendingProps,m=s.memoizedProps,_=h.value,Le(ha,u._currentValue),u._currentValue=_,m!==null)if(Qt(m.value,_)){if(m.children===h.children&&!kt.current){s=Tn(r,s,a);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var w=m.dependencies;if(w!==null){_=m.child;for(var S=w.firstContext;S!==null;){if(S.context===u){if(m.tag===1){S=In(-1,a&-a),S.tag=2;var A=m.updateQueue;if(A!==null){A=A.shared;var W=A.pending;W===null?S.next=S:(S.next=W.next,W.next=S),A.pending=S}}m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),qc(m.return,a,s),w.lanes|=a;break}S=S.next}}else if(m.tag===10)_=m.type===s.type?null:m.child;else if(m.tag===18){if(_=m.return,_===null)throw Error(n(341));_.lanes|=a,w=_.alternate,w!==null&&(w.lanes|=a),qc(_,a,s),_=m.sibling}else _=m.child;if(_!==null)_.return=m;else for(_=m;_!==null;){if(_===s){_=null;break}if(m=_.sibling,m!==null){m.return=_.return,_=m;break}_=_.return}m=_}bt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,u=s.pendingProps.children,Ci(s,a),h=Ht(h),u=u(h),s.flags|=1,bt(r,s,u,a),s.child;case 14:return u=s.type,h=Zt(u,s.pendingProps),h=Zt(u.type,h),dm(r,s,u,h,a);case 15:return hm(r,s,s.type,s.pendingProps,a);case 17:return u=s.type,h=s.pendingProps,h=s.elementType===u?h:Zt(u,h),Ca(r,s),s.tag=1,It(u)?(r=!0,oa(s)):r=!1,Ci(s,a),rm(s,u,h),cu(s,u,h,a),fu(null,s,u,!0,r,a);case 19:return xm(r,s,a);case 22:return fm(r,s,a)}throw Error(n(156,s.tag))};function $m(r,s){return Sf(r,s)}function cb(r,s,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(r,s,a,u){return new cb(r,s,a,u)}function Au(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ub(r){if(typeof r=="function")return Au(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ge)return 11;if(r===_e)return 14}return 2}function cr(r,s){var a=r.alternate;return a===null?(a=Gt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function La(r,s,a,u,h,m){var _=2;if(u=r,typeof r=="function")Au(r)&&(_=1);else if(typeof r=="string")_=5;else e:switch(r){case G:return Wr(a.children,h,m,s);case K:_=8,h|=8;break;case X:return r=Gt(12,a,s,h|2),r.elementType=X,r.lanes=m,r;case V:return r=Gt(13,a,s,h),r.elementType=V,r.lanes=m,r;case me:return r=Gt(19,a,s,h),r.elementType=me,r.lanes=m,r;case oe:return Da(a,h,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Q:_=10;break e;case ae:_=9;break e;case ge:_=11;break e;case _e:_=14;break e;case Pe:_=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Gt(_,a,s,h),s.elementType=r,s.type=u,s.lanes=m,s}function Wr(r,s,a,u){return r=Gt(7,r,u,s),r.lanes=a,r}function Da(r,s,a,u){return r=Gt(22,r,u,s),r.elementType=oe,r.lanes=a,r.stateNode={isHidden:!1},r}function Ou(r,s,a){return r=Gt(6,r,null,s),r.lanes=a,r}function Lu(r,s,a){return s=Gt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function db(r,s,a,u,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Du(r,s,a,u,h,m,_,w,S){return r=new db(r,s,a,w,S),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Gt(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kc(m),r}function hb(r,s,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:u==null?null:""+u,children:r,containerInfo:s,implementation:a}}function Vm(r){if(!r)return er;r=r._reactInternals;e:{if(Rr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(It(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(It(a))return _p(r,a,s)}return s}function Gm(r,s,a,u,h,m,_,w,S){return r=Du(a,u,!0,r,h,m,_,w,S),r.context=Vm(null),a=r.current,u=wt(),h=ar(a),m=In(u,h),m.callback=s??null,rr(a,m,h),r.current.lanes=h,us(r,h,u),Pt(r,u),r}function Ma(r,s,a,u){var h=s.current,m=wt(),_=ar(h);return a=Vm(a),s.context===null?s.context=a:s.pendingContext=a,s=In(m,_),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=rr(h,s,_),r!==null&&(nn(r,h,_,m),pa(r,h,_)),_}function za(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function qm(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function Mu(r,s){qm(r,s),(r=r.alternate)&&qm(r,s)}function fb(){return null}var Jm=typeof reportError=="function"?reportError:function(r){console.error(r)};function zu(r){this._internalRoot=r}Fa.prototype.render=zu.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Ma(r,s,null,null)},Fa.prototype.unmount=zu.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Fr(function(){Ma(null,r,null,null)}),s[Sn]=null}};function Fa(r){this._internalRoot=r}Fa.prototype.unstable_scheduleHydration=function(r){if(r){var s=Pf();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Kn.length&&s!==0&&s<Kn[a].priority;a++);Kn.splice(a,0,r),a===0&&Of(r)}};function Fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ua(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Km(){}function pb(r,s,a,u,h){if(h){if(typeof u=="function"){var m=u;u=function(){var A=za(_);m.call(A)}}var _=Gm(s,u,r,0,null,!1,!1,"",Km);return r._reactRootContainer=_,r[Sn]=_.current,Cs(r.nodeType===8?r.parentNode:r),Fr(),_}for(;h=r.lastChild;)r.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var A=za(S);w.call(A)}}var S=Du(r,0,!1,null,null,!1,!1,"",Km);return r._reactRootContainer=S,r[Sn]=S.current,Cs(r.nodeType===8?r.parentNode:r),Fr(function(){Ma(s,S,a,u)}),S}function Ba(r,s,a,u,h){var m=a._reactRootContainer;if(m){var _=m;if(typeof h=="function"){var w=h;h=function(){var S=za(_);w.call(S)}}Ma(s,_,r,h)}else _=pb(a,s,r,h,u);return za(_)}Tf=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=cs(s.pendingLanes);a!==0&&(cc(s,a|1),Pt(s,Ke()),(ke&6)===0&&(Ti=Ke()+500,tr()))}break;case 13:Fr(function(){var u=kn(r,1);if(u!==null){var h=wt();nn(u,r,1,h)}}),Mu(r,1)}},uc=function(r){if(r.tag===13){var s=kn(r,134217728);if(s!==null){var a=wt();nn(s,r,134217728,a)}Mu(r,134217728)}},Rf=function(r){if(r.tag===13){var s=ar(r),a=kn(r,s);if(a!==null){var u=wt();nn(a,r,s,u)}Mu(r,s)}},Pf=function(){return Ne},Nf=function(r,s){var a=Ne;try{return Ne=r,s()}finally{Ne=a}},nc=function(r,s,a){switch(s){case"input":if(Jl(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==r&&u.form===r.form){var h=ia(u);if(!h)throw Error(n(90));tf(u),Jl(u,h)}}}break;case"textarea":af(r,a);break;case"select":s=a.value,s!=null&&oi(r,!!a.multiple,s,!1)}},gf=Ru,yf=Fr;var mb={usingClientEntryPoint:!1,Events:[ks,gi,ia,pf,mf,Ru]},Bs={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gb={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=bf(r),r===null?null:r.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||fb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{Fo=Wa.inject(gb),fn=Wa}catch{}}return Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mb,Nt.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fu(s))throw Error(n(200));return hb(r,s,null,a)},Nt.createRoot=function(r,s){if(!Fu(r))throw Error(n(299));var a=!1,u="",h=Jm;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Du(r,1,!1,null,null,a,!1,u,h),r[Sn]=s.current,Cs(r.nodeType===8?r.parentNode:r),new zu(s)},Nt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=bf(s),r=r===null?null:r.stateNode,r},Nt.flushSync=function(r){return Fr(r)},Nt.hydrate=function(r,s,a){if(!Ua(s))throw Error(n(200));return Ba(null,r,s,!0,a)},Nt.hydrateRoot=function(r,s,a){if(!Fu(r))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,h=!1,m="",_=Jm;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),s=Gm(s,null,r,1,a??null,h,!1,m,_),r[Sn]=s.current,Cs(r),u)for(r=0;r<u.length;r++)a=u[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new Fa(s)},Nt.render=function(r,s,a){if(!Ua(s))throw Error(n(200));return Ba(null,r,s,!1,a)},Nt.unmountComponentAtNode=function(r){if(!Ua(r))throw Error(n(40));return r._reactRootContainer?(Fr(function(){Ba(null,null,r,!1,function(){r._reactRootContainer=null,r[Sn]=null})}),!0):!1},Nt.unstable_batchedUpdates=Ru,Nt.unstable_renderSubtreeIntoContainer=function(r,s,a,u){if(!Ua(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ba(r,s,a,!1,u)},Nt.version="18.3.1-next-f1338f8080-20240426",Nt}var rg;function Oy(){if(rg)return Wu.exports;rg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Wu.exports=Eb(),Wu.exports}var ig;function jb(){if(ig)return Ha;ig=1;var t=Oy();return Ha.createRoot=t.createRoot,Ha.hydrateRoot=t.hydrateRoot,Ha}var kb=jb();const Ib=Ay(kb);Oy();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function so(){return so=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},so.apply(this,arguments)}var gr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(gr||(gr={}));const sg="popstate";function Tb(t){t===void 0&&(t={});function e(i,o){let{pathname:c,search:d,hash:f}=i.location;return fd("",{pathname:c,search:d,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:tl(o)}return Pb(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Bd(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rb(){return Math.random().toString(36).substr(2,8)}function og(t,e){return{usr:t.state,key:t.key,idx:e}}function fd(t,e,n,i){return n===void 0&&(n=null),so({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qi(e):e,{state:n,key:e&&e.key||i||Rb()})}function tl(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function qi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Pb(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,f=gr.Pop,p=null,g=v();g==null&&(g=0,d.replaceState(so({},d.state,{idx:g}),""));function v(){return(d.state||{idx:null}).idx}function y(){f=gr.Pop;let E=v(),N=E==null?null:E-g;g=E,p&&p({action:f,location:T.location,delta:N})}function x(E,N){f=gr.Push;let z=fd(T.location,E,N);g=v()+1;let O=og(z,g),$=T.createHref(z);try{d.pushState(O,"",$)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign($)}c&&p&&p({action:f,location:T.location,delta:1})}function b(E,N){f=gr.Replace;let z=fd(T.location,E,N);g=v();let O=og(z,g),$=T.createHref(z);d.replaceState(O,"",$),c&&p&&p({action:f,location:T.location,delta:0})}function j(E){let N=o.location.origin!=="null"?o.location.origin:o.location.href,z=typeof E=="string"?E:tl(E);return z=z.replace(/ $/,"%20"),Qe(N,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,N)}let T={get action(){return f},get location(){return t(o,d)},listen(E){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(sg,y),p=E,()=>{o.removeEventListener(sg,y),p=null}},createHref(E){return e(o,E)},createURL:j,encodeLocation(E){let N=j(E);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:b,go(E){return d.go(E)}};return T}var ag;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ag||(ag={}));function Nb(t,e,n){return n===void 0&&(n="/"),Ab(t,e,n)}function Ab(t,e,n,i){let o=typeof e=="string"?qi(e):e,c=Wd(o.pathname||"/",n);if(c==null)return null;let d=Ly(t);Ob(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let g=Gb(c);f=Hb(d[p],g)}return f}function Ly(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(c,d,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(Qe(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let g=vr([i,p.relativePath]),v=n.concat(p);c.children&&c.children.length>0&&(Qe(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Ly(c.children,e,v,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:Bb(g,c.index),routesMeta:v})};return t.forEach((c,d)=>{var f;if(c.path===""||!((f=c.path)!=null&&f.includes("?")))o(c,d);else for(let p of Dy(c.path))o(c,d,p)}),e}function Dy(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),c=n.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=Dy(i.join("/")),f=[];return f.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&f.push(...d),f.map(p=>t.startsWith("/")&&p===""?"/":p)}function Ob(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Wb(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Lb=/^:[\w-]+$/,Db=3,Mb=2,zb=1,Fb=10,Ub=-2,lg=t=>t==="*";function Bb(t,e){let n=t.split("/"),i=n.length;return n.some(lg)&&(i+=Ub),e&&(i+=Mb),n.filter(o=>!lg(o)).reduce((o,c)=>o+(Lb.test(c)?Db:c===""?zb:Fb),i)}function Wb(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function Hb(t,e,n){let{routesMeta:i}=t,o={},c="/",d=[];for(let f=0;f<i.length;++f){let p=i[f],g=f===i.length-1,v=c==="/"?e:e.slice(c.length)||"/",y=$b({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),x=p.route;if(!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:vr([c,y.pathname]),pathnameBase:Qb(vr([c,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(c=vr([c,y.pathnameBase]))}return d}function $b(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Vb(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((g,v,y)=>{let{paramName:x,isOptional:b}=v;if(x==="*"){let T=f[y]||"";d=c.slice(0,c.length-T.length).replace(/(.)\/+$/,"$1")}const j=f[y];return b&&!j?g[x]=void 0:g[x]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:t}}function Vb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Bd(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Gb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bd(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jb=t=>qb.test(t);function Kb(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?qi(t):t,c;if(n)if(Jb(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Bd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+n))}n.startsWith("/")?c=cg(n.substring(1),"/"):c=cg(n,e)}else c=e;return{pathname:c,search:Xb(i),hash:Zb(o)}}function cg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vu(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hd(t,e){let n=Yb(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function $d(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=qi(t):(o=so({},t),Qe(!o.pathname||!o.pathname.includes("?"),Vu("?","pathname","search",o)),Qe(!o.pathname||!o.pathname.includes("#"),Vu("#","pathname","hash",o)),Qe(!o.search||!o.search.includes("#"),Vu("#","search","hash",o)));let c=t===""||o.pathname==="",d=c?"/":o.pathname,f;if(d==null)f=n;else{let y=e.length-1;if(!i&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),y-=1;o.pathname=x.join("/")}f=y>=0?e[y]:"/"}let p=Kb(o,f),g=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}const vr=t=>t.join("/").replace(/\/\/+/g,"/"),Qb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Xb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function e1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const My=["post","put","patch","delete"];new Set(My);const t1=["get",...My];new Set(t1);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oo(){return oo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oo.apply(this,arguments)}const Vd=C.createContext(null),n1=C.createContext(null),kr=C.createContext(null),jl=C.createContext(null),bn=C.createContext({outlet:null,matches:[],isDataRoute:!1}),zy=C.createContext(null);function r1(t,e){let{relative:n}=e===void 0?{}:e;Ji()||Qe(!1);let{basename:i,navigator:o}=C.useContext(kr),{hash:c,pathname:d,search:f}=Uy(t,{relative:n}),p=d;return i!=="/"&&(p=d==="/"?i:vr([i,d])),o.createHref({pathname:p,search:f,hash:c})}function Ji(){return C.useContext(jl)!=null}function Ki(){return Ji()||Qe(!1),C.useContext(jl).location}function Fy(t){C.useContext(kr).static||C.useLayoutEffect(t)}function Ir(){let{isDataRoute:t}=C.useContext(bn);return t?v1():i1()}function i1(){Ji()||Qe(!1);let t=C.useContext(Vd),{basename:e,future:n,navigator:i}=C.useContext(kr),{matches:o}=C.useContext(bn),{pathname:c}=Ki(),d=JSON.stringify(Hd(o,n.v7_relativeSplatPath)),f=C.useRef(!1);return Fy(()=>{f.current=!0}),C.useCallback(function(g,v){if(v===void 0&&(v={}),!f.current)return;if(typeof g=="number"){i.go(g);return}let y=$d(g,JSON.parse(d),c,v.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:vr([e,y.pathname])),(v.replace?i.replace:i.push)(y,v.state,v)},[e,i,d,c,t])}const s1=C.createContext(null);function o1(t){let e=C.useContext(bn).outlet;return e&&C.createElement(s1.Provider,{value:t},e)}function kl(){let{matches:t}=C.useContext(bn),e=t[t.length-1];return e?e.params:{}}function Uy(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=C.useContext(kr),{matches:o}=C.useContext(bn),{pathname:c}=Ki(),d=JSON.stringify(Hd(o,i.v7_relativeSplatPath));return C.useMemo(()=>$d(t,JSON.parse(d),c,n==="path"),[t,d,c,n])}function a1(t,e){return l1(t,e)}function l1(t,e,n,i){Ji()||Qe(!1);let{navigator:o}=C.useContext(kr),{matches:c}=C.useContext(bn),d=c[c.length-1],f=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let g=Ki(),v;if(e){var y;let E=typeof e=="string"?qi(e):e;p==="/"||(y=E.pathname)!=null&&y.startsWith(p)||Qe(!1),v=E}else v=g;let x=v.pathname||"/",b=x;if(p!=="/"){let E=p.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(E.length).join("/")}let j=Nb(t,{pathname:b}),T=f1(j&&j.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:vr([p,o.encodeLocation?o.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?p:vr([p,o.encodeLocation?o.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),c,n,i);return e&&T?C.createElement(jl.Provider,{value:{location:oo({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:gr.Pop}},T):T}function c1(){let t=y1(),e=e1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:o},n):null,null)}const u1=C.createElement(c1,null);class d1 extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(bn.Provider,{value:this.props.routeContext},C.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h1(t){let{routeContext:e,match:n,children:i}=t,o=C.useContext(Vd);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(bn.Provider,{value:e},i)}function f1(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var c;if(!n)return null;if(n.errors)t=n.matches;else if((c=i)!=null&&c.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let d=t,f=(o=n)==null?void 0:o.errors;if(f!=null){let v=d.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id])!==void 0);v>=0||Qe(!1),d=d.slice(0,Math.min(d.length,v+1))}let p=!1,g=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<d.length;v++){let y=d[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=v),y.route.id){let{loaderData:x,errors:b}=n,j=y.route.loader&&x[y.route.id]===void 0&&(!b||b[y.route.id]===void 0);if(y.route.lazy||j){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((v,y,x)=>{let b,j=!1,T=null,E=null;n&&(b=f&&y.route.id?f[y.route.id]:void 0,T=y.route.errorElement||u1,p&&(g<0&&x===0?(_1("route-fallback"),j=!0,E=null):g===x&&(j=!0,E=y.route.hydrateFallbackElement||null)));let N=e.concat(d.slice(0,x+1)),z=()=>{let O;return b?O=T:j?O=E:y.route.Component?O=C.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=v,C.createElement(h1,{match:y,routeContext:{outlet:v,matches:N,isDataRoute:n!=null},children:O})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?C.createElement(d1,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:z(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):z()},null)}var By=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(By||{}),Wy=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Wy||{});function p1(t){let e=C.useContext(Vd);return e||Qe(!1),e}function m1(t){let e=C.useContext(n1);return e||Qe(!1),e}function g1(t){let e=C.useContext(bn);return e||Qe(!1),e}function Hy(t){let e=g1(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function y1(){var t;let e=C.useContext(zy),n=m1(),i=Hy();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function v1(){let{router:t}=p1(By.UseNavigateStable),e=Hy(Wy.UseNavigateStable),n=C.useRef(!1);return Fy(()=>{n.current=!0}),C.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,oo({fromRouteId:e},c)))},[t,e])}const ug={};function _1(t,e,n){ug[t]||(ug[t]=!0)}function x1(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function sn(t){let{to:e,replace:n,state:i,relative:o}=t;Ji()||Qe(!1);let{future:c,static:d}=C.useContext(kr),{matches:f}=C.useContext(bn),{pathname:p}=Ki(),g=Ir(),v=$d(e,Hd(f,c.v7_relativeSplatPath),p,o==="path"),y=JSON.stringify(v);return C.useEffect(()=>g(JSON.parse(y),{replace:n,state:i,relative:o}),[g,y,o,n,i]),null}function b1(t){return o1(t.context)}function Be(t){Qe(!1)}function w1(t){let{basename:e="/",children:n=null,location:i,navigationType:o=gr.Pop,navigator:c,static:d=!1,future:f}=t;Ji()&&Qe(!1);let p=e.replace(/^\/*/,"/"),g=C.useMemo(()=>({basename:p,navigator:c,static:d,future:oo({v7_relativeSplatPath:!1},f)}),[p,f,c,d]);typeof i=="string"&&(i=qi(i));let{pathname:v="/",search:y="",hash:x="",state:b=null,key:j="default"}=i,T=C.useMemo(()=>{let E=Wd(v,p);return E==null?null:{location:{pathname:E,search:y,hash:x,state:b,key:j},navigationType:o}},[p,v,y,x,b,j,o]);return T==null?null:C.createElement(kr.Provider,{value:g},C.createElement(jl.Provider,{children:n,value:T}))}function S1(t){let{children:e,location:n}=t;return a1(pd(e),n)}new Promise(()=>{});function pd(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(i,o)=>{if(!C.isValidElement(i))return;let c=[...e,o];if(i.type===C.Fragment){n.push.apply(n,pd(i.props.children,c));return}i.type!==Be&&Qe(!1),!i.props.index||!i.props.children||Qe(!1);let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=pd(i.props.children,c)),n.push(d)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},md.apply(this,arguments)}function C1(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,c;for(c=0;c<i.length;c++)o=i[c],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function E1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function j1(t,e){return t.button===0&&(!e||e==="_self")&&!E1(t)}const k1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I1="6";try{window.__reactRouterVersion=I1}catch{}const T1="startTransition",dg=wb[T1];function R1(t){let{basename:e,children:n,future:i,window:o}=t,c=C.useRef();c.current==null&&(c.current=Tb({window:o,v5Compat:!0}));let d=c.current,[f,p]=C.useState({action:d.action,location:d.location}),{v7_startTransition:g}=i||{},v=C.useCallback(y=>{g&&dg?dg(()=>p(y)):p(y)},[p,g]);return C.useLayoutEffect(()=>d.listen(v),[d,v]),C.useEffect(()=>x1(i),[i]),C.createElement(w1,{basename:e,children:n,location:f.location,navigationType:f.action,navigator:d,future:i})}const P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=C.forwardRef(function(e,n){let{onClick:i,relative:o,reloadDocument:c,replace:d,state:f,target:p,to:g,preventScrollReset:v,viewTransition:y}=e,x=C1(e,k1),{basename:b}=C.useContext(kr),j,T=!1;if(typeof g=="string"&&N1.test(g)&&(j=g,P1))try{let O=new URL(window.location.href),$=g.startsWith("//")?new URL(O.protocol+g):new URL(g),D=Wd($.pathname,b);$.origin===O.origin&&D!=null?g=D+$.search+$.hash:T=!0}catch{}let E=r1(g,{relative:o}),N=A1(g,{replace:d,state:f,target:p,preventScrollReset:v,relative:o,viewTransition:y});function z(O){i&&i(O),O.defaultPrevented||N(O)}return C.createElement("a",md({},x,{href:j||E,onClick:T||c?i:z,ref:n,target:p}))});var hg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hg||(hg={}));var fg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fg||(fg={}));function A1(t,e){let{target:n,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:f}=e===void 0?{}:e,p=Ir(),g=Ki(),v=Uy(t,{relative:d});return C.useCallback(y=>{if(j1(y,n)){y.preventDefault();let x=i!==void 0?i:tl(g)===tl(v);p(t,{replace:x,state:o,preventScrollReset:c,relative:d,viewTransition:f})}},[g,p,v,i,o,n,t,c,d,f])}const O1=()=>{};var pg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J=function(t,e){if(!t)throw Yi(e)},Yi=function(t){return new Error("Firebase Database ("+$y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},L1=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=t[n++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=t[n++],d=t[n++],f=t[n++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=t[n++],d=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Gd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const c=t[o],d=o+1<t.length,f=d?t[o+1]:0,p=o+2<t.length,g=p?t[o+2]:0,v=c>>2,y=(c&3)<<4|f>>4;let x=(f&15)<<2|g>>6,b=g&63;p||(b=64,d||(x=64)),i.push(n[v],n[y],n[x],n[b])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const c=n[t.charAt(o++)],f=o<t.length?n[t.charAt(o)]:0;++o;const g=o<t.length?n[t.charAt(o)]:64;++o;const y=o<t.length?n[t.charAt(o)]:64;if(++o,c==null||f==null||g==null||y==null)throw new D1;const x=c<<2|f>>4;if(i.push(x),g!==64){const b=f<<4&240|g>>2;if(i.push(b),y!==64){const j=g<<6&192|y;i.push(j)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gy=function(t){const e=Vy(t);return Gd.encodeByteArray(e,!0)},nl=function(t){return Gy(t).replace(/\./g,"")},rl=function(t){try{return Gd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){return qy(void 0,t)}function qy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!z1(n)||(t[n]=qy(t[n],e[n]));return t}function z1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=()=>F1().__FIREBASE_DEFAULTS__,B1=()=>{if(typeof process>"u"||typeof pg>"u")return;const t=pg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},W1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rl(t[1]);return e&&JSON.parse(e)},qd=()=>{try{return O1()||U1()||B1()||W1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jy=t=>{var e,n;return(n=(e=qd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ky=t=>{const e=Jy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Yy=()=>{var t;return(t=qd())===null||t===void 0?void 0:t.config},Qy=t=>{var e;return(e=qd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jd(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,c=t.sub||t.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nl(JSON.stringify(n)),nl(JSON.stringify(d)),""].join(".")}const Qs={};function H1(){const t={prod:[],emulator:[]};for(const e of Object.keys(Qs))Qs[e]?t.emulator.push(e):t.prod.push(e);return t}function $1(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mg=!1;function Kd(t,e){if(typeof window>"u"||typeof document>"u"||!Tr(window.location.host)||Qs[t]===e||Qs[t]||mg)return;Qs[t]=e;function n(x){return`__firebase__banner__${x}`}const i="__firebase__banner",c=H1().prod.length>0;function d(){const x=document.getElementById(i);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,b){x.setAttribute("width","24"),x.setAttribute("id",b),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{mg=!0,d()},x}function v(x,b){x.setAttribute("id",b),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=$1(i),b=n("text"),j=document.getElementById(b)||document.createElement("span"),T=n("learnmore"),E=document.getElementById(T)||document.createElement("a"),N=n("preprendIcon"),z=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const O=x.element;f(O),v(E,T);const $=g();p(z,N),O.append(z,j,E,$),document.body.appendChild(O)}c?(j.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function V1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function G1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q1(){const t=jt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function J1(){return $y.NODE_ADMIN===!0}function K1(){try{return typeof indexedDB=="object"}catch{return!1}}function Y1(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="FirebaseError";class Bn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Q1,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?X1(c,i):"Error",f=`${this.serviceName}: ${d} (${o}).`;return new Bn(o,f,i)}}function X1(t,e){return t.replace(Z1,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Z1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){return JSON.parse(t)}function st(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(t){let e={},n={},i={},o="";try{const c=t.split(".");e=ao(rl(c[0])||""),n=ao(rl(c[1])||""),o=c[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},ew=function(t){const e=ev(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},tw=function(t){const e=ev(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function il(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function Jr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const c=t[o],d=e[o];if(gg(c)&&gg(d)){if(!Jr(c,d))return!1}else if(c!==d)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function gg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ks(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ys(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let y=0;y<16;y++)i[y]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let y=0;y<16;y++)i[y]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let y=16;y<80;y++){const x=i[y-3]^i[y-8]^i[y-14]^i[y-16];i[y]=(x<<1|x>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],f=this.chain_[3],p=this.chain_[4],g,v;for(let y=0;y<80;y++){y<40?y<20?(g=f^c&(d^f),v=1518500249):(g=c^d^f,v=1859775393):y<60?(g=c&d|f&(c|d),v=2400959708):(g=c^d^f,v=3395469782);const x=(o<<5|o>>>27)+g+p+v+i[y]&4294967295;p=f,f=d,d=(c<<30|c>>>2)&4294967295,c=o,o=x}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const c=this.buf_;let d=this.inbuf_;for(;o<n;){if(d===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(c[d]=e.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}else for(;o<n;)if(c[d]=e[o],++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[i]=this.chain_[o]>>c&255,++i;return e}}function rw(t,e){const n=new iw(t,e);return n.subscribe.bind(n)}class iw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");sw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Gu),o.error===void 0&&(o.error=Gu),o.complete===void 0&&(o.complete=Gu);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sw(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gu(){}function Il(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const c=o-55296;i++,J(i<t.length,"Surrogate pair missing trail surrogate.");const d=t.charCodeAt(i)-56320;o=65536+(c<<10)+d}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Tl=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class Sr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new wo;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cw(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[c,d]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(c);i===f&&d.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:lw(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lw(t){return t===Hr?void 0:t}function cw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const dw={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},hw=Ae.INFO,fw={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},pw=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=fw[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qd{constructor(e){this.name=e,this._logLevel=hw,this._logHandler=pw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const mw=(t,e)=>e.some(n=>t instanceof n);let yg,vg;function gw(){return yg||(yg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yw(){return vg||(vg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,yd=new WeakMap,nv=new WeakMap,qu=new WeakMap,Xd=new WeakMap;function vw(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",c),t.removeEventListener("error",d)},c=()=>{n(_r(t.result)),o()},d=()=>{i(t.error),o()};t.addEventListener("success",c),t.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&tv.set(n,t)}).catch(()=>{}),Xd.set(e,t),e}function _w(t){if(yd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",c),t.removeEventListener("error",d),t.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",c),t.addEventListener("error",d),t.addEventListener("abort",d)});yd.set(t,e)}let vd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xw(t){vd=t(vd)}function bw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ju(this),e,...n);return nv.set(i,e.sort?e.sort():[e]),_r(i)}:yw().includes(t)?function(...e){return t.apply(Ju(this),e),_r(tv.get(this))}:function(...e){return _r(t.apply(Ju(this),e))}}function ww(t){return typeof t=="function"?bw(t):(t instanceof IDBTransaction&&_w(t),mw(t,gw())?new Proxy(t,vd):t)}function _r(t){if(t instanceof IDBRequest)return vw(t);if(qu.has(t))return qu.get(t);const e=ww(t);return e!==t&&(qu.set(t,e),Xd.set(e,t)),e}const Ju=t=>Xd.get(t);function Sw(t,e,{blocked:n,upgrade:i,blocking:o,terminated:c}={}){const d=indexedDB.open(t,e),f=_r(d);return i&&d.addEventListener("upgradeneeded",p=>{i(_r(d.result),p.oldVersion,p.newVersion,_r(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const Cw=["get","getKey","getAll","getAllKeys","count"],Ew=["put","add","delete","clear"],Ku=new Map;function _g(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ku.get(e))return Ku.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=Ew.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Cw.includes(n)))return;const c=async function(d,...f){const p=this.transaction(d,o?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),o&&p.done]))[0]};return Ku.set(e,c),c}xw(t=>({...t,get:(e,n,i)=>_g(e,n)||t.get(e,n,i),has:(e,n)=>!!_g(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kw(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _d="@firebase/app",xg="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new Qd("@firebase/app"),Iw="@firebase/app-compat",Tw="@firebase/analytics-compat",Rw="@firebase/analytics",Pw="@firebase/app-check-compat",Nw="@firebase/app-check",Aw="@firebase/auth",Ow="@firebase/auth-compat",Lw="@firebase/database",Dw="@firebase/data-connect",Mw="@firebase/database-compat",zw="@firebase/functions",Fw="@firebase/functions-compat",Uw="@firebase/installations",Bw="@firebase/installations-compat",Ww="@firebase/messaging",Hw="@firebase/messaging-compat",$w="@firebase/performance",Vw="@firebase/performance-compat",Gw="@firebase/remote-config",qw="@firebase/remote-config-compat",Jw="@firebase/storage",Kw="@firebase/storage-compat",Yw="@firebase/firestore",Qw="@firebase/ai",Xw="@firebase/firestore-compat",Zw="firebase",eS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="[DEFAULT]",tS={[_d]:"fire-core",[Iw]:"fire-core-compat",[Rw]:"fire-analytics",[Tw]:"fire-analytics-compat",[Nw]:"fire-app-check",[Pw]:"fire-app-check-compat",[Aw]:"fire-auth",[Ow]:"fire-auth-compat",[Lw]:"fire-rtdb",[Dw]:"fire-data-connect",[Mw]:"fire-rtdb-compat",[zw]:"fire-fn",[Fw]:"fire-fn-compat",[Uw]:"fire-iid",[Bw]:"fire-iid-compat",[Ww]:"fire-fcm",[Hw]:"fire-fcm-compat",[$w]:"fire-perf",[Vw]:"fire-perf-compat",[Gw]:"fire-rc",[qw]:"fire-rc-compat",[Jw]:"fire-gcs",[Kw]:"fire-gcs-compat",[Yw]:"fire-fst",[Xw]:"fire-fst-compat",[Qw]:"fire-vertex","fire-js":"fire-js",[Zw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new Map,nS=new Map,bd=new Map;function bg(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kr(t){const e=t.name;if(bd.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;bd.set(e,t);for(const n of sl.values())bg(n,t);for(const n of nS.values())bg(n,t);return!0}function Rl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function At(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new So("app","Firebase",rS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=eS;function rv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:xd,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw xr.create("bad-app-name",{appName:String(o)});if(n||(n=Yy()),!n)throw xr.create("no-options");const c=sl.get(o);if(c){if(Jr(n,c.options)&&Jr(i,c.config))return c;throw xr.create("duplicate-app",{appName:o})}const d=new uw(o);for(const p of bd.values())d.addComponent(p);const f=new iS(n,i,d);return sl.set(o,f),f}function Zd(t=xd){const e=sl.get(t);if(!e&&t===xd&&Yy())return rv();if(!e)throw xr.create("no-app",{appName:t});return e}function _n(t,e,n){var i;let o=(i=tS[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const f=[`Unable to register library "${o}" with version "${e}":`];c&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(f.join(" "));return}Kr(new Sr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="firebase-heartbeat-database",oS=1,lo="firebase-heartbeat-store";let Yu=null;function iv(){return Yu||(Yu=Sw(sS,oS,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lo)}catch(n){console.warn(n)}}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),Yu}async function aS(t){try{const n=(await iv()).transaction(lo),i=await n.objectStore(lo).get(sv(t));return await n.done,i}catch(e){if(e instanceof Bn)zn.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(n.message)}}}async function wg(t,e){try{const i=(await iv()).transaction(lo,"readwrite");await i.objectStore(lo).put(e,sv(t)),await i.done}catch(n){if(n instanceof Bn)zn.warn(n.message);else{const i=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(i.message)}}}function sv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=1024,cS=30;class uS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hS(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Sg();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>cS){const d=fS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){zn.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sg(),{heartbeatsToSend:i,unsentEntries:o}=dS(this._heartbeatsCache.heartbeats),c=nl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return zn.warn(n),""}}}function Sg(){return new Date().toISOString().substring(0,10)}function dS(t,e=lS){const n=[];let i=t.slice();for(const o of t){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Cg(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class hS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return K1()?Y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Cg(t){return nl(JSON.stringify({version:2,heartbeats:t})).length}function fS(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(t){Kr(new Sr("platform-logger",e=>new jw(e),"PRIVATE")),Kr(new Sr("heartbeat",e=>new uS(e),"PRIVATE")),_n(_d,xg,t),_n(_d,xg,"esm2017"),_n("fire-js","")}pS("");function eh(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function ov(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mS=ov,av=new So("auth","Firebase",ov());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new Qd("@firebase/auth");function gS(t,...e){ol.logLevel<=Ae.WARN&&ol.warn(`Auth (${ni}): ${t}`,...e)}function Ka(t,...e){ol.logLevel<=Ae.ERROR&&ol.error(`Auth (${ni}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t,...e){throw nh(t,...e)}function un(t,...e){return nh(t,...e)}function th(t,e,n){const i=Object.assign(Object.assign({},mS()),{[e]:n});return new So("auth","Firebase",i).create(e,{appName:t.name})}function Dn(t){return th(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yS(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Jt(t,"argument-error"),th(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nh(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return av.create(t,...e)}function de(t,e,...n){if(!t)throw nh(e,...n)}function An(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ka(e),new Error(e)}function Fn(t,e){t||An(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function vS(){return Eg()==="http:"||Eg()==="https:"}function Eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vS()||G1()||"connection"in navigator)?navigator.onLine:!0}function xS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fn(n>e,"Short delay should be less than long delay!"),this.isMobile=Yd()||Zy()}get(){return _S()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e){Fn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;An("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;An("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;An("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SS=new Co(3e4,6e4);function Wn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Hn(t,e,n,i,o={}){return cv(t,o,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const f=Qi(Object.assign({key:t.config.apiKey},d)).slice(1),p=await t._getAdditionalHeaders();p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode);const g=Object.assign({method:e,headers:p},c);return V1()||(g.referrerPolicy="no-referrer"),t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(g.credentials="include"),lv.fetch()(await uv(t,t.config.apiHost,n,f),g)})}async function cv(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},bS),e);try{const o=new ES(t),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw $a(t,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $a(t,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw $a(t,"email-already-in-use",d);if(p==="USER_DISABLED")throw $a(t,"user-disabled",d);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw th(t,v,g);Jt(t,v)}}catch(o){if(o instanceof Bn)throw o;Jt(t,"network-request-failed",{message:String(o)})}}async function Eo(t,e,n,i,o={}){const c=await Hn(t,e,n,i,o);return"mfaPendingCredential"in c&&Jt(t,"multi-factor-auth-required",{_serverResponse:c}),c}async function uv(t,e,n,i){const o=`${e}${n}?${i}`,c=t,d=c.config.emulator?rh(t.config,o):`${t.config.apiScheme}://${o}`;return wS.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function CS(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ES{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(un(this.auth,"network-request-failed")),SS.get())})}}function $a(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=un(t,e,i);return o.customData._tokenResponse=n,o}function jg(t){return t!==void 0&&t.enterprise!==void 0}class jS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return CS(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kS(t,e){return Hn(t,"GET","/v2/recaptchaConfig",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(t,e){return Hn(t,"POST","/v1/accounts:delete",e)}async function al(t,e){return Hn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TS(t,e=!1){const n=Ze(t),i=await n.getIdToken(e),o=ih(i);de(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:Xs(Qu(o.auth_time)),issuedAtTime:Xs(Qu(o.iat)),expirationTime:Xs(Qu(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Qu(t){return Number(t)*1e3}function ih(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ka("JWT malformed, contained fewer than 3 sections"),null;try{const o=rl(n);return o?JSON.parse(o):(Ka("Failed to decode base64 JWT payload"),null)}catch(o){return Ka("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kg(t){const e=ih(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Bn&&RS(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function RS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xs(this.lastLoginAt),this.creationTime=Xs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t){var e;const n=t.auth,i=await t.getIdToken(),o=await co(t,al(n,{idToken:i}));de(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];t._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?dv(c.providerUserInfo):[],f=AS(t.providerData,d),p=t.isAnonymous,g=!(t.email&&c.passwordHash)&&!(f!=null&&f.length),v=p?g:!1,y={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new Sd(c.createdAt,c.lastLoginAt),isAnonymous:v};Object.assign(t,y)}async function NS(t){const e=Ze(t);await ll(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AS(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function dv(t){return t.map(e=>{var{providerId:n}=e,i=eh(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OS(t,e){const n=await cv(t,{},async()=>{const i=Qi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=t.config,d=await uv(t,o,"/v1/token",`key=${c}`),f=await t._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return t.emulatorConfig&&Tr(t.emulatorConfig.host)&&(p.credentials="include"),lv.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function LS(t,e){return Hn(t,"POST","/v2/accounts:revokeToken",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kg(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=kg(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:c}=await OS(e,n);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:c}=n,d=new Di;return i&&(de(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(de(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(de(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Di,this.toJSON())}_performRefresh(){return An("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ln{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,c=eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new PS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Sd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await co(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TS(this,e)}reload(){return NS(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ln(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ll(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(At(this.auth.app))return Promise.reject(Dn(this.auth));const e=await this.getIdToken();return await co(this,IS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,c,d,f,p,g,v;const y=(i=n.displayName)!==null&&i!==void 0?i:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,b=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,j=(d=n.photoURL)!==null&&d!==void 0?d:void 0,T=(f=n.tenantId)!==null&&f!==void 0?f:void 0,E=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,N=(g=n.createdAt)!==null&&g!==void 0?g:void 0,z=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:O,emailVerified:$,isAnonymous:D,providerData:Y,stsTokenManager:G}=n;de(O&&G,e,"internal-error");const K=Di.fromJSON(this.name,G);de(typeof O=="string",e,"internal-error"),dr(y,e.name),dr(x,e.name),de(typeof $=="boolean",e,"internal-error"),de(typeof D=="boolean",e,"internal-error"),dr(b,e.name),dr(j,e.name),dr(T,e.name),dr(E,e.name),dr(N,e.name),dr(z,e.name);const X=new ln({uid:O,auth:e,email:x,emailVerified:$,displayName:y,isAnonymous:D,photoURL:j,phoneNumber:b,tenantId:T,stsTokenManager:K,createdAt:N,lastLoginAt:z});return Y&&Array.isArray(Y)&&(X.providerData=Y.map(Q=>Object.assign({},Q))),E&&(X._redirectEventId=E),X}static async _fromIdTokenResponse(e,n,i=!1){const o=new Di;o.updateFromServerResponse(n);const c=new ln({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ll(c),c}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];de(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?dv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),f=new Di;f.updateFromIdToken(i);const p=new ln({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=new Map;function On(t){Fn(t instanceof Function,"Expected a class definition");let e=Ig.get(t);return e?(Fn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ig.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hv.type="NONE";const Tg=hv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t,e,n){return`firebase:${t}:${e}:${n}`}class Mi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Ya(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ya("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await al(this.auth,{idToken:e}).catch(()=>{});return n?ln._fromGetAccountInfoResponse(this.auth,n,e):null}return ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Mi(On(Tg),e,i);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||On(Tg);const d=Ya(i,e.config.apiKey,e.name);let f=null;for(const g of n)try{const v=await g._get(d);if(v){let y;if(typeof v=="string"){const x=await al(e,{idToken:v}).catch(()=>{});if(!x)break;y=await ln._fromGetAccountInfoResponse(e,x,v)}else y=ln._fromJSON(e,v);g!==c&&(f=y),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Mi(c,e,i):(c=p[0],f&&await c._set(d,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(d)}catch{}})),new Mi(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vv(e))return"Blackberry";if(_v(e))return"Webos";if(pv(e))return"Safari";if((e.includes("chrome/")||mv(e))&&!e.includes("edge/"))return"Chrome";if(yv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function fv(t=jt()){return/firefox\//i.test(t)}function pv(t=jt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mv(t=jt()){return/crios\//i.test(t)}function gv(t=jt()){return/iemobile/i.test(t)}function yv(t=jt()){return/android/i.test(t)}function vv(t=jt()){return/blackberry/i.test(t)}function _v(t=jt()){return/webos/i.test(t)}function sh(t=jt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DS(t=jt()){var e;return sh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MS(){return q1()&&document.documentMode===10}function xv(t=jt()){return sh(t)||yv(t)||_v(t)||vv(t)||/windows phone/i.test(t)||gv(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e=[]){let n;switch(t){case"Browser":n=Rg(jt());break;case"Worker":n=`${Rg(jt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ni}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=c=>new Promise((d,f)=>{try{const p=e(c);d(p)}catch(p){f(p)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(t,e={}){return Hn(t,"GET","/v2/passwordPolicy",Wn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=6;class BS{constructor(e){var n,i,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:US,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,c,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pg(this),this.idTokenSubscription=new Pg(this),this.beforeStateQueue=new zS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=av,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=On(n)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await Mi.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await al(this,{idToken:e}),i=await ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(At(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===f)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ll(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(At(this.app))return Promise.reject(Dn(this));const n=e?Ze(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return At(this.app)?Promise.reject(Dn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return At(this.app)?Promise.reject(Dn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(On(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FS(this),n=new BS(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new So("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await LS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&On(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Mi.create(this,[On(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,o);return()=>{d=!0,p()}}else{const p=e.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&gS(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $n(t){return Ze(t)}class Pg{constructor(e){this.auth=e,this.observer=null,this.addObserver=rw(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HS(t){Pl=t}function wv(t){return Pl.loadJS(t)}function $S(){return Pl.recaptchaEnterpriseScript}function VS(){return Pl.gapiScript}function GS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class qS{constructor(){this.enterprise=new JS}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JS{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KS="recaptcha-enterprise",Sv="NO_RECAPTCHA";class YS{constructor(e){this.type=KS,this.auth=$n(e)}async verify(e="verify",n=!1){async function i(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,f)=>{kS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new jS(p);return c.tenantId==null?c._agentRecaptchaConfig=g:c._tenantRecaptchaConfigs[c.tenantId]=g,d(g.siteKey)}}).catch(p=>{f(p)})})}function o(c,d,f){const p=window.grecaptcha;jg(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(g=>{d(g)}).catch(()=>{d(Sv)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qS().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{i(this.auth).then(f=>{if(!n&&jg(window.grecaptcha))o(f,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$S();p.length!==0&&(p+=f),wv(p).then(()=>{o(f,c,d)}).catch(g=>{d(g)})}}).catch(f=>{d(f)})})}}async function Ng(t,e,n,i=!1,o=!1){const c=new YS(t);let d;if(o)d=Sv;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:d}):Object.assign(f,{captchaResponse:d}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function cl(t,e,n,i,o){var c;if(!((c=t._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Ng(t,e,n,n==="getOobCode");return i(t,d)}else return i(t,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Ng(t,e,n,n==="getOobCode");return i(t,f)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t,e){const n=Rl(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Jr(c,e??{}))return o;Jt(o,"already-initialized")}return n.initialize({options:e})}function XS(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(On);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ZS(t,e,n){const i=$n(t);de(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=Cv(e),{host:d,port:f}=eC(e),p=f===null?"":`:${f}`,g={url:`${c}//${d}${p}/`},v=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){de(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),de(Jr(g,i.config.emulator)&&Jr(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,Tr(d)?(Jd(`${c}//${d}${p}`),Kd("Auth",!0)):tC()}function Cv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eC(t){const e=Cv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:Ag(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:Ag(d)}}}function Ag(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return An("not implemented")}_getIdTokenResponse(e){return An("not implemented")}_linkToIdToken(e,n){return An("not implemented")}_getReauthenticationResolver(e){return An("not implemented")}}async function nC(t,e){return Hn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e){return Eo(t,"POST","/v1/accounts:signInWithPassword",Wn(t,e))}async function iC(t,e){return Hn(t,"POST","/v1/accounts:sendOobCode",Wn(t,e))}async function sC(t,e){return iC(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(t,e){return Eo(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,e))}async function aC(t,e){return Eo(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends oh{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uo(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new uo(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cl(e,n,"signInWithPassword",rC);case"emailLink":return oC(e,{email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return cl(e,i,"signUpPassword",nC);case"emailLink":return aC(e,{idToken:n,email:this._email,oobCode:this._password});default:Jt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zi(t,e){return Eo(t,"POST","/v1/accounts:signInWithIdp",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="http://localhost";class Yr extends oh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,c=eh(n,["providerId","signInMethod"]);if(!i||!o)return null;const d=new Yr(i,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return zi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zi(e,n)}buildRequest(){const e={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qi(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uC(t){const e=Ks(Ys(t)).link,n=e?Ks(Ys(e)).deep_link_id:null,i=Ks(Ys(t)).deep_link_id;return(i?Ks(Ys(i)).link:null)||i||n||e||t}class ah{constructor(e){var n,i,o,c,d,f;const p=Ks(Ys(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(i=p.oobCode)!==null&&i!==void 0?i:null,y=cC((o=p.mode)!==null&&o!==void 0?o:null);de(g&&v&&y,"argument-error"),this.apiKey=g,this.operation=y,this.code=v,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.lang)!==null&&d!==void 0?d:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=uC(e);try{return new ah(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.providerId=Xi.PROVIDER_ID}static credential(e,n){return uo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ah.parseLink(n);return de(i,"argument-error"),uo._fromEmailAndCode(e,i.code,i.tenantId)}}Xi.PROVIDER_ID="password";Xi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends lh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends jo{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hr.credential(e.oauthAccessToken)}catch{return null}}}hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";hr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yr._fromParams({providerId:on.PROVIDER_ID,signInMethod:on.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return on.credentialFromTaggedObject(e)}static credentialFromError(e){return on.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return on.credential(n,i)}catch{return null}}}on.GOOGLE_SIGN_IN_METHOD="google.com";on.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends jo{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends jo{constructor(){super("twitter.com")}static credential(e,n){return Yr._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pr.credential(n,i)}catch{return null}}}pr.TWITTER_SIGN_IN_METHOD="twitter.com";pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(t,e){return Eo(t,"POST","/v1/accounts:signUp",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const c=await ln._fromIdTokenResponse(e,i,o),d=Og(i);return new Qr({user:c,providerId:d,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Og(i);return new Qr({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Og(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Bn{constructor(e,n,i,o){var c;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ul.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new ul(e,n,i,o)}}function Ev(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ul._fromErrorAndOperation(t,c,e,i):c})}async function hC(t,e,n=!1){const i=await co(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qr._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(t,e,n=!1){const{auth:i}=t;if(At(i.app))return Promise.reject(Dn(i));const o="reauthenticate";try{const c=await co(t,Ev(i,o,e,t),n);de(c.idToken,i,"internal-error");const d=ih(c.idToken);de(d,i,"internal-error");const{sub:f}=d;return de(t.uid===f,i,"user-mismatch"),Qr._forOperation(t,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Jt(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jv(t,e,n=!1){if(At(t.app))return Promise.reject(Dn(t));const i="signIn",o=await Ev(t,i,e),c=await Qr._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(c.user),c}async function pC(t,e){return jv($n(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kv(t){const e=$n(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mC(t,e,n){const i=$n(t);await cl(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sC)}async function gC(t,e,n){if(At(t.app))return Promise.reject(Dn(t));const i=$n(t),d=await cl(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kv(t),p}),f=await Qr._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(f.user),f}function yC(t,e,n){return At(t.app)?Promise.reject(Dn(t)):pC(Ze(t),Xi.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&kv(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t,e){return Ze(t).setPersistence(e)}function vC(t,e,n,i){return Ze(t).onIdTokenChanged(e,n,i)}function _C(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function Tv(t,e,n,i){return Ze(t).onAuthStateChanged(e,n,i)}const dl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dl,"1"),this.storage.removeItem(dl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1e3,bC=10;class Pv extends Rv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,f,p)=>{this.notifyListeners(d,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!n&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);MS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bC):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pv.type="LOCAL";const ch=Pv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Rv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nv.type="SESSION";const Nl=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Al(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(d).map(async g=>g(n.origin,c)),p=await wC(f);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Al.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((f,p)=>{const g=uh("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(y){const x=y;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),f(x.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function CC(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function EC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kC(){return Av()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="firebaseLocalStorageDb",IC=1,hl="firebaseLocalStorage",Lv="fbase_key";class ko{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ol(t,e){return t.transaction([hl],e?"readwrite":"readonly").objectStore(hl)}function TC(){const t=indexedDB.deleteDatabase(Ov);return new ko(t).toPromise()}function Cd(){const t=indexedDB.open(Ov,IC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(hl,{keyPath:Lv})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(hl)?e(i):(i.close(),await TC(),e(await Cd()))})})}async function Lg(t,e,n){const i=Ol(t,!0).put({[Lv]:e,value:n});return new ko(i).toPromise()}async function RC(t,e){const n=Ol(t,!1).get(e),i=await new ko(n).toPromise();return i===void 0?null:i.value}function Dg(t,e){const n=Ol(t,!0).delete(e);return new ko(n).toPromise()}const PC=800,NC=3;class Dv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>NC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Av()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Al._getInstance(kC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new SC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cd();return await Lg(e,dl,"1"),await Dg(e,dl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lg(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>RC(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ol(o,!1).getAll();return new ko(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dv.type="LOCAL";const AC=Dv;new Co(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){return e?On(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends oh{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OC(t){return jv(t.auth,new dh(t),t.bypassAuthState)}function LC(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),fC(n,new dh(t),t.bypassAuthState)}async function DC(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),hC(n,new dh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:c,error:d,type:f}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return LC;default:Jt(this.auth,"internal-error")}}resolve(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=new Co(2e3,1e4);async function Fv(t,e,n){if(At(t.app))return Promise.reject(un(t,"operation-not-supported-in-this-environment"));const i=$n(t);yS(t,e,lh);const o=Mv(i,n);return new Vr(i,"signInViaPopup",e,o).executeNotNull()}class Vr extends zv{constructor(e,n,i,o,c){super(e,n,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Vr.currentPopupAction&&Vr.currentPopupAction.cancel(),Vr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Fn(this.filter.length===1,"Popup operations only handle one event");const e=uh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MC.get())};e()}}Vr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="pendingRedirect",Qa=new Map;class FC extends zv{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Qa.get(this.auth._key());if(!e){try{const i=await UC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Qa.set(this.auth._key(),e)}return this.bypassAuthState||Qa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(t,e){const n=HC(e),i=WC(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function BC(t,e){Qa.set(t._key(),e)}function WC(t){return On(t._redirectPersistence)}function HC(t){return Ya(zC,t.config.apiKey,t.name)}async function $C(t,e,n=!1){if(At(t.app))return Promise.reject(Dn(t));const i=$n(t),o=Mv(i,e),d=await new FC(i,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=600*1e3;class GC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Uv(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(un(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mg(e))}saveEventToCache(e){this.cachedEventUids.add(Mg(e)),this.lastProcessedEventTime=Date.now()}}function Mg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Uv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,e={}){return Hn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YC=/^https?/;async function QC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JC(t);for(const n of e)try{if(XC(n))return}catch{}Jt(t,"unauthorized-domain")}function XC(t){const e=wd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const d=new URL(t);return d.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===i}if(!YC.test(n))return!1;if(KC.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new Co(3e4,6e4);function zg(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eE(t){return new Promise((e,n)=>{var i,o,c;function d(){zg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zg(),n(un(t,"network-request-failed"))},timeout:ZC.get()})}if(!((o=(i=xn().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=xn().gapi)===null||c===void 0)&&c.load)d();else{const f=GS("iframefcb");return xn()[f]=()=>{gapi.load?d():n(un(t,"network-request-failed"))},wv(`${VS()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw Xa=null,e})}let Xa=null;function tE(t){return Xa=Xa||eE(t),Xa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=new Co(5e3,15e3),rE="__/auth/iframe",iE="emulator/auth/iframe",sE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oE=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aE(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rh(e,iE):`https://${t.config.authDomain}/${rE}`,i={apiKey:e.apiKey,appName:t.name,v:ni},o=oE.get(t.config.apiHost);o&&(i.eid=o);const c=t._getFrameworks();return c.length&&(i.fw=c.join(",")),`${n}?${Qi(i).slice(1)}`}async function lE(t){const e=await tE(t),n=xn().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:aE(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sE,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const d=un(t,"network-request-failed"),f=xn().setTimeout(()=>{c(d)},nE.get());function p(){xn().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uE=500,dE=600,hE="_blank",fE="http://localhost";class Fg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pE(t,e,n,i=uE,o=dE){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},cE),{width:i.toString(),height:o.toString(),top:c,left:d}),g=jt().toLowerCase();n&&(f=mv(g)?hE:n),fv(g)&&(e=e||fE,p.scrollbars="yes");const v=Object.entries(p).reduce((x,[b,j])=>`${x}${b}=${j},`,"");if(DS(g)&&f!=="_self")return mE(e||"",f),new Fg(null);const y=window.open(e||"",f,v);de(y,t,"popup-blocked");try{y.focus()}catch{}return new Fg(y)}function mE(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="__/auth/handler",yE="emulator/auth/handler",vE=encodeURIComponent("fac");async function Ug(t,e,n,i,o,c){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const d={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ni,eventId:o};if(e instanceof lh){e.setDefaultLanguage(t.languageCode),d.providerId=e.providerId||"",gd(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,y]of Object.entries({}))d[v]=y}if(e instanceof jo){const v=e.getScopes().filter(y=>y!=="");v.length>0&&(d.scopes=v.join(","))}t.tenantId&&(d.tid=t.tenantId);const f=d;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const p=await t._getAppCheckToken(),g=p?`#${vE}=${encodeURIComponent(p)}`:"";return`${_E(t)}?${Qi(f).slice(1)}${g}`}function _E({config:t}){return t.emulator?rh(t,yE):`https://${t.authDomain}/${gE}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu="webStorageSupport";class xE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nl,this._completeRedirectFn=$C,this._overrideRedirectResult=BC}async _openPopup(e,n,i,o){var c;Fn((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Ug(e,n,i,wd(),o);return pE(e,d,uh())}async _openRedirect(e,n,i,o){await this._originValidation(e);const c=await Ug(e,n,i,wd(),o);return CC(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Fn(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await lE(e),i=new GC(e);return n.register("authEvent",o=>(de(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xu,{type:Xu},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Xu];d!==void 0&&n(!!d),Jt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xv()||pv()||sh()}}const bE=xE;var Bg="@firebase/auth",Wg="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CE(t){Kr(new Sr("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=i.options;de(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bv(t)},g=new WS(i,o,c,p);return XS(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Kr(new Sr("auth-internal",e=>{const n=$n(e.getProvider("auth").getImmediate());return(i=>new wE(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(Bg,Wg,SE(t)),_n(Bg,Wg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=300,jE=Qy("authIdTokenMaxAge")||EE;let Hg=null;const kE=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jE)return;const o=n==null?void 0:n.token;Hg!==o&&(Hg=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IE(t=Zd()){const e=Rl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=QS(t,{popupRedirectResolver:bE,persistence:[AC,ch,Nl]}),i=Qy("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=kE(c.toString());_C(n,d,()=>d(n.currentUser)),vC(n,f=>d(f))}}const o=Jy("auth");return o&&ZS(n,`http://${o}`),n}function TE(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HS({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const c=un("internal-error");c.customData=o,n(c)},i.type="text/javascript",i.charset="UTF-8",TE().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CE("Browser");var RE="firebase",PE="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(RE,PE,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="firebasestorage.googleapis.com",Wv="storageBucket",NE=120*1e3,AE=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Bn{constructor(e,n,i=0){super(Zu(e),`Firebase Storage: ${n} (${Zu(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Je.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zu(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var qe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(qe||(qe={}));function Zu(t){return"storage/"+t}function hh(){const t="An unknown error occurred, please check the error payload for server response.";return new Je(qe.UNKNOWN,t)}function OE(t){return new Je(qe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LE(t){return new Je(qe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function DE(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Je(qe.UNAUTHENTICATED,t)}function ME(){return new Je(qe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zE(t){return new Je(qe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function FE(){return new Je(qe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UE(){return new Je(qe.CANCELED,"User canceled the upload/download.")}function BE(t){return new Je(qe.INVALID_URL,"Invalid URL '"+t+"'.")}function WE(t){return new Je(qe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function HE(){return new Je(qe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Wv+"' property when initializing the app?")}function $E(){return new Je(qe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function VE(){return new Je(qe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function GE(t){return new Je(qe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ed(t){return new Je(qe.INVALID_ARGUMENT,t)}function Hv(){return new Je(qe.APP_DELETED,"The Firebase app was deleted.")}function qE(t){return new Je(qe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zs(t,e){return new Je(qe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hs(t){throw new Je(qe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Ut.makeFromUrl(e,n)}catch{return new Ut(e,"")}if(i.path==="")return i;throw WE(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const d="(/(.*))?$",f=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function g($){$.path_=decodeURIComponent($.path)}const v="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",b=new RegExp(`^https?://${y}/${v}/b/${o}/o${x}`,"i"),j={bucket:1,path:3},T=n===Bv?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",N=new RegExp(`^https?://${T}/${o}/${E}`,"i"),O=[{regex:f,indices:p,postModify:c},{regex:b,indices:j,postModify:g},{regex:N,indices:{bucket:1,path:2},postModify:g}];for(let $=0;$<O.length;$++){const D=O[$],Y=D.regex.exec(e);if(Y){const G=Y[D.indices.bucket];let K=Y[D.indices.path];K||(K=""),i=new Ut(G,K),D.postModify(i);break}}if(i==null)throw BE(e);return i}}class JE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e,n){let i=1,o=null,c=null,d=!1,f=0;function p(){return f===2}let g=!1;function v(...E){g||(g=!0,e.apply(null,E))}function y(E){o=setTimeout(()=>{o=null,t(b,p())},E)}function x(){c&&clearTimeout(c)}function b(E,...N){if(g){x();return}if(E){x(),v.call(null,E,...N);return}if(p()||d){x(),v.call(null,E,...N);return}i<64&&(i*=2);let O;f===1?(f=2,O=0):O=(i+Math.random())*1e3,y(O)}let j=!1;function T(E){j||(j=!0,x(),!g&&(o!==null?(E||(f=2),clearTimeout(o),y(0)):E||(f=1)))}return y(0),c=setTimeout(()=>{d=!0,T(!0)},n),T}function YE(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){return t!==void 0}function XE(t){return typeof t=="object"&&!Array.isArray(t)}function fh(t){return typeof t=="string"||t instanceof String}function $g(t){return ph()&&t instanceof Blob}function ph(){return typeof Blob<"u"}function Vg(t,e,n,i){if(i<e)throw Ed(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Ed(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function $v(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const o=e(i)+"="+e(t[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var qr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qr||(qr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,c=e.indexOf(t)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,i,o,c,d,f,p,g,v,y,x=!0,b=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=f,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=b,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,T)=>{this.resolve_=j,this.reject_=T,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Va(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=f=>{const p=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const f=c.getErrorCode()===qr.NO_ERROR,p=c.getStatus();if(!f||ZE(p,this.additionalRetryCodes_)&&this.retry){const v=c.getErrorCode()===qr.ABORT;i(!1,new Va(!1,null,v));return}const g=this.successCodes_.indexOf(p)!==-1;i(!0,new Va(g,c))})},n=(i,o)=>{const c=this.resolve_,d=this.reject_,f=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(f,f.getResponse());QE(p)?c(p):c()}catch(p){d(p)}else if(f!==null){const p=hh();p.serverResponse=f.getErrorText(),this.errorCallback_?d(this.errorCallback_(f,p)):d(p)}else if(o.canceled){const p=this.appDelete_?Hv():UE();d(p)}else{const p=FE();d(p)}};this.canceled_?n(!1,new Va(!1,null,!0)):this.backoffId_=KE(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YE(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Va{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function tj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ij(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sj(t,e,n,i,o,c,d=!0,f=!1){const p=$v(t.urlParams),g=t.url+p,v=Object.assign({},t.headers);return rj(v,e),tj(v,n),nj(v,c),ij(v,i),new ej(g,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,d,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aj(...t){const e=oj();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(ph())return new Blob(t);throw new Je(qe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){if(typeof atob>"u")throw GE("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ed{constructor(e,n){this.data=e,this.contentType=n||null}}function uj(t,e){switch(t){case vn.RAW:return new ed(Vv(e));case vn.BASE64:case vn.BASE64URL:return new ed(Gv(t,e));case vn.DATA_URL:return new ed(hj(e),fj(e))}throw hh()}function Vv(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const c=i,d=t.charCodeAt(++n);i=65536|(c&1023)<<10|d&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function dj(t){let e;try{e=decodeURIComponent(t)}catch{throw Zs(vn.DATA_URL,"Malformed data URL.")}return Vv(e)}function Gv(t,e){switch(t){case vn.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Zs(t,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Zs(t,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cj(e)}catch(o){throw o.message.includes("polyfill")?o:Zs(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}class qv{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Zs(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=pj(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function hj(t){const e=new qv(t);return e.base64?Gv(vn.BASE64,e.rest):dj(e.rest)}function fj(t){return new qv(t).contentType}function pj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){let i=0,o="";$g(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if($g(this.data_)){const i=this.data_,o=lj(i,e,n);return o===null?null:new mr(o)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new mr(i,!0)}}static getBlob(...e){if(ph()){const n=e.map(i=>i instanceof mr?i.data_:i);return new mr(aj.apply(null,n))}else{const n=e.map(d=>fh(d)?uj(vn.RAW,d).data:d.data_);let i=0;n.forEach(d=>{i+=d.byteLength});const o=new Uint8Array(i);let c=0;return n.forEach(d=>{for(let f=0;f<d.length;f++)o[c++]=d[f]}),new mr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t){let e;try{e=JSON.parse(t)}catch{return null}return XE(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gj(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function Kv(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){return e}class St{constructor(e,n,i,o){this.server=e,this.local=n||e,this.writable=!!i,this.xform=o||yj}}let Ga=null;function vj(t){return!fh(t)||t.length<2?t:Kv(t)}function Yv(){if(Ga)return Ga;const t=[];t.push(new St("bucket")),t.push(new St("generation")),t.push(new St("metageneration")),t.push(new St("name","fullPath",!0));function e(c,d){return vj(d)}const n=new St("name");n.xform=e,t.push(n);function i(c,d){return d!==void 0?Number(d):d}const o=new St("size");return o.xform=i,t.push(o),t.push(new St("timeCreated")),t.push(new St("updated")),t.push(new St("md5Hash",null,!0)),t.push(new St("cacheControl",null,!0)),t.push(new St("contentDisposition",null,!0)),t.push(new St("contentEncoding",null,!0)),t.push(new St("contentLanguage",null,!0)),t.push(new St("contentType",null,!0)),t.push(new St("metadata","customMetadata",!0)),Ga=t,Ga}function _j(t,e){function n(){const i=t.bucket,o=t.fullPath,c=new Ut(i,o);return e._makeStorageReference(c)}Object.defineProperty(t,"ref",{get:n})}function xj(t,e,n){const i={};i.type="file";const o=n.length;for(let c=0;c<o;c++){const d=n[c];i[d.local]=d.xform(i,e[d.server])}return _j(i,t),i}function Qv(t,e,n){const i=Jv(e);return i===null?null:xj(t,i,n)}function bj(t,e,n,i){const o=Jv(e);if(o===null||!fh(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(g=>{const v=t.bucket,y=t.fullPath,x="/b/"+d(v)+"/o/"+d(y),b=mh(x,n,i),j=$v({alt:"media",token:g});return b+j})[0]}function wj(t,e){const n={},i=e.length;for(let o=0;o<i;o++){const c=e[o];c.writable&&(n[c.server]=t[c.local])}return JSON.stringify(n)}class Xv{constructor(e,n,i,o){this.url=e,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t){if(!t)throw hh()}function Sj(t,e){function n(i,o){const c=Qv(t,o,e);return Zv(c!==null),c}return n}function Cj(t,e){function n(i,o){const c=Qv(t,o,e);return Zv(c!==null),bj(c,o,t.host,t._protocol)}return n}function e_(t){function e(n,i){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=ME():o=DE():n.getStatus()===402?o=LE(t.bucket):n.getStatus()===403?o=zE(t.path):o=i,o.status=n.getStatus(),o.serverResponse=i.serverResponse,o}return e}function Ej(t){const e=e_(t);function n(i,o){let c=e(i,o);return i.getStatus()===404&&(c=OE(t.path)),c.serverResponse=o.serverResponse,c}return n}function jj(t,e,n){const i=e.fullServerUrl(),o=mh(i,t.host,t._protocol),c="GET",d=t.maxOperationRetryTime,f=new Xv(o,c,Cj(t,n),d);return f.errorHandler=Ej(e),f}function kj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Ij(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=kj(null,e)),i}function Tj(t,e,n,i,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function f(){let O="";for(let $=0;$<2;$++)O=O+Math.random().toString().slice(2);return O}const p=f();d["Content-Type"]="multipart/related; boundary="+p;const g=Ij(e,i,o),v=wj(g,n),y="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,x=`\r
--`+p+"--",b=mr.getBlob(y,i,x);if(b===null)throw $E();const j={name:g.fullPath},T=mh(c,t.host,t._protocol),E="POST",N=t.maxUploadRetryTime,z=new Xv(T,E,Sj(t,n),N);return z.urlParams=j,z.headers=d,z.body=b.uploadData(),z.errorHandler=e_(e),z}class Rj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,o,c){if(this.sent_)throw Hs("cannot .send() more than once");if(Tr(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),c!==void 0)for(const d in c)c.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,c[d].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Pj extends Rj{initXhr(){this.xhr_.responseType="text"}}function t_(){return new Pj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){this._service=e,n instanceof Ut?this._location=n:this._location=Ut.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xr(e,n)}get root(){const e=new Ut(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kv(this._location.path)}get storage(){return this._service}get parent(){const e=mj(this._location.path);if(e===null)return null;const n=new Ut(this._location.bucket,e);return new Xr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw qE(e)}}function Nj(t,e,n){t._throwIfRoot("uploadBytes");const i=Tj(t.storage,t._location,Yv(),new mr(e,!0),n);return t.storage.makeRequestWithTokens(i,t_).then(o=>({metadata:o,ref:t}))}function Aj(t){t._throwIfRoot("getDownloadURL");const e=jj(t.storage,t._location,Yv());return t.storage.makeRequestWithTokens(e,t_).then(n=>{if(n===null)throw VE();return n})}function Oj(t,e){const n=gj(t._location.path,e),i=new Ut(t._location.bucket,n);return new Xr(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){return/^[A-Za-z]+:\/\//.test(t)}function Dj(t,e){return new Xr(t,e)}function n_(t,e){if(t instanceof gh){const n=t;if(n._bucket==null)throw HE();const i=new Xr(n,n._bucket);return e!=null?n_(i,e):i}else return e!==void 0?Oj(t,e):t}function Mj(t,e){if(e&&Lj(e)){if(t instanceof gh)return Dj(t,e);throw Ed("To use ref(service, url), the first argument must be a Storage instance.")}else return n_(t,e)}function Gg(t,e){const n=e==null?void 0:e[Wv];return n==null?null:Ut.makeFromBucketSpec(n,t)}function zj(t,e,n,i={}){t.host=`${e}:${n}`;const o=Tr(e);o&&(Jd(`https://${t.host}/b`),Kd("Storage",!0)),t._isUsingEmulator=!0,t._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(t._overrideAuthToken=typeof c=="string"?c:Xy(c,t.app.options.projectId))}class gh{constructor(e,n,i,o,c,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=Bv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NE,this._maxUploadRetryTime=AE,this._requests=new Set,o!=null?this._bucket=Ut.makeFromBucketSpec(o,this._host):this._bucket=Gg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ut.makeFromBucketSpec(this._url,e):this._bucket=Gg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Vg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Vg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xr(this,e)}_makeRequest(e,n,i,o,c=!0){if(this._deleted)return new JE(Hv());{const d=sj(e,this._appId,i,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const qg="@firebase/storage",Jg="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="storage";function Fj(t,e,n){return t=Ze(t),Nj(t,e,n)}function Uj(t){return t=Ze(t),Aj(t)}function Bj(t,e){return t=Ze(t),Mj(t,e)}function Wj(t=Zd(),e){t=Ze(t);const i=Rl(t,r_).getImmediate({identifier:e}),o=Ky("storage");return o&&Hj(i,...o),i}function Hj(t,e,n,i={}){zj(t,e,n,i)}function $j(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new gh(n,i,o,e,ni)}function Vj(){Kr(new Sr(r_,$j,"PUBLIC").setMultipleInstances(!0)),_n(qg,Jg,""),_n(qg,Jg,"esm2017")}Vj();var Kg={};const Yg="@firebase/database",Qg="1.0.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i_="";function Gj(t){i_=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),st(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ao(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return wn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new qj(e)}}catch{}return new Jj},Gr=s_("localStorage"),Kj=s_("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Qd("@firebase/database"),Yj=(function(){let t=1;return function(){return t++}})(),o_=function(t){const e=ow(t),n=new nw;n.update(e);const i=n.digest();return Gd.encodeByteArray(i)},Io=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Io.apply(null,i):typeof i=="object"?e+=st(i):e+=i,e+=" "}return e};let eo=null,Xg=!0;const Qj=function(t,e){J(!0,"Can't turn on custom loggers persistently."),Fi.logLevel=Ae.VERBOSE,eo=Fi.log.bind(Fi)},ft=function(...t){if(Xg===!0&&(Xg=!1,eo===null&&Kj.get("logging_enabled")===!0&&Qj()),eo){const e=Io.apply(null,t);eo(e)}},To=function(t){return function(...e){ft(t,...e)}},jd=function(...t){const e="FIREBASE INTERNAL ERROR: "+Io(...t);Fi.error(e)},Un=function(...t){const e=`FIREBASE FATAL ERROR: ${Io(...t)}`;throw Fi.error(e),new Error(e)},Et=function(...t){const e="FIREBASE WARNING: "+Io(...t);Fi.warn(e)},Xj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Zj=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Wi="[MIN_NAME]",Zr="[MAX_NAME]",ri=function(t,e){if(t===e)return 0;if(t===Wi||e===Zr)return-1;if(e===Wi||t===Zr)return 1;{const n=Zg(t),i=Zg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},ek=function(t,e){return t===e?0:t<e?-1:1},$s=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+st(e))},vh=function(t){if(typeof t!="object"||t===null)return st(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=st(e[i]),n+=":",n+=vh(t[e[i]]);return n+="}",n},a_=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function pt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const l_=function(t){J(!yh(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,c,d,f,p;t===0?(c=0,d=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(f=Math.min(Math.floor(Math.log(t)/Math.LN2),i),c=f+i,d=Math.round(t*Math.pow(2,n-f)-Math.pow(2,n))):(c=0,d=Math.round(t/Math.pow(2,1-i-n))));const g=[];for(p=n;p;p-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(p=e;p;p-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(o?1:0),g.reverse();const v=g.join("");let y="";for(p=0;p<64;p+=8){let x=parseInt(v.substr(p,8),2).toString(16);x.length===1&&(x="0"+x),y=y+x}return y.toLowerCase()},tk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},nk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function rk(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const ik=new RegExp("^-?(0*)\\d{1,10}$"),sk=-2147483648,ok=2147483647,Zg=function(t){if(ik.test(t)){const e=Number(t);if(e>=sk&&e<=ok)return e}return null},Zi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Et("Exception was thrown by user callback.",n),e},Math.floor(0))}},ak=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},to=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,At(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(e)}}class Za{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Za.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h="5",c_="v",u_="s",d_="r",h_="f",f_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,p_="ls",m_="p",kd="ac",g_="websocket",y_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,i,o,c=!1,d="",f=!1,p=!1,g=null){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=f,this.isUsingEmulator=p,this.emulatorOptions=g,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Gr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function uk(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function __(t,e,n){J(typeof e=="string","typeof type must == string"),J(typeof n=="object","typeof params must == object");let i;if(e===g_)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===y_)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uk(t)&&(n.ns=t.namespace);const o=[];return pt(n,(c,d)=>{o.push(c+"="+d)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.counters_={}}incrementCounter(e,n=1){wn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return M1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td={},nd={};function xh(t){const e=t.toString();return td[e]||(td[e]=new dk),td[e]}function hk(t,e){const n=t.toString();return nd[n]||(nd[n]=e()),nd[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&Zi(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="start",pk="close",mk="pLPCommand",gk="pRTLPCB",x_="id",b_="pw",w_="ser",yk="cb",vk="seg",_k="ts",xk="d",bk="dframe",S_=1870,C_=30,wk=S_-C_,Sk=25e3,Ck=3e4;class Li{constructor(e,n,i,o,c,d,f){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.transportSessionId=d,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=To(e),this.stats_=xh(n),this.urlFn=p=>(this.appCheckToken&&(p[kd]=this.appCheckToken),__(n,y_,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fk(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ck)),Zj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bh((...c)=>{const[d,f,p,g,v]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===ey)this.id=f,this.password=p;else if(d===pk)f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,f]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,f)},()=>{this.onClosed_()},this.urlFn);const i={};i[ey]="t",i[w_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[yk]=this.scriptTagHolder.uniqueCallbackIdentifier),i[c_]=_h,this.transportSessionId&&(i[u_]=this.transportSessionId),this.lastSessionId&&(i[p_]=this.lastSessionId),this.applicationId&&(i[m_]=this.applicationId),this.appCheckToken&&(i[kd]=this.appCheckToken),typeof location<"u"&&location.hostname&&f_.test(location.hostname)&&(i[d_]=h_);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Li.forceAllow_=!0}static forceDisallow(){Li.forceDisallow_=!0}static isAvailable(){return Li.forceAllow_?!0:!Li.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!tk()&&!nk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Gy(n),o=a_(i,wk);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[bk]="t",i[x_]=e,i[b_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=st(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bh{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Yj(),window[mk+this.uniqueCallbackIdentifier]=e,window[gk+this.uniqueCallbackIdentifier]=n,this.myIFrame=bh.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(f){ft("frame writing exception"),f.stack&&ft(f.stack),ft(f)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ft("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[x_]=this.myID,e[b_]=this.myPW,e[w_]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+C_+i.length<=S_;){const d=this.pendingSegs.shift();i=i+"&"+vk+o+"="+d.seg+"&"+_k+o+"="+d.ts+"&"+xk+o+"="+d.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(Sk)),c=()=>{clearTimeout(o),i()};this.addTag(e,c)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ft("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=16384,jk=45e3;let fl=null;typeof MozWebSocket<"u"?fl=MozWebSocket:typeof WebSocket<"u"&&(fl=WebSocket);class an{constructor(e,n,i,o,c,d,f){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=To(this.connId),this.stats_=xh(n),this.connURL=an.connectionURL_(n,d,f,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,c){const d={};return d[c_]=_h,typeof location<"u"&&location.hostname&&f_.test(location.hostname)&&(d[d_]=h_),n&&(d[u_]=n),i&&(d[p_]=i),o&&(d[kd]=o),c&&(d[m_]=c),__(e,g_,d)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gr.set("previous_websocket_failure",!0);try{let i;J1(),this.mySock=new fl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){an.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&fl!==null&&!an.forceDisallow_}static previouslyFailed(){return Gr.isInMemoryStorage||Gr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ao(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(J(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=st(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=a_(n,Ek);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jk))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}an.responsesRequiredToBeHealthy=2;an.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static get ALL_TRANSPORTS(){return[Li,an]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=an&&an.isAvailable();let i=n&&!an.previouslyFailed();if(e.webSocketOnly&&(n||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[an];else{const o=this.transports_=[];for(const c of ho.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);ho.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ho.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=6e4,Ik=5e3,Tk=10*1024,Rk=100*1024,rd="t",ty="d",Pk="s",ny="r",Nk="e",ry="o",iy="a",sy="n",oy="p",Ak="h";class Ok{constructor(e,n,i,o,c,d,f,p,g,v){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=d,this.onReady_=f,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=To("c:"+this.id+":"),this.transportManager_=new ho(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=to(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Rk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Tk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rd in e){const n=e[rd];n===iy?this.upgradeIfSecondaryHealthy_():n===ny?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ry&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=$s("t",e),i=$s("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=$s("t",e),i=$s("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=$s(rd,e);if(ty in e){const i=e[ty];if(n===Ak){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===sy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Pk?this.onConnectionShutdown_(i):n===ny?this.onReset_(i):n===Nk?jd("Server Error: "+i):n===ry?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jd("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_h!==i&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),to(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(kk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):to(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ik))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e){this.allowedEvents_=e,this.listeners_={},J(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===n&&(!i||i===o[c].context)){o.splice(c,1);return}}validateEventType_(e){J(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends j_{static getInstance(){return new pl}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Yd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return J(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=32,ly=768;class Oe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Re(){return new Oe("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cr(t){return t.pieces_.length-t.pieceNum_}function Me(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Oe(t.pieces_,e)}function wh(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Lk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function fo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function k_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Oe(e,0)}function Ve(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Oe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Oe(n,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){const n=we(t),i=we(e);if(n===null)return e;if(n===i)return Ct(Me(t),Me(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Dk(t,e){const n=fo(t,0),i=fo(e,0);for(let o=0;o<n.length&&o<i.length;o++){const c=ri(n[o],i[o]);if(c!==0)return c}return n.length===i.length?0:n.length<i.length?-1:1}function Sh(t,e){if(Cr(t)!==Cr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function qt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Cr(t)>Cr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class Mk{constructor(e,n){this.errorPrefix_=n,this.parts_=fo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Tl(this.parts_[i]);I_(this)}}function zk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tl(e),I_(t)}function Fk(t){const e=t.parts_.pop();t.byteLength_-=Tl(e),t.parts_.length>0&&(t.byteLength_-=1)}function I_(t){if(t.byteLength_>ly)throw new Error(t.errorPrefix_+"has a key path longer than "+ly+" bytes ("+t.byteLength_+").");if(t.parts_.length>ay)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ay+") or object contains a cycle "+$r(t))}function $r(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends j_{static getInstance(){return new Ch}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return J(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=1e3,Uk=300*1e3,cy=30*1e3,Bk=1.3,Wk=3e4,Hk="server_kill",uy=3;class Mn extends E_{constructor(e,n,i,o,c,d,f,p){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=p,this.id=Mn.nextPersistentConnectionId_++,this.log_=To("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vs,this.maxReconnectDelay_=Uk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ch.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&pl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,c={r:o,a:e,b:n};this.log_(st(c)),J(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new wo,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const f=d.d;d.s==="ok"?n.resolve(f):n.reject(f)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),n.promise}listen(e,n,i,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),J(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const c={p:i},d="q";e.tag&&(c.q=n._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(d,c,f=>{const p=f.d,g=f.s;Mn.warnOnListenWarnings_(p,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",f),g!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(g,p))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&wn(e,"w")){const i=Bi(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',c=n._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||tw(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=ew(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),J(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const c={p:e},d="n";o&&(c.q=i,c.t=o),this.sendRequest(d,c)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const c={p:n,d:i};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,c){this.initConnection_();const d={p:n,d:i};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++;const f=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(f):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,c=>{this.log_(n+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const c=i.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+st(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):jd("Unrecognized action received from server: "+st(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){J(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Wk&&(this.reconnectDelay_=Vs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Bk)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Mn.nextConnectionId_++,c=this.lastSessionId;let d=!1,f=null;const p=function(){f?f.close():(d=!0,i())},g=function(y){J(f,"sendRequest call when we're not connected not allowed."),f.sendRequest(y)};this.realtime_={close:p,sendRequest:g};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,x]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);d?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=x&&x.token,f=new Ok(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,b=>{Et(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(Hk)},c))}catch(y){this.log_("Failed to get token: "+y),d||(this.repoInfo_.nodeAdmin&&Et(y),p())}}}interrupt(e){ft("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ft("Resuming connection for reason: "+e),delete this.interruptReasons_[e],gd(this.interruptReasons_)&&(this.reconnectDelay_=Vs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(c=>vh(c)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Oe(e).toString();let o;if(this.listens.has(i)){const c=this.listens.get(i);o=c.get(n),c.delete(n),c.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){ft("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uy&&(this.reconnectDelay_=cy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ft("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+i_.replace(/\./g,"-")]=1,Yd()?e["framework.cordova"]=1:Zy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=pl.getInstance().currentlyOnline();return gd(this.interruptReasons_)&&e}}Mn.nextPersistentConnectionId_=0;Mn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new Se(Wi,e),o=new Se(Wi,n);return this.compare(i,o)!==0}minPost(){return Se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qa;class T_ extends Ll{static get __EMPTY_NODE(){return qa}static set __EMPTY_NODE(e){qa=e}compare(e,n){return ri(e.name,n.name)}isDefinedOn(e){throw Yi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Se.MIN}maxPost(){return new Se(Zr,qa)}makePost(e,n){return J(typeof e=="string","KeyIndex indexValue must always be a string."),new Se(e,qa)}toString(){return".key"}}const Ui=new T_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n,i,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=n?i(e.key,n):1,o&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ut{constructor(e,n,i,o,c){this.key=e,this.value=n,this.color=i??ut.RED,this.left=o??Ot.EMPTY_NODE,this.right=c??Ot.EMPTY_NODE}copy(e,n,i,o,c){return new ut(e??this.key,n??this.value,i??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const c=i(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):c===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ot.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ut.RED=!0;ut.BLACK=!1;class $k{copy(e,n,i,o,c){return this}insert(e,n,i){return new ut(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(e,n=Ot.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ot(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ut.BLACK,null,null))}remove(e){return new Ot(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ut.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ja(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ja(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ja(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ja(this.root_,null,this.comparator_,!0,e)}}Ot.EMPTY_NODE=new $k;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t,e){return ri(t.name,e.name)}function Eh(t,e){return ri(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id;function Gk(t){Id=t}const R_=function(t){return typeof t=="number"?"number:"+l_(t):"string:"+t},P_=function(t){if(t.isLeafNode()){const e=t.val();J(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wn(e,".sv"),"Priority must be a string or number.")}else J(t===Id||t.isEmpty(),"priority of unexpected type.");J(t===Id||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy;class ct{static set __childrenNodeConstructor(e){dy=e}static get __childrenNodeConstructor(){return dy}constructor(e,n=ct.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,J(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),P_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ct(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:we(e)===".priority"?this.priorityNode_:ct.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ct.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=we(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(J(i!==".priority"||Cr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ct.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+R_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=l_(this.value_):e+=this.value_,this.lazyHash_=o_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ct.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ct.__childrenNodeConstructor?-1:(J(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=ct.VALUE_TYPE_ORDER.indexOf(n),c=ct.VALUE_TYPE_ORDER.indexOf(i);return J(o>=0,"Unknown leaf type: "+n),J(c>=0,"Unknown leaf type: "+i),o===c?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ct.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N_,A_;function qk(t){N_=t}function Jk(t){A_=t}class Kk extends Ll{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),c=i.compareTo(o);return c===0?ri(e.name,n.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Se.MIN}maxPost(){return new Se(Zr,new ct("[PRIORITY-POST]",A_))}makePost(e,n){const i=N_(e);return new Se(n,new ct("[PRIORITY-POST]",i))}toString(){return".priority"}}const Ge=new Kk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=Math.log(2);class Qk{constructor(e){const n=c=>parseInt(Math.log(c)/Yk,10),i=c=>parseInt(Array(c+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ml=function(t,e,n,i){t.sort(e);const o=function(p,g){const v=g-p;let y,x;if(v===0)return null;if(v===1)return y=t[p],x=n?n(y):y,new ut(x,y.node,ut.BLACK,null,null);{const b=parseInt(v/2,10)+p,j=o(p,b),T=o(b+1,g);return y=t[b],x=n?n(y):y,new ut(x,y.node,ut.BLACK,j,T)}},c=function(p){let g=null,v=null,y=t.length;const x=function(j,T){const E=y-j,N=y;y-=j;const z=o(E+1,N),O=t[E],$=n?n(O):O;b(new ut($,O.node,T,null,z))},b=function(j){g?(g.left=j,g=j):(v=j,g=j)};for(let j=0;j<p.count;++j){const T=p.nextBitIsOne(),E=Math.pow(2,p.count-(j+1));T?x(E,ut.BLACK):(x(E,ut.BLACK),x(E,ut.RED))}return v},d=new Qk(t.length),f=c(d);return new Ot(i||e,f)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id;const Pi={};class Ln{static get Default(){return J(Pi&&Ge,"ChildrenNode.ts has not been loaded"),id=id||new Ln({".priority":Pi},{".priority":Ge}),id}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Bi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ot?n:null}hasIndex(e){return wn(this.indexSet_,e.toString())}addIndex(e,n){J(e!==Ui,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const c=n.getIterator(Se.Wrap);let d=c.getNext();for(;d;)o=o||e.isDefinedOn(d.node),i.push(d),d=c.getNext();let f;o?f=ml(i,e.getCompare()):f=Pi;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const v=Object.assign({},this.indexes_);return v[p]=f,new Ln(v,g)}addToIndexes(e,n){const i=il(this.indexes_,(o,c)=>{const d=Bi(this.indexSet_,c);if(J(d,"Missing index implementation for "+c),o===Pi)if(d.isDefinedOn(e.node)){const f=[],p=n.getIterator(Se.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&f.push(g),g=p.getNext();return f.push(e),ml(f,d.getCompare())}else return Pi;else{const f=n.get(e.name);let p=o;return f&&(p=p.remove(new Se(e.name,f))),p.insert(e,e.node)}});return new Ln(i,this.indexSet_)}removeFromIndexes(e,n){const i=il(this.indexes_,o=>{if(o===Pi)return o;{const c=n.get(e.name);return c?o.remove(new Se(e.name,c)):o}});return new Ln(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs;class he{static get EMPTY_NODE(){return Gs||(Gs=new he(new Ot(Eh),null,Ln.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&P_(this.priorityNode_),this.children_.isEmpty()&&J(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gs}updatePriority(e){return this.children_.isEmpty()?this:new he(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Gs:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Me(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(J(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new Se(e,n);let o,c;n.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(i,this.children_));const d=o.isEmpty()?Gs:this.priorityNode_;return new he(o,d,c)}}updateChild(e,n){const i=we(e);if(i===null)return n;{J(we(e)!==".priority"||Cr(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Me(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,c=!0;if(this.forEachChild(Ge,(d,f)=>{n[d]=f.val(e),i++,c&&he.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*i){const d=[];for(const f in n)d[f]=n[f];return d}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+R_(this.getPriority().val())+":"),this.forEachChild(Ge,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":o_(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const c=o.getPredecessorKey(new Se(e,n));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Se(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Se.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Se.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ro?-1:0}withIndex(e){if(e===Ui||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new he(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ui||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Ge),o=n.getIterator(Ge);let c=i.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=i.getNext(),d=o.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===Ui?null:this.indexMap_.get(e.toString())}}he.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Xk extends he{constructor(){super(new Ot(Eh),he.EMPTY_NODE,Ln.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return he.EMPTY_NODE}isEmpty(){return!1}}const Ro=new Xk;Object.defineProperties(Se,{MIN:{value:new Se(Wi,he.EMPTY_NODE)},MAX:{value:new Se(Zr,Ro)}});T_.__EMPTY_NODE=he.EMPTY_NODE;ct.__childrenNodeConstructor=he;Gk(Ro);Jk(Ro);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=!0;function it(t,e=null){if(t===null)return he.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),J(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ct(n,it(e))}if(!(t instanceof Array)&&Zk){const n=[];let i=!1;if(pt(t,(d,f)=>{if(d.substring(0,1)!=="."){const p=it(f);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),n.push(new Se(d,p)))}}),n.length===0)return he.EMPTY_NODE;const c=ml(n,Vk,d=>d.name,Eh);if(i){const d=ml(n,Ge.getCompare());return new he(c,it(e),new Ln({".priority":d},{".priority":Ge}))}else return new he(c,it(e),Ln.Default)}else{let n=he.EMPTY_NODE;return pt(t,(i,o)=>{if(wn(t,i)&&i.substring(0,1)!=="."){const c=it(o);(c.isLeafNode()||!c.isEmpty())&&(n=n.updateImmediateChild(i,c))}}),n.updatePriority(it(e))}}qk(it);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Ll{constructor(e){super(),this.indexPath_=e,J(!Ce(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),c=i.compareTo(o);return c===0?ri(e.name,n.name):c}makePost(e,n){const i=it(e),o=he.EMPTY_NODE.updateChild(this.indexPath_,i);return new Se(n,o)}maxPost(){const e=he.EMPTY_NODE.updateChild(this.indexPath_,Ro);return new Se(Zr,e)}toString(){return fo(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI extends Ll{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ri(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Se.MIN}maxPost(){return Se.MAX}makePost(e,n){const i=it(e);return new Se(n,i)}toString(){return".value"}}const nI=new tI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(t){return{type:"value",snapshotNode:t}}function Hi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function po(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function mo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function rI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.index_=e}updateChild(e,n,i,o,c,d){J(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=e.getImmediateChild(n);return f.getChild(o).equals(i.getChild(o))&&f.isEmpty()===i.isEmpty()||(d!=null&&(i.isEmpty()?e.hasChild(n)?d.trackChildChange(po(n,f)):J(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?d.trackChildChange(Hi(n,i)):d.trackChildChange(mo(n,i,f))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ge,(o,c)=>{n.hasChild(o)||i.trackChildChange(po(o,c))}),n.isLeafNode()||n.forEachChild(Ge,(o,c)=>{if(e.hasChild(o)){const d=e.getImmediateChild(o);d.equals(c)||i.trackChildChange(mo(o,c,d))}else i.trackChildChange(Hi(o,c))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?he.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.indexedFilter_=new jh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=go.getStartPost_(e),this.endPost_=go.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,c,d){return this.matches(new Se(n,i))||(i=he.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,c,d)}updateFullNode(e,n,i){n.isLeafNode()&&(n=he.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(he.EMPTY_NODE);const c=this;return n.forEachChild(Ge,(d,f)=>{c.matches(new Se(d,f))||(o=o.updateImmediateChild(d,he.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new go(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,c,d){return this.rangedFilter_.matches(new Se(n,i))||(i=he.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,c,d):this.fullLimitUpdateChild_(e,n,i,c,d)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=he.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=he.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const f=c.getNext();if(this.withinDirectionalStart(f))if(this.withinDirectionalEnd(f))o=o.updateImmediateChild(f.name,f.node),d++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(he.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let d=0;for(;c.hasNext();){const f=c.getNext();d<this.limit_&&this.withinDirectionalStart(f)&&this.withinDirectionalEnd(f)?d++:o=o.updateImmediateChild(f.name,he.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,c){let d;if(this.reverse_){const y=this.index_.getCompare();d=(x,b)=>y(b,x)}else d=this.index_.getCompare();const f=e;J(f.numChildren()===this.limit_,"");const p=new Se(n,i),g=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(f.hasChild(n)){const y=f.getImmediateChild(n);let x=o.getChildAfterChild(this.index_,g,this.reverse_);for(;x!=null&&(x.name===n||f.hasChild(x.name));)x=o.getChildAfterChild(this.index_,x,this.reverse_);const b=x==null?1:d(x,p);if(v&&!i.isEmpty()&&b>=0)return c!=null&&c.trackChildChange(mo(n,i,y)),f.updateImmediateChild(n,i);{c!=null&&c.trackChildChange(po(n,y));const T=f.updateImmediateChild(n,he.EMPTY_NODE);return x!=null&&this.rangedFilter_.matches(x)?(c!=null&&c.trackChildChange(Hi(x.name,x.node)),T.updateImmediateChild(x.name,x.node)):T}}else return i.isEmpty()?e:v&&d(g,p)>=0?(c!=null&&(c.trackChildChange(po(g.name,g.node)),c.trackChildChange(Hi(n,i))),f.updateImmediateChild(n,i).updateImmediateChild(g.name,he.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ge}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return J(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return J(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Wi}hasEnd(){return this.endSet_}getIndexEndValue(){return J(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return J(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return J(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ge}copy(){const e=new kh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sI(t){return t.loadsAllData()?new jh(t.getIndex()):t.hasLimit()?new iI(t):new go(t)}function hy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Ge?n="$priority":t.index_===nI?n="$value":t.index_===Ui?n="$key":(J(t.index_ instanceof eI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=st(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=st(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+st(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=st(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+st(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ge&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends E_{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(J(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=To("p:rest:"),this.listens_={}}listen(e,n,i,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const d=gl.getListenId_(e,i),f={};this.listens_[d]=f;const p=hy(e._queryParams);this.restRequest_(c+".json",p,(g,v)=>{let y=v;if(g===404&&(y=null,g=null),g===null&&this.onDataUpdate_(c,y,!1,i),Bi(this.listens_,d)===f){let x;g?g===401?x="permission_denied":x="rest_error:"+g:x="ok",o(x,null)}})}unlisten(e,n){const i=gl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=hy(e._queryParams),i=e._path.toString(),o=new wo;return this.restRequest_(i+".json",n,(c,d)=>{let f=d;c===404&&(f=null,c=null),c===null?(this.onDataUpdate_(i,f,!1,null),o.resolve(f)):o.reject(new Error(f))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(n.auth=o.accessToken),c&&c.token&&(n.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qi(n);this.log_("Sending REST request for "+d);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(i&&f.readyState===4){this.log_("REST Response for "+d+" received. status:",f.status,"response:",f.responseText);let p=null;if(f.status>=200&&f.status<300){try{p=ao(f.responseText)}catch{Et("Failed to parse JSON response for "+d+": "+f.responseText)}i(null,p)}else f.status!==401&&f.status!==404&&Et("Got unsuccessful REST response for "+d+" Status: "+f.status),i(f.status);i=null}},f.open("GET",d,!0),f.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.rootNode_=he.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(){return{value:null,children:new Map}}function L_(t,e,n){if(Ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=we(e);t.children.has(i)||t.children.set(i,yl());const o=t.children.get(i);e=Me(e),L_(o,e,n)}}function Td(t,e,n){t.value!==null?n(e,t.value):aI(t,(i,o)=>{const c=new Oe(e.toString()+"/"+i);Td(o,c,n)})}function aI(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&pt(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=10*1e3,cI=30*1e3,uI=300*1e3;class dI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new lI(e);const i=py+(cI-py)*Math.random();to(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;pt(e,(o,c)=>{c>0&&wn(this.statsToReport_,o)&&(n[o]=c,i=!0)}),i&&this.server_.reportStats(n),to(this.reportStats_.bind(this),Math.floor(Math.random()*2*uI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(cn||(cn={}));function Ih(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Th(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rh(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=cn.ACK_USER_WRITE,this.source=Ih()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return J(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Oe(e));return new vl(Re(),n,this.revert)}}else return J(we(this.path)===e,"operationForChild called for unrelated child."),new vl(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.source=e,this.path=n,this.type=cn.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new yo(this.source,Re()):new yo(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=cn.OVERWRITE}operationForChild(e){return Ce(this.path)?new ei(this.source,Re(),this.snap.getImmediateChild(e)):new ei(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=cn.MERGE}operationForChild(e){if(Ce(this.path)){const n=this.children.subtree(new Oe(e));return n.isEmpty()?null:n.value?new ei(this.source,Re(),n.value):new $i(this.source,Re(),n)}else return J(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $i(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function fI(t,e,n,i){const o=[],c=[];return e.forEach(d=>{d.type==="child_changed"&&t.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(rI(d.childName,d.snapshotNode))}),qs(t,o,"child_removed",e,i,n),qs(t,o,"child_added",e,i,n),qs(t,o,"child_moved",c,i,n),qs(t,o,"child_changed",e,i,n),qs(t,o,"value",e,i,n),o}function qs(t,e,n,i,o,c){const d=i.filter(f=>f.type===n);d.sort((f,p)=>mI(t,f,p)),d.forEach(f=>{const p=pI(t,f,c);o.forEach(g=>{g.respondsTo(f.type)&&e.push(g.createEvent(p,t.query_))})})}function pI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mI(t,e,n){if(e.childName==null||n.childName==null)throw Yi("Should only compare child_ events.");const i=new Se(e.childName,e.snapshotNode),o=new Se(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){return{eventCache:t,serverCache:e}}function no(t,e,n,i){return Dl(new Er(e,n,i),t.serverCache)}function D_(t,e,n,i){return Dl(t.eventCache,new Er(e,n,i))}function _l(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ti(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd;const gI=()=>(sd||(sd=new Ot(ek)),sd);class De{static fromObject(e){let n=new De(null);return pt(e,(i,o)=>{n=n.set(new Oe(i),o)}),n}constructor(e,n=gI()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(Ce(e))return null;{const i=we(e),o=this.children.get(i);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Me(e),n);return c!=null?{path:Ve(new Oe(i),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const n=we(e),i=this.children.get(n);return i!==null?i.subtree(Me(e)):new De(null)}}set(e,n){if(Ce(e))return new De(n,this.children);{const i=we(e),c=(this.children.get(i)||new De(null)).set(Me(e),n),d=this.children.insert(i,c);return new De(this.value,d)}}remove(e){if(Ce(e))return this.children.isEmpty()?new De(null):new De(null,this.children);{const n=we(e),i=this.children.get(n);if(i){const o=i.remove(Me(e));let c;return o.isEmpty()?c=this.children.remove(n):c=this.children.insert(n,o),this.value===null&&c.isEmpty()?new De(null):new De(this.value,c)}else return this}}get(e){if(Ce(e))return this.value;{const n=we(e),i=this.children.get(n);return i?i.get(Me(e)):null}}setTree(e,n){if(Ce(e))return n;{const i=we(e),c=(this.children.get(i)||new De(null)).setTree(Me(e),n);let d;return c.isEmpty()?d=this.children.remove(i):d=this.children.insert(i,c),new De(this.value,d)}}fold(e){return this.fold_(Re(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,c)=>{i[o]=c.fold_(Ve(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Re(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(Ce(e))return null;{const c=we(e),d=this.children.get(c);return d?d.findOnPath_(Me(e),Ve(n,c),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Re(),n)}foreachOnPath_(e,n,i){if(Ce(e))return this;{this.value&&i(n,this.value);const o=we(e),c=this.children.get(o);return c?c.foreachOnPath_(Me(e),Ve(n,o),i):new De(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(Ve(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.writeTree_=e}static empty(){return new dn(new De(null))}}function ro(t,e,n){if(Ce(e))return new dn(new De(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let c=i.value;const d=Ct(o,e);return c=c.updateChild(d,n),new dn(t.writeTree_.set(o,c))}else{const o=new De(n),c=t.writeTree_.setTree(e,o);return new dn(c)}}}function Rd(t,e,n){let i=t;return pt(n,(o,c)=>{i=ro(i,Ve(e,o),c)}),i}function my(t,e){if(Ce(e))return dn.empty();{const n=t.writeTree_.setTree(e,new De(null));return new dn(n)}}function Pd(t,e){return ii(t,e)!=null}function ii(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function gy(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ge,(i,o)=>{e.push(new Se(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new Se(i,o.value))}),e}function br(t,e){if(Ce(e))return t;{const n=ii(t,e);return n!=null?new dn(new De(n)):new dn(t.writeTree_.subtree(e))}}function Nd(t){return t.writeTree_.isEmpty()}function Vi(t,e){return M_(Re(),t.writeTree_,e)}function M_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(J(c.value!==null,"Priority writes must always be leaf nodes"),i=c.value):n=M_(Ve(t,o),c,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Ve(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t,e){return B_(e,t)}function yI(t,e,n,i,o){J(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=ro(t.visibleWrites,e,n)),t.lastWriteId=i}function vI(t,e,n,i){J(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Rd(t.visibleWrites,e,n),t.lastWriteId=i}function _I(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function xI(t,e){const n=t.allWrites.findIndex(f=>f.writeId===e);J(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,c=!1,d=t.allWrites.length-1;for(;o&&d>=0;){const f=t.allWrites[d];f.visible&&(d>=n&&bI(f,i.path)?o=!1:qt(i.path,f.path)&&(c=!0)),d--}if(o){if(c)return wI(t),!0;if(i.snap)t.visibleWrites=my(t.visibleWrites,i.path);else{const f=i.children;pt(f,p=>{t.visibleWrites=my(t.visibleWrites,Ve(i.path,p))})}return!0}else return!1}function bI(t,e){if(t.snap)return qt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&qt(Ve(t.path,n),e))return!0;return!1}function wI(t){t.visibleWrites=z_(t.allWrites,SI,Re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function SI(t){return t.visible}function z_(t,e,n){let i=dn.empty();for(let o=0;o<t.length;++o){const c=t[o];if(e(c)){const d=c.path;let f;if(c.snap)qt(n,d)?(f=Ct(n,d),i=ro(i,f,c.snap)):qt(d,n)&&(f=Ct(d,n),i=ro(i,Re(),c.snap.getChild(f)));else if(c.children){if(qt(n,d))f=Ct(n,d),i=Rd(i,f,c.children);else if(qt(d,n))if(f=Ct(d,n),Ce(f))i=Rd(i,Re(),c.children);else{const p=Bi(c.children,we(f));if(p){const g=p.getChild(Me(f));i=ro(i,Re(),g)}}}else throw Yi("WriteRecord should have .snap or .children")}}return i}function F_(t,e,n,i,o){if(!i&&!o){const c=ii(t.visibleWrites,e);if(c!=null)return c;{const d=br(t.visibleWrites,e);if(Nd(d))return n;if(n==null&&!Pd(d,Re()))return null;{const f=n||he.EMPTY_NODE;return Vi(d,f)}}}else{const c=br(t.visibleWrites,e);if(!o&&Nd(c))return n;if(!o&&n==null&&!Pd(c,Re()))return null;{const d=function(g){return(g.visible||o)&&(!i||!~i.indexOf(g.writeId))&&(qt(g.path,e)||qt(e,g.path))},f=z_(t.allWrites,d,e),p=n||he.EMPTY_NODE;return Vi(f,p)}}}function CI(t,e,n){let i=he.EMPTY_NODE;const o=ii(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Ge,(c,d)=>{i=i.updateImmediateChild(c,d)}),i;if(n){const c=br(t.visibleWrites,e);return n.forEachChild(Ge,(d,f)=>{const p=Vi(br(c,new Oe(d)),f);i=i.updateImmediateChild(d,p)}),gy(c).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}else{const c=br(t.visibleWrites,e);return gy(c).forEach(d=>{i=i.updateImmediateChild(d.name,d.node)}),i}}function EI(t,e,n,i,o){J(i||o,"Either existingEventSnap or existingServerSnap must exist");const c=Ve(e,n);if(Pd(t.visibleWrites,c))return null;{const d=br(t.visibleWrites,c);return Nd(d)?o.getChild(n):Vi(d,o.getChild(n))}}function jI(t,e,n,i){const o=Ve(e,n),c=ii(t.visibleWrites,o);if(c!=null)return c;if(i.isCompleteForChild(n)){const d=br(t.visibleWrites,o);return Vi(d,i.getNode().getImmediateChild(n))}else return null}function kI(t,e){return ii(t.visibleWrites,e)}function II(t,e,n,i,o,c,d){let f;const p=br(t.visibleWrites,e),g=ii(p,Re());if(g!=null)f=g;else if(n!=null)f=Vi(p,n);else return[];if(f=f.withIndex(d),!f.isEmpty()&&!f.isLeafNode()){const v=[],y=d.getCompare(),x=c?f.getReverseIteratorFrom(i,d):f.getIteratorFrom(i,d);let b=x.getNext();for(;b&&v.length<o;)y(b,i)!==0&&v.push(b),b=x.getNext();return v}else return[]}function TI(){return{visibleWrites:dn.empty(),allWrites:[],lastWriteId:-1}}function xl(t,e,n,i){return F_(t.writeTree,t.treePath,e,n,i)}function Ph(t,e){return CI(t.writeTree,t.treePath,e)}function yy(t,e,n,i){return EI(t.writeTree,t.treePath,e,n,i)}function bl(t,e){return kI(t.writeTree,Ve(t.treePath,e))}function RI(t,e,n,i,o,c){return II(t.writeTree,t.treePath,e,n,i,o,c)}function Nh(t,e,n){return jI(t.writeTree,t.treePath,e,n)}function U_(t,e){return B_(Ve(t.treePath,e),t.writeTree)}function B_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;J(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),J(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const c=o.type;if(n==="child_added"&&c==="child_removed")this.changeMap.set(i,mo(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&c==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&c==="child_changed")this.changeMap.set(i,po(i,o.oldSnap));else if(n==="child_changed"&&c==="child_added")this.changeMap.set(i,Hi(i,e.snapshotNode));else if(n==="child_changed"&&c==="child_changed")this.changeMap.set(i,mo(i,e.snapshotNode,o.oldSnap));else throw Yi("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const W_=new NI;class Ah{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Er(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nh(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ti(this.viewCache_),c=RI(this.writes_,o,n,1,i,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t){return{filter:t}}function OI(t,e){J(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),J(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function LI(t,e,n,i,o){const c=new PI;let d,f;if(n.type===cn.OVERWRITE){const g=n;g.source.fromUser?d=Ad(t,e,g.path,g.snap,i,o,c):(J(g.source.fromServer,"Unknown source."),f=g.source.tagged||e.serverCache.isFiltered()&&!Ce(g.path),d=wl(t,e,g.path,g.snap,i,o,f,c))}else if(n.type===cn.MERGE){const g=n;g.source.fromUser?d=MI(t,e,g.path,g.children,i,o,c):(J(g.source.fromServer,"Unknown source."),f=g.source.tagged||e.serverCache.isFiltered(),d=Od(t,e,g.path,g.children,i,o,f,c))}else if(n.type===cn.ACK_USER_WRITE){const g=n;g.revert?d=UI(t,e,g.path,i,o,c):d=zI(t,e,g.path,g.affectedTree,i,o,c)}else if(n.type===cn.LISTEN_COMPLETE)d=FI(t,e,n.path,i,c);else throw Yi("Unknown operation type: "+n.type);const p=c.getChanges();return DI(e,d,p),{viewCache:d,changes:p}}function DI(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),c=_l(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(c)||!i.getNode().getPriority().equals(c.getPriority()))&&n.push(O_(_l(e)))}}function H_(t,e,n,i,o,c){const d=e.eventCache;if(bl(i,n)!=null)return e;{let f,p;if(Ce(n))if(J(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=ti(e),v=g instanceof he?g:he.EMPTY_NODE,y=Ph(i,v);f=t.filter.updateFullNode(e.eventCache.getNode(),y,c)}else{const g=xl(i,ti(e));f=t.filter.updateFullNode(e.eventCache.getNode(),g,c)}else{const g=we(n);if(g===".priority"){J(Cr(n)===1,"Can't have a priority with additional path components");const v=d.getNode();p=e.serverCache.getNode();const y=yy(i,n,v,p);y!=null?f=t.filter.updatePriority(v,y):f=d.getNode()}else{const v=Me(n);let y;if(d.isCompleteForChild(g)){p=e.serverCache.getNode();const x=yy(i,n,d.getNode(),p);x!=null?y=d.getNode().getImmediateChild(g).updateChild(v,x):y=d.getNode().getImmediateChild(g)}else y=Nh(i,g,e.serverCache);y!=null?f=t.filter.updateChild(d.getNode(),g,y,v,o,c):f=d.getNode()}}return no(e,f,d.isFullyInitialized()||Ce(n),t.filter.filtersNodes())}}function wl(t,e,n,i,o,c,d,f){const p=e.serverCache;let g;const v=d?t.filter:t.filter.getIndexedFilter();if(Ce(n))g=v.updateFullNode(p.getNode(),i,null);else if(v.filtersNodes()&&!p.isFiltered()){const b=p.getNode().updateChild(n,i);g=v.updateFullNode(p.getNode(),b,null)}else{const b=we(n);if(!p.isCompleteForPath(n)&&Cr(n)>1)return e;const j=Me(n),E=p.getNode().getImmediateChild(b).updateChild(j,i);b===".priority"?g=v.updatePriority(p.getNode(),E):g=v.updateChild(p.getNode(),b,E,j,W_,null)}const y=D_(e,g,p.isFullyInitialized()||Ce(n),v.filtersNodes()),x=new Ah(o,y,c);return H_(t,y,n,o,x,f)}function Ad(t,e,n,i,o,c,d){const f=e.eventCache;let p,g;const v=new Ah(o,e,c);if(Ce(n))g=t.filter.updateFullNode(e.eventCache.getNode(),i,d),p=no(e,g,!0,t.filter.filtersNodes());else{const y=we(n);if(y===".priority")g=t.filter.updatePriority(e.eventCache.getNode(),i),p=no(e,g,f.isFullyInitialized(),f.isFiltered());else{const x=Me(n),b=f.getNode().getImmediateChild(y);let j;if(Ce(x))j=i;else{const T=v.getCompleteChild(y);T!=null?wh(x)===".priority"&&T.getChild(k_(x)).isEmpty()?j=T:j=T.updateChild(x,i):j=he.EMPTY_NODE}if(b.equals(j))p=e;else{const T=t.filter.updateChild(f.getNode(),y,j,x,v,d);p=no(e,T,f.isFullyInitialized(),t.filter.filtersNodes())}}}return p}function vy(t,e){return t.eventCache.isCompleteForChild(e)}function MI(t,e,n,i,o,c,d){let f=e;return i.foreach((p,g)=>{const v=Ve(n,p);vy(e,we(v))&&(f=Ad(t,f,v,g,o,c,d))}),i.foreach((p,g)=>{const v=Ve(n,p);vy(e,we(v))||(f=Ad(t,f,v,g,o,c,d))}),f}function _y(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function Od(t,e,n,i,o,c,d,f){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,g;Ce(n)?g=i:g=new De(null).setTree(n,i);const v=e.serverCache.getNode();return g.children.inorderTraversal((y,x)=>{if(v.hasChild(y)){const b=e.serverCache.getNode().getImmediateChild(y),j=_y(t,b,x);p=wl(t,p,new Oe(y),j,o,c,d,f)}}),g.children.inorderTraversal((y,x)=>{const b=!e.serverCache.isCompleteForChild(y)&&x.value===null;if(!v.hasChild(y)&&!b){const j=e.serverCache.getNode().getImmediateChild(y),T=_y(t,j,x);p=wl(t,p,new Oe(y),T,o,c,d,f)}}),p}function zI(t,e,n,i,o,c,d){if(bl(o,n)!=null)return e;const f=e.serverCache.isFiltered(),p=e.serverCache;if(i.value!=null){if(Ce(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return wl(t,e,n,p.getNode().getChild(n),o,c,f,d);if(Ce(n)){let g=new De(null);return p.getNode().forEachChild(Ui,(v,y)=>{g=g.set(new Oe(v),y)}),Od(t,e,n,g,o,c,f,d)}else return e}else{let g=new De(null);return i.foreach((v,y)=>{const x=Ve(n,v);p.isCompleteForPath(x)&&(g=g.set(v,p.getNode().getChild(x)))}),Od(t,e,n,g,o,c,f,d)}}function FI(t,e,n,i,o){const c=e.serverCache,d=D_(e,c.getNode(),c.isFullyInitialized()||Ce(n),c.isFiltered());return H_(t,d,n,i,W_,o)}function UI(t,e,n,i,o,c){let d;if(bl(i,n)!=null)return e;{const f=new Ah(i,e,o),p=e.eventCache.getNode();let g;if(Ce(n)||we(n)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=xl(i,ti(e));else{const y=e.serverCache.getNode();J(y instanceof he,"serverChildren would be complete if leaf node"),v=Ph(i,y)}v=v,g=t.filter.updateFullNode(p,v,c)}else{const v=we(n);let y=Nh(i,v,e.serverCache);y==null&&e.serverCache.isCompleteForChild(v)&&(y=p.getImmediateChild(v)),y!=null?g=t.filter.updateChild(p,v,y,Me(n),f,c):e.eventCache.getNode().hasChild(v)?g=t.filter.updateChild(p,v,he.EMPTY_NODE,Me(n),f,c):g=p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=xl(i,ti(e)),d.isLeafNode()&&(g=t.filter.updateFullNode(g,d,c)))}return d=e.serverCache.isFullyInitialized()||bl(i,Re())!=null,no(e,g,d,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new jh(i.getIndex()),c=sI(i);this.processor_=AI(c);const d=n.serverCache,f=n.eventCache,p=o.updateFullNode(he.EMPTY_NODE,d.getNode(),null),g=c.updateFullNode(he.EMPTY_NODE,f.getNode(),null),v=new Er(p,d.isFullyInitialized(),o.filtersNodes()),y=new Er(g,f.isFullyInitialized(),c.filtersNodes());this.viewCache_=Dl(y,v),this.eventGenerator_=new hI(this.query_)}get query(){return this.query_}}function WI(t){return t.viewCache_.serverCache.getNode()}function HI(t){return _l(t.viewCache_)}function $I(t,e){const n=ti(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function xy(t){return t.eventRegistrations_.length===0}function VI(t,e){t.eventRegistrations_.push(e)}function by(t,e,n){const i=[];if(n){J(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(n,o);d&&i.push(d)})}if(e){let o=[];for(let c=0;c<t.eventRegistrations_.length;++c){const d=t.eventRegistrations_[c];if(!d.matches(e))o.push(d);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(c+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function wy(t,e,n,i){e.type===cn.MERGE&&e.source.queryId!==null&&(J(ti(t.viewCache_),"We should always have a full cache before handling merges"),J(_l(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,c=LI(t.processor_,o,e,n,i);return OI(t.processor_,c.viewCache),J(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,$_(t,c.changes,c.viewCache.eventCache.getNode(),null)}function GI(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ge,(c,d)=>{i.push(Hi(c,d))}),n.isFullyInitialized()&&i.push(O_(n.getNode())),$_(t,i,n.getNode(),e)}function $_(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return fI(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl;class V_{constructor(){this.views=new Map}}function qI(t){J(!Sl,"__referenceConstructor has already been defined"),Sl=t}function JI(){return J(Sl,"Reference.ts has not been loaded"),Sl}function KI(t){return t.views.size===0}function Oh(t,e,n,i){const o=e.source.queryId;if(o!==null){const c=t.views.get(o);return J(c!=null,"SyncTree gave us an op for an invalid query."),wy(c,e,n,i)}else{let c=[];for(const d of t.views.values())c=c.concat(wy(d,e,n,i));return c}}function G_(t,e,n,i,o){const c=e._queryIdentifier,d=t.views.get(c);if(!d){let f=xl(n,o?i:null),p=!1;f?p=!0:i instanceof he?(f=Ph(n,i),p=!1):(f=he.EMPTY_NODE,p=!1);const g=Dl(new Er(f,p,!1),new Er(i,o,!1));return new BI(e,g)}return d}function YI(t,e,n,i,o,c){const d=G_(t,e,i,o,c);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,d),VI(d,n),GI(d,n)}function QI(t,e,n,i){const o=e._queryIdentifier,c=[];let d=[];const f=jr(t);if(o==="default")for(const[p,g]of t.views.entries())d=d.concat(by(g,n,i)),xy(g)&&(t.views.delete(p),g.query._queryParams.loadsAllData()||c.push(g.query));else{const p=t.views.get(o);p&&(d=d.concat(by(p,n,i)),xy(p)&&(t.views.delete(o),p.query._queryParams.loadsAllData()||c.push(p.query)))}return f&&!jr(t)&&c.push(new(JI())(e._repo,e._path)),{removed:c,events:d}}function q_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function wr(t,e){let n=null;for(const i of t.views.values())n=n||$I(i,e);return n}function J_(t,e){if(e._queryParams.loadsAllData())return zl(t);{const i=e._queryIdentifier;return t.views.get(i)}}function K_(t,e){return J_(t,e)!=null}function jr(t){return zl(t)!=null}function zl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cl;function XI(t){J(!Cl,"__referenceConstructor has already been defined"),Cl=t}function ZI(){return J(Cl,"Reference.ts has not been loaded"),Cl}let eT=1;class Sy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new De(null),this.pendingWriteTree_=TI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Y_(t,e,n,i,o){return yI(t.pendingWriteTree_,e,n,i,o),o?es(t,new ei(Ih(),e,n)):[]}function tT(t,e,n,i){vI(t.pendingWriteTree_,e,n,i);const o=De.fromObject(n);return es(t,new $i(Ih(),e,o))}function yr(t,e,n=!1){const i=_I(t.pendingWriteTree_,e);if(xI(t.pendingWriteTree_,e)){let c=new De(null);return i.snap!=null?c=c.set(Re(),!0):pt(i.children,d=>{c=c.set(new Oe(d),!0)}),es(t,new vl(i.path,c,n))}else return[]}function Po(t,e,n){return es(t,new ei(Th(),e,n))}function nT(t,e,n){const i=De.fromObject(n);return es(t,new $i(Th(),e,i))}function rT(t,e){return es(t,new yo(Th(),e))}function iT(t,e,n){const i=Dh(t,n);if(i){const o=Mh(i),c=o.path,d=o.queryId,f=Ct(c,e),p=new yo(Rh(d),f);return zh(t,c,p)}else return[]}function El(t,e,n,i,o=!1){const c=e._path,d=t.syncPointTree_.get(c);let f=[];if(d&&(e._queryIdentifier==="default"||K_(d,e))){const p=QI(d,e,n,i);KI(d)&&(t.syncPointTree_=t.syncPointTree_.remove(c));const g=p.removed;if(f=p.events,!o){const v=g.findIndex(x=>x._queryParams.loadsAllData())!==-1,y=t.syncPointTree_.findOnPath(c,(x,b)=>jr(b));if(v&&!y){const x=t.syncPointTree_.subtree(c);if(!x.isEmpty()){const b=aT(x);for(let j=0;j<b.length;++j){const T=b[j],E=T.query,N=e0(t,T);t.listenProvider_.startListening(io(E),vo(t,E),N.hashFn,N.onComplete)}}}!y&&g.length>0&&!i&&(v?t.listenProvider_.stopListening(io(e),null):g.forEach(x=>{const b=t.queryToTagMap.get(Fl(x));t.listenProvider_.stopListening(io(x),b)}))}lT(t,g)}return f}function Q_(t,e,n,i){const o=Dh(t,i);if(o!=null){const c=Mh(o),d=c.path,f=c.queryId,p=Ct(d,e),g=new ei(Rh(f),p,n);return zh(t,d,g)}else return[]}function sT(t,e,n,i){const o=Dh(t,i);if(o){const c=Mh(o),d=c.path,f=c.queryId,p=Ct(d,e),g=De.fromObject(n),v=new $i(Rh(f),p,g);return zh(t,d,v)}else return[]}function Ld(t,e,n,i=!1){const o=e._path;let c=null,d=!1;t.syncPointTree_.foreachOnPath(o,(x,b)=>{const j=Ct(x,o);c=c||wr(b,j),d=d||jr(b)});let f=t.syncPointTree_.get(o);f?(d=d||jr(f),c=c||wr(f,Re())):(f=new V_,t.syncPointTree_=t.syncPointTree_.set(o,f));let p;c!=null?p=!0:(p=!1,c=he.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((b,j)=>{const T=wr(j,Re());T&&(c=c.updateImmediateChild(b,T))}));const g=K_(f,e);if(!g&&!e._queryParams.loadsAllData()){const x=Fl(e);J(!t.queryToTagMap.has(x),"View does not exist, but we have a tag");const b=cT();t.queryToTagMap.set(x,b),t.tagToQueryMap.set(b,x)}const v=Ml(t.pendingWriteTree_,o);let y=YI(f,e,n,v,c,p);if(!g&&!d&&!i){const x=J_(f,e);y=y.concat(uT(t,e,x))}return y}function Lh(t,e,n){const o=t.pendingWriteTree_,c=t.syncPointTree_.findOnPath(e,(d,f)=>{const p=Ct(d,e),g=wr(f,p);if(g)return g});return F_(o,e,c,n,!0)}function oT(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(g,v)=>{const y=Ct(g,n);i=i||wr(v,y)});let o=t.syncPointTree_.get(n);o?i=i||wr(o,Re()):(o=new V_,t.syncPointTree_=t.syncPointTree_.set(n,o));const c=i!=null,d=c?new Er(i,!0,!1):null,f=Ml(t.pendingWriteTree_,e._path),p=G_(o,e,f,c?d.getNode():he.EMPTY_NODE,c);return HI(p)}function es(t,e){return X_(e,t.syncPointTree_,null,Ml(t.pendingWriteTree_,Re()))}function X_(t,e,n,i){if(Ce(t.path))return Z_(t,e,n,i);{const o=e.get(Re());n==null&&o!=null&&(n=wr(o,Re()));let c=[];const d=we(t.path),f=t.operationForChild(d),p=e.children.get(d);if(p&&f){const g=n?n.getImmediateChild(d):null,v=U_(i,d);c=c.concat(X_(f,p,g,v))}return o&&(c=c.concat(Oh(o,t,i,n))),c}}function Z_(t,e,n,i){const o=e.get(Re());n==null&&o!=null&&(n=wr(o,Re()));let c=[];return e.children.inorderTraversal((d,f)=>{const p=n?n.getImmediateChild(d):null,g=U_(i,d),v=t.operationForChild(d);v&&(c=c.concat(Z_(v,f,p,g)))}),o&&(c=c.concat(Oh(o,t,i,n))),c}function e0(t,e){const n=e.query,i=vo(t,n);return{hashFn:()=>(WI(e)||he.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?iT(t,n._path,i):rT(t,n._path);{const c=rk(o,n);return El(t,n,null,c)}}}}function vo(t,e){const n=Fl(e);return t.queryToTagMap.get(n)}function Fl(t){return t._path.toString()+"$"+t._queryIdentifier}function Dh(t,e){return t.tagToQueryMap.get(e)}function Mh(t){const e=t.indexOf("$");return J(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Oe(t.substr(0,e))}}function zh(t,e,n){const i=t.syncPointTree_.get(e);J(i,"Missing sync point for query tag that we're tracking");const o=Ml(t.pendingWriteTree_,e);return Oh(i,n,o,null)}function aT(t){return t.fold((e,n,i)=>{if(n&&jr(n))return[zl(n)];{let o=[];return n&&(o=q_(n)),pt(i,(c,d)=>{o=o.concat(d)}),o}})}function io(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ZI())(t._repo,t._path):t}function lT(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=Fl(i),c=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(c)}}}function cT(){return eT++}function uT(t,e,n){const i=e._path,o=vo(t,e),c=e0(t,n),d=t.listenProvider_.startListening(io(e),o,c.hashFn,c.onComplete),f=t.syncPointTree_.subtree(i);if(o)J(!jr(f.value),"If we're adding a query, it shouldn't be shadowed");else{const p=f.fold((g,v,y)=>{if(!Ce(g)&&v&&jr(v))return[zl(v).query];{let x=[];return v&&(x=x.concat(q_(v).map(b=>b.query))),pt(y,(b,j)=>{x=x.concat(j)}),x}});for(let g=0;g<p.length;++g){const v=p[g];t.listenProvider_.stopListening(io(v),vo(t,v))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Fh(n)}node(){return this.node_}}class Uh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ve(this.path_,e);return new Uh(this.syncTree_,n)}node(){return Lh(this.syncTree_,this.path_)}}const dT=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Cy=function(t,e,n){if(!t||typeof t!="object")return t;if(J(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return hT(t[".sv"],e,n);if(typeof t[".sv"]=="object")return fT(t[".sv"],e);J(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},hT=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:J(!1,"Unexpected server value: "+t)}},fT=function(t,e,n){t.hasOwnProperty("increment")||J(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&J(!1,"Unexpected increment value: "+i);const o=e.node();if(J(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const d=o.getValue();return typeof d!="number"?i:d+i},t0=function(t,e,n,i){return Bh(e,new Uh(n,t),i)},n0=function(t,e,n){return Bh(t,new Fh(e),n)};function Bh(t,e,n){const i=t.getPriority().val(),o=Cy(i,e.getImmediateChild(".priority"),n);let c;if(t.isLeafNode()){const d=t,f=Cy(d.getValue(),e,n);return f!==d.getValue()||o!==d.getPriority().val()?new ct(f,it(o)):t}else{const d=t;return c=d,o!==d.getPriority().val()&&(c=c.updatePriority(new ct(o))),d.forEachChild(Ge,(f,p)=>{const g=Bh(p,e.getImmediateChild(f),n);g!==p&&(c=c.updateImmediateChild(f,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Hh(t,e){let n=e instanceof Oe?e:new Oe(e),i=t,o=we(n);for(;o!==null;){const c=Bi(i.node.children,o)||{children:{},childCount:0};i=new Wh(o,i,c),n=Me(n),o=we(n)}return i}function ts(t){return t.node.value}function r0(t,e){t.node.value=e,Dd(t)}function i0(t){return t.node.childCount>0}function pT(t){return ts(t)===void 0&&!i0(t)}function Ul(t,e){pt(t.node.children,(n,i)=>{e(new Wh(n,t,i))})}function s0(t,e,n,i){n&&e(t),Ul(t,o=>{s0(o,e,!0)})}function mT(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function No(t){return new Oe(t.parent===null?t.name:No(t.parent)+"/"+t.name)}function Dd(t){t.parent!==null&&gT(t.parent,t.name,t)}function gT(t,e,n){const i=pT(n),o=wn(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,Dd(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,Dd(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=/[\[\].#$\/\u0000-\u001F\u007F]/,vT=/[\[\].#$\u0000-\u001F\u007F]/,od=10*1024*1024,$h=function(t){return typeof t=="string"&&t.length!==0&&!yT.test(t)},o0=function(t){return typeof t=="string"&&t.length!==0&&!vT.test(t)},_T=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),o0(t)},xT=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!yh(t)||t&&typeof t=="object"&&wn(t,".sv")},a0=function(t,e,n,i){i&&e===void 0||Bl(Il(t,"value"),e,n)},Bl=function(t,e,n){const i=n instanceof Oe?new Mk(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+$r(i));if(typeof e=="function")throw new Error(t+"contains a function "+$r(i)+" with contents = "+e.toString());if(yh(e))throw new Error(t+"contains "+e.toString()+" "+$r(i));if(typeof e=="string"&&e.length>od/3&&Tl(e)>od)throw new Error(t+"contains a string greater than "+od+" utf8 bytes "+$r(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(pt(e,(d,f)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!$h(d)))throw new Error(t+" contains an invalid key ("+d+") "+$r(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zk(i,d),Bl(t,f,i),Fk(i)}),o&&c)throw new Error(t+' contains ".value" child '+$r(i)+" in addition to actual children.")}},bT=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];const c=fo(i);for(let d=0;d<c.length;d++)if(!(c[d]===".priority"&&d===c.length-1)){if(!$h(c[d]))throw new Error(t+"contains an invalid key ("+c[d]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Dk);let o=null;for(n=0;n<e.length;n++){if(i=e[n],o!==null&&qt(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}},wT=function(t,e,n,i){const o=Il(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");const c=[];pt(e,(d,f)=>{const p=new Oe(d);if(Bl(o,f,Ve(n,p)),wh(p)===".priority"&&!xT(f))throw new Error(o+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(p)}),bT(o,c)},l0=function(t,e,n,i){if(!o0(n))throw new Error(Il(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ST=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),l0(t,e,n)},Vh=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},CT=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$h(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_T(n))throw new Error(Il(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wl(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],c=o.getPath();n!==null&&!Sh(c,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:c}),n.events.push(o)}n&&t.eventLists_.push(n)}function c0(t,e,n){Wl(t,n),u0(t,i=>Sh(i,e))}function Kt(t,e,n){Wl(t,n),u0(t,i=>qt(i,e)||qt(e,i))}function u0(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const c=o.path;e(c)?(jT(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function jT(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();eo&&ft("event: "+n.toString()),Zi(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="repo_interrupt",IT=25;class TT{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ET,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yl(),this.transactionQueueTree_=new Wh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RT(t,e,n){if(t.stats_=xh(t.repoInfo_),t.forceRestClient_||ak())t.server_=new gl(t.repoInfo_,(i,o,c,d)=>{Ey(t,i,o,c,d)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>jy(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Mn(t.repoInfo_,e,(i,o,c,d)=>{Ey(t,i,o,c,d)},i=>{jy(t,i)},i=>{PT(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=hk(t.repoInfo_,()=>new dI(t.stats_,t.server_)),t.infoData_=new oI,t.infoSyncTree_=new Sy({startListening:(i,o,c,d)=>{let f=[];const p=t.infoData_.getNode(i._path);return p.isEmpty()||(f=Po(t.infoSyncTree_,i._path,p),setTimeout(()=>{d("ok")},0)),f},stopListening:()=>{}}),Gh(t,"connected",!1),t.serverSyncTree_=new Sy({startListening:(i,o,c,d)=>(t.server_.listen(i,c,o,(f,p)=>{const g=d(f,p);Kt(t.eventQueue_,i._path,g)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function d0(t){const n=t.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Hl(t){return dT({timestamp:d0(t)})}function Ey(t,e,n,i,o){t.dataUpdateCount++;const c=new Oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let d=[];if(o)if(i){const p=il(n,g=>it(g));d=sT(t.serverSyncTree_,c,p,o)}else{const p=it(n);d=Q_(t.serverSyncTree_,c,p,o)}else if(i){const p=il(n,g=>it(g));d=nT(t.serverSyncTree_,c,p)}else{const p=it(n);d=Po(t.serverSyncTree_,c,p)}let f=c;d.length>0&&(f=Gi(t,c)),Kt(t.eventQueue_,f,d)}function jy(t,e){Gh(t,"connected",e),e===!1&&LT(t)}function PT(t,e){pt(e,(n,i)=>{Gh(t,n,i)})}function Gh(t,e,n){const i=new Oe("/.info/"+e),o=it(n);t.infoData_.updateSnapshot(i,o);const c=Po(t.infoSyncTree_,i,o);Kt(t.eventQueue_,i,c)}function qh(t){return t.nextWriteId_++}function NT(t,e,n){const i=oT(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const c=it(o).withIndex(e._queryParams.getIndex());Ld(t.serverSyncTree_,e,n,!0);let d;if(e._queryParams.loadsAllData())d=Po(t.serverSyncTree_,e._path,c);else{const f=vo(t.serverSyncTree_,e);d=Q_(t.serverSyncTree_,e._path,c,f)}return Kt(t.eventQueue_,e._path,d),El(t.serverSyncTree_,e,n,null,!0),c},o=>(Ao(t,"get for query "+st(e)+" failed: "+o),Promise.reject(new Error(o))))}function AT(t,e,n,i,o){Ao(t,"set",{path:e.toString(),value:n,priority:i});const c=Hl(t),d=it(n,i),f=Lh(t.serverSyncTree_,e),p=n0(d,f,c),g=qh(t),v=Y_(t.serverSyncTree_,e,p,g,!0);Wl(t.eventQueue_,v),t.server_.put(e.toString(),d.val(!0),(x,b)=>{const j=x==="ok";j||Et("set at "+e+" failed: "+x);const T=yr(t.serverSyncTree_,g,!j);Kt(t.eventQueue_,e,T),Md(t,o,x,b)});const y=Kh(t,e);Gi(t,y),Kt(t.eventQueue_,y,[])}function OT(t,e,n,i){Ao(t,"update",{path:e.toString(),value:n});let o=!0;const c=Hl(t),d={};if(pt(n,(f,p)=>{o=!1,d[f]=t0(Ve(e,f),it(p),t.serverSyncTree_,c)}),o)ft("update() called with empty data.  Don't do anything."),Md(t,i,"ok",void 0);else{const f=qh(t),p=tT(t.serverSyncTree_,e,d,f);Wl(t.eventQueue_,p),t.server_.merge(e.toString(),n,(g,v)=>{const y=g==="ok";y||Et("update at "+e+" failed: "+g);const x=yr(t.serverSyncTree_,f,!y),b=x.length>0?Gi(t,e):e;Kt(t.eventQueue_,b,x),Md(t,i,g,v)}),pt(n,g=>{const v=Kh(t,Ve(e,g));Gi(t,v)}),Kt(t.eventQueue_,e,[])}}function LT(t){Ao(t,"onDisconnectEvents");const e=Hl(t),n=yl();Td(t.onDisconnect_,Re(),(o,c)=>{const d=t0(o,c,t.serverSyncTree_,e);L_(n,o,d)});let i=[];Td(n,Re(),(o,c)=>{i=i.concat(Po(t.serverSyncTree_,o,c));const d=Kh(t,o);Gi(t,d)}),t.onDisconnect_=yl(),Kt(t.eventQueue_,Re(),i)}function DT(t,e,n){let i;we(e._path)===".info"?i=Ld(t.infoSyncTree_,e,n):i=Ld(t.serverSyncTree_,e,n),c0(t.eventQueue_,e._path,i)}function ky(t,e,n){let i;we(e._path)===".info"?i=El(t.infoSyncTree_,e,n):i=El(t.serverSyncTree_,e,n),c0(t.eventQueue_,e._path,i)}function MT(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kT)}function Ao(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ft(n,...e)}function Md(t,e,n,i){e&&Zi(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let c=o;i&&(c+=": "+i);const d=new Error(c);d.code=o,e(d)}})}function h0(t,e,n){return Lh(t.serverSyncTree_,e,n)||he.EMPTY_NODE}function Jh(t,e=t.transactionQueueTree_){if(e||$l(t,e),ts(e)){const n=p0(t,e);J(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&zT(t,No(e),n)}else i0(e)&&Ul(e,n=>{Jh(t,n)})}function zT(t,e,n){const i=n.map(g=>g.currentWriteId),o=h0(t,e,i);let c=o;const d=o.hash();for(let g=0;g<n.length;g++){const v=n[g];J(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const y=Ct(e,v.path);c=c.updateChild(y,v.currentOutputSnapshotRaw)}const f=c.val(!0),p=e;t.server_.put(p.toString(),f,g=>{Ao(t,"transaction put response",{path:p.toString(),status:g});let v=[];if(g==="ok"){const y=[];for(let x=0;x<n.length;x++)n[x].status=2,v=v.concat(yr(t.serverSyncTree_,n[x].currentWriteId)),n[x].onComplete&&y.push(()=>n[x].onComplete(null,!0,n[x].currentOutputSnapshotResolved)),n[x].unwatcher();$l(t,Hh(t.transactionQueueTree_,e)),Jh(t,t.transactionQueueTree_),Kt(t.eventQueue_,e,v);for(let x=0;x<y.length;x++)Zi(y[x])}else{if(g==="datastale")for(let y=0;y<n.length;y++)n[y].status===3?n[y].status=4:n[y].status=0;else{Et("transaction at "+p.toString()+" failed: "+g);for(let y=0;y<n.length;y++)n[y].status=4,n[y].abortReason=g}Gi(t,e)}},d)}function Gi(t,e){const n=f0(t,e),i=No(n),o=p0(t,n);return FT(t,o,i),i}function FT(t,e,n){if(e.length===0)return;const i=[];let o=[];const d=e.filter(f=>f.status===0).map(f=>f.currentWriteId);for(let f=0;f<e.length;f++){const p=e[f],g=Ct(n,p.path);let v=!1,y;if(J(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,y=p.abortReason,o=o.concat(yr(t.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=IT)v=!0,y="maxretry",o=o.concat(yr(t.serverSyncTree_,p.currentWriteId,!0));else{const x=h0(t,p.path,d);p.currentInputSnapshot=x;const b=e[f].update(x.val());if(b!==void 0){Bl("transaction failed: Data returned ",b,p.path);let j=it(b);typeof b=="object"&&b!=null&&wn(b,".priority")||(j=j.updatePriority(x.getPriority()));const E=p.currentWriteId,N=Hl(t),z=n0(j,x,N);p.currentOutputSnapshotRaw=j,p.currentOutputSnapshotResolved=z,p.currentWriteId=qh(t),d.splice(d.indexOf(E),1),o=o.concat(Y_(t.serverSyncTree_,p.path,z,p.currentWriteId,p.applyLocally)),o=o.concat(yr(t.serverSyncTree_,E,!0))}else v=!0,y="nodata",o=o.concat(yr(t.serverSyncTree_,p.currentWriteId,!0))}Kt(t.eventQueue_,n,o),o=[],v&&(e[f].status=2,(function(x){setTimeout(x,Math.floor(0))})(e[f].unwatcher),e[f].onComplete&&(y==="nodata"?i.push(()=>e[f].onComplete(null,!1,e[f].currentInputSnapshot)):i.push(()=>e[f].onComplete(new Error(y),!1,null))))}$l(t,t.transactionQueueTree_);for(let f=0;f<i.length;f++)Zi(i[f]);Jh(t,t.transactionQueueTree_)}function f0(t,e){let n,i=t.transactionQueueTree_;for(n=we(e);n!==null&&ts(i)===void 0;)i=Hh(i,n),e=Me(e),n=we(e);return i}function p0(t,e){const n=[];return m0(t,e,n),n.sort((i,o)=>i.order-o.order),n}function m0(t,e,n){const i=ts(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);Ul(e,o=>{m0(t,o,n)})}function $l(t,e){const n=ts(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,r0(e,n.length>0?n:void 0)}Ul(e,i=>{$l(t,i)})}function Kh(t,e){const n=No(f0(t,e)),i=Hh(t.transactionQueueTree_,e);return mT(i,o=>{ad(t,o)}),ad(t,i),s0(i,o=>{ad(t,o)}),n}function ad(t,e){const n=ts(e);if(n){const i=[];let o=[],c=-1;for(let d=0;d<n.length;d++)n[d].status===3||(n[d].status===1?(J(c===d-1,"All SENT items should be at beginning of queue."),c=d,n[d].status=3,n[d].abortReason="set"):(J(n[d].status===0,"Unexpected transaction status in abort"),n[d].unwatcher(),o=o.concat(yr(t.serverSyncTree_,n[d].currentWriteId,!0)),n[d].onComplete&&i.push(n[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?r0(e,void 0):n.length=c+1,Kt(t.eventQueue_,No(e),o);for(let d=0;d<i.length;d++)Zi(i[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function BT(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Et(`Invalid query segment '${n}' in query '${t}'`)}return e}const Iy=function(t,e){const n=WT(t),i=n.namespace;n.domain==="firebase.com"&&Un(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Un("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Xj();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new v_(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Oe(n.pathString)}},WT=function(t){let e="",n="",i="",o="",c="",d=!0,f="https",p=443;if(typeof t=="string"){let g=t.indexOf("//");g>=0&&(f=t.substring(0,g-1),t=t.substring(g+2));let v=t.indexOf("/");v===-1&&(v=t.length);let y=t.indexOf("?");y===-1&&(y=t.length),e=t.substring(0,Math.min(v,y)),v<y&&(o=UT(t.substring(v,y)));const x=BT(t.substring(Math.min(t.length,y)));g=e.indexOf(":"),g>=0?(d=f==="https"||f==="wss",p=parseInt(e.substring(g+1),10)):g=e.length;const b=e.slice(0,g);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const j=e.indexOf(".");i=e.substring(0,j).toLowerCase(),n=e.substring(j+1),c=i}"ns"in x&&(c=x.ns)}return{host:e,port:p,domain:n,subdomain:i,secure:d,scheme:f,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",HT=(function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const c=new Array(8);for(o=7;o>=0;o--)c[o]=Ty.charAt(n%64),n=Math.floor(n/64);J(n===0,"Cannot push at time == 0");let d=c.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)d+=Ty.charAt(e[o]);return J(d.length===20,"nextPushId: Length should be 20."),d}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class VT{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return J(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return Ce(this._path)?null:wh(this._path)}get ref(){return new Vn(this._repo,this._path)}get _queryIdentifier(){const e=fy(this._queryParams),n=vh(e);return n==="{}"?"default":n}get _queryObject(){return fy(this._queryParams)}isEqual(e){if(e=Ze(e),!(e instanceof Yh))return!1;const n=this._repo===e._repo,i=Sh(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+Lk(this._path)}}class Vn extends Yh{constructor(e,n){super(e,n,new kh,!1)}get parent(){const e=k_(this._path);return e===null?null:new Vn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class _o{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Oe(e),i=xo(this.ref,e);return new _o(this._node.getChild(n),i,Ge)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new _o(o,xo(this.ref,i),Ge)))}hasChild(e){const n=new Oe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ee(t,e){return t=Ze(t),t._checkNotDeleted("ref"),e!==void 0?xo(t._root,e):t._root}function xo(t,e){return t=Ze(t),we(t._path)===null?ST("child","path",e):l0("child","path",e),new Vn(t._repo,Ve(t._path,e))}function Qh(t,e){t=Ze(t),Vh("push",t._path),a0("push",e,t._path,!0);const n=d0(t._repo),i=HT(n),o=xo(t,i),c=xo(t,i);let d;return e!=null?d=hn(c,e).then(()=>c):d=Promise.resolve(c),o.then=d.then.bind(d),o.catch=d.then.bind(d,void 0),o}function y0(t){return Vh("remove",t._path),hn(t,null)}function hn(t,e){t=Ze(t),Vh("set",t._path),a0("set",e,t._path,!1);const n=new wo;return AT(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function bo(t,e){wT("update",e,t._path);const n=new wo;return OT(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function Xh(t){t=Ze(t);const e=new g0(()=>{}),n=new Vl(e);return NT(t._repo,t,n).then(i=>new _o(i,new Vn(t._repo,t._path),t._queryParams.getIndex()))}class Vl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new $T("value",this,new _o(e.snapshotNode,new Vn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new VT(this,e,n):null}matches(e){return e instanceof Vl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function GT(t,e,n,i,o){let c;if(typeof i=="object"&&(c=void 0,o=i),typeof i=="function"&&(c=i),o&&o.onlyOnce){const p=n,g=(v,y)=>{ky(t._repo,t,f),p(v,y)};g.userCallback=n.userCallback,g.context=n.context,n=g}const d=new g0(n,c||void 0),f=new Vl(d);return DT(t._repo,t,f),()=>ky(t._repo,t,f)}function _t(t,e,n,i){return GT(t,"value",e,n,i)}qI(Vn);XI(Vn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="FIREBASE_DATABASE_EMULATOR_HOST",zd={};let JT=!1;function KT(t,e,n,i){const o=e.lastIndexOf(":"),c=e.substring(0,o),d=Tr(c);t.repoInfo_=new v_(e,d,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(t.authTokenProvider_=i)}function YT(t,e,n,i,o){let c=i||t.options.databaseURL;c===void 0&&(t.options.projectId||Un("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",t.options.projectId),c=`${t.options.projectId}-default-rtdb.firebaseio.com`);let d=Iy(c,o),f=d.repoInfo,p;typeof process<"u"&&Kg&&(p=Kg[qT]),p?(c=`http://${p}?ns=${f.namespace}`,d=Iy(c,o),f=d.repoInfo):d.repoInfo.secure;const g=new ck(t.name,t.options,e);CT("Invalid Firebase Database URL",d),Ce(d.path)||Un("Database URL must point to the root of a Firebase Database (not including a child path).");const v=XT(f,t,g,new lk(t,n));return new ZT(v,t)}function QT(t,e){const n=zd[e];(!n||n[t.key]!==t)&&Un(`Database ${e}(${t.repoInfo_}) has already been deleted.`),MT(t),delete n[t.key]}function XT(t,e,n,i){let o=zd[e.name];o||(o={},zd[e.name]=o);let c=o[t.toURLString()];return c&&Un("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new TT(t,JT,n,i),o[t.toURLString()]=c,c}class ZT{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Vn(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(QT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Un("Cannot call "+e+" on a deleted database.")}}function e2(t=Zd(),e){const n=Rl(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Ky("database");i&&t2(n,...i)}return n}function t2(t,e,n,i={}){t=Ze(t),t._checkNotDeleted("useEmulator");const o=`${e}:${n}`,c=t._repoInternal;if(t._instanceStarted){if(o===t._repoInternal.repoInfo_.host&&Jr(i,c.repoInfo_.emulatorOptions))return;Un("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)i.mockUserToken&&Un('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Za(Za.OWNER);else if(i.mockUserToken){const f=typeof i.mockUserToken=="string"?i.mockUserToken:Xy(i.mockUserToken,t.app.options.projectId);d=new Za(f)}Tr(e)&&(Jd(e),Kd("Database",!0)),KT(c,o,i,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){Gj(ni),Kr(new Sr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return YT(i,o,c,n)},"PUBLIC").setMultipleInstances(!0)),_n(Yg,Qg,t),_n(Yg,Qg,"esm2017")}Mn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Mn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};n2();const r2={apiKey:"AIzaSyCvV4y8RV-fW6nBGET3QNGP9gV2c43cEWQ",authDomain:"fastjob-db673.firebaseapp.com",databaseURL:"https://fastjob-db673-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"fastjob-db673",storageBucket:"fastjob-db673.firebasestorage.app",messagingSenderId:"376791285981",appId:"1:376791285981:web:475cd604c89665a029db34",measurementId:"G-G9NFPH3XNT"},Zh=rv(r2),Lt=IE(Zh);new on;const i2=Wj(Zh),je=e2(Zh),v0=C.createContext({user:null,loading:!0});function s2({children:t}){const[e,n]=C.useState({user:null,loading:!0});return C.useEffect(()=>{const i=Tv(Lt,o=>{n({user:o,loading:!1})},()=>{n({user:null,loading:!1})});return()=>i()},[]),l.jsx(v0.Provider,{value:e,children:t})}function xt(){return C.useContext(v0)}const _0=C.createContext(),ld={en:{nav_brand:"FastJob",nav_jobs:"Jobs",nav_employer:"Employer",nav_postJob:"Post a Job",nav_dashboard:"Dashboard",nav_profile:"Profile",nav_signIn:"Sign in",nav_signOut:"Sign out",nav_hi:"Hi",theme_light:"Light",theme_dark:"Dark",login_title:"Sign in to FastJob",login_subtitle:"Use your email and password.",login_email:"Email",login_password:"Password",login_submit:"Sign in",login_google:"Continue with Google",login_noAccount:"No account? Please contact the admin to create a test account.",login_after:"After signing in you can view the Dashboard, edit your Profile and post jobs as an employer.",home_title_prefix:"Malaysia's fastest",home_title_highlight:"hourly job platform",home_subtitle:"Focused on part-time and temp jobs so bosses and workers can match quickly.",home_search_keyword_placeholder:"Keyword (waiter, driver, customer service)",home_search_location_placeholder:" Location (e.g. Sunway, Ipoh)",home_search_button:"Search jobs",home_hot_categories:"Hot categories",home_cat_fnb:" F&B",home_cat_retail:" Retail",home_cat_driver:" Driver",home_cat_cs:" Customer service",home_employer_cta_prefix:"Im an employer, want to hire?",home_employer_cta_link:"Go to employer dashboard ",jobs_title:"Search jobs",jobs_keyword_placeholder:"Keyword, e.g. Waiter / Software Engineer",jobs_location_placeholder:"Location, e.g. Sunway / Ipoh",jobs_filter_parttime:"Hourly / Part-time",jobs_filter_fulltime:"Full-time",jobs_filter_all:"All",jobs_filter_reset:"Reset filters",jobs_recommended_title:"Recommended jobs",jobs_empty:"No jobs match your filters for now. Try adjusting your search?",jobs_fallback_company:"Company",jobs_fallback_location:"Location",jobs_salary_hourly_suffix:"/ hour",jobs_salary_negotiable:"Salary negotiable",jobs_badge_parttime:"Part-time / Hourly",jobs_badge_fulltime:"Full-time",profile_title:"Profile",profile_currentRole:"Current role",profile_role_employee:"Job seeker",profile_role_employer:"Employer",profile_role_user:"User",profile_roleLabel:"Account role",profile_loading:"Loading",profile_needLogin:"Please sign in first to edit your profile.",profile_saved:"Profile saved.",profile_saveError:"Save failed, please try again later.",profile_name:"Name / Nickname",profile_phone:"Phone",profile_city:"City",profile_headline:"One-line headline",profile_about:"About me",profile_about_placeholder:"Briefly introduce your experience, skills, and what kind of job you want",profile_socialTitle:"Social media / Links",profile_linkedin:"LinkedIn",profile_instagram:"Instagram",profile_website:"Personal website / Portfolio",profile_website_placeholder:"For example: your portfolio / GitHub / Behance etc.",profile_save:"Save profile",post_title:"Post a Job",post_subtitle:"Fill in clear job information so workers can quickly understand your position.",post_notLoggedIn:"You are not logged in yet. You will be asked to login before submitting.",post_success:"Job posted successfully!",post_error:"Failed to publish, please try again later.",post_validation_titleCompany:"Job title and company name cannot be empty.",post_field_title:"Job title",post_field_title_placeholder:"e.g. Software Engineer / Kitchen Helper",post_field_company:"Company name",post_field_company_placeholder:"e.g. Webstation Computer Centre",post_field_location:"Work location (city / area)",post_field_location_placeholder:"e.g. Ipoh / Sunway",post_field_mapLocation:"Map address (optional, used for map)",post_field_mapLocation_placeholder:"e.g. Webstation Computer Centre, Ipoh",post_field_type:"Employment type",post_field_type_parttime:"Part-time",post_field_type_fulltime:"Full-time",post_field_type_intern:"Internship",post_field_salaryMin:"Minimum hourly wage (RM)",post_field_salaryMax:"Maximum hourly wage (RM)",post_field_description:"Job description",post_field_description_placeholder:"Briefly describe who youre looking for, main duties, working hours etc",post_field_skills:"Skills required (separated by comma, e.g. HTML, CSS, JS)",post_field_skills_placeholder:"e.g. C, C++, HTML, CSS, JS",post_submit:"Post job",post_submitting:"Posting","profile.title":"Profile","profile.currentRole":"Current role","profile.loading":"Loading profile...","profile.needLogin":"Please log in to edit your profile.","profile.saved":"Profile saved successfully.","profile.saveError":"Failed to save profile. Please try again.","profile.roleLabel":"Choose your main identity","profile.role.employer":"Employer","profile.role.employee":"Job seeker","profile.role.user":"User","profile.name":"Name","profile.phone":"Phone","profile.city":"City","profile.headline":"Short headline","profile.about":"About me","profile.about.placeholder":"Briefly introduce yourself, experience, and what type of jobs you are looking for.","profile.socialTitle":"Social links (optional)","profile.linkedin":"LinkedIn","profile.instagram":"Instagram","profile.website":"Website or portfolio","profile.website.placeholder":"https://your-site.com","profile.save":"Save profile","post.title":"Post a job","post.subtitle":"Fill in the details below to publish your job to FastJob.","post.notLoggedIn":"You are not logged in. Please log in before posting a job.","post.validation.titleCompany":"Job title and company name cannot be empty.","post.success":"Job posted successfully.","post.error":"Failed to post job. Please try again later.","post.field.title":"Job title","post.field.title.placeholder":"e.g. Software Engineer / Kitchen helper","post.field.company":"Company name","post.field.company.placeholder":"e.g. Webstation Computer Centre","post.field.location":"Work location (city / area)","post.field.location.placeholder":"e.g. Ipoh / Sunway","post.field.mapLocation":"Map address (optional)","post.field.mapLocation.placeholder":"e.g. Webstation Computer Centre, Ipoh","post.field.type":"Employment type","post.field.type.parttime":"Hourly / Part-time","post.field.type.fulltime":"Full-time","post.field.type.intern":"Internship","post.field.salaryMin":"Minimum hourly rate (RM)","post.field.salaryMax":"Maximum hourly rate (RM)","post.field.description":"Job description","post.field.description.placeholder":"Briefly describe what you need, main tasks, working hours, etc.","post.field.skills":"Skills / requirements","post.field.skills.placeholder":"e.g. HTML, CSS, JS","post.submitting":"Submitting...","post.submit":"Post job","dashboard.title":"Dashboard","dashboard.loginRequired":"Please log in to view your data.","dashboard.loginButton":"Go to login","dashboard.welcomeBack":"Welcome back","dashboard.currentRole":"Current role","dashboard.role.employer":"Employer","dashboard.role.employee":"Job seeker","dashboard.cta.findJobs":" Find jobs","dashboard.cta.postJob":" Post a job","dashboard.cta.employerDashboard":" Employer dashboard","dashboard.plan.title":"Employer plan status","dashboard.plan.loading":"Loading plan...","dashboard.plan.none":"No active plan yet. You can start a free trial (3 free postings) on the post job page.","dashboard.plan.current":"Current plan","dashboard.plan.credits":"Remaining posting credits","dashboard.plan.type.trial":"Trial (3 free postings)","dashboard.plan.type.per_post":"Pay per post","dashboard.plan.type.monthly":"Monthly plan","dashboard.plan.type.unknown":"Not set","dashboard.stats.myApplications":"My applications","dashboard.stats.myJobs":"Jobs I posted","dashboard.stats.offers":"Offers received","dashboard.stats.rejections":"Rejections","dashboard.apps.title":"My applications","dashboard.apps.loading":"Loading...","dashboard.apps.empty":"You haven't applied to any jobs yet.","dashboard.apps.defaultStatus":"Applied","dashboard.jobs.title":"Jobs I posted (employer)","dashboard.jobs.loading":"Loading...","dashboard.jobs.empty":"You haven't posted any jobs yet.","employer.needEmployerTitle":"Employer access required","employer.needEmployerDesc":'This account is currently a "job seeker" and cannot post jobs. An admin can change your role to "employer" in the database.',"employer.backToDashboard":"Back to dashboard","employer.plan.title":"Employer plan status","employer.plan.current":"Current plan","employer.plan.credits":"Remaining posting credits (credits)","employer.title":"Employer dashboard","employer.newJobButton":"+ Post a new job","employer.jobs.title":"Jobs I posted","employer.jobs.loading":"Loading jobs...","employer.jobs.empty":"You have no jobs yet.","employer.jobs.hourSuffix":"/ hour","employer.jobs.status.open":"Open","employer.jobs.status.closed":"Closed","employer.jobs.edit":"Edit","employer.jobs.close":"Close job","employer.jobs.open":"Open job","employer.jobs.delete":"Delete","employer.confirm.delete":"Are you sure you want to delete this job? This cannot be undone.","employer.confirm.open":"Reopen this job?","employer.confirm.close":"Close this job?","employer.status.deleted":"Job has been deleted.","employer.status.opened":"Job is now open.","employer.status.closed":"Job is now closed.","employer.status.errorDelete":"Failed to delete job. Please try again.","employer.status.errorToggle":"Failed to update job status. Please try again.",job_description_title:"Job description",job_description_empty:"No description provided.",job_skills_title:"Skills / Requirements",job_skills_empty:"No specific requirements.",job_apply_cta:"Apply now",job_apply_modal_title:"Apply for this job",job_apply_name:"Name",job_apply_phone:"Phone",job_apply_submit:"Send application",job_apply_cancel:"Cancel",job_apply_success:"Application sent.",job_apply_error:"Failed to send application. Please try again.",job_apply_needLogin:"Please sign in before applying.",job_favourite:"Save",jobs_salary_monthly_suffix:"/ month",jobs_search_button:"Search",nav_people:"People",people_title:"Search people",people_subtitle:"Find job seekers and employers on FastJob.",people_search_placeholder:"Search by name, city, headline",people_empty:"No profiles match your search yet.",publicProfile_back:"Back to people",publicProfile_editOwn:"Edit my profile",publicProfile_isOwnHint:"This is how others see your profile.",publicProfile_noProfile:"This user has not set up a profile yet.",publicProfile_noPosts:"No posts yet.",nav_people:"People"},zh:{nav_brand:"FastJob",nav_jobs:"",nav_employer:"",nav_postJob:"",nav_dashboard:"",nav_profile:"",nav_signIn:"",nav_signOut:"",nav_hi:"Hi",theme_light:"",theme_dark:"",login_title:" FastJob",login_subtitle:"",login_email:"",login_password:"",login_submit:"",login_google:" Google ",login_noAccount:"",login_after:" Dashboard Profile",home_title_prefix:"",home_title_highlight:"",home_subtitle:" / ",home_search_keyword_placeholder:" ()",home_search_location_placeholder:"  (: Sunway, Ipoh)",home_search_button:" ",home_hot_categories:"",home_cat_fnb:" ",home_cat_retail:" ",home_cat_driver:" ",home_cat_cs:" ",home_employer_cta_prefix:"",home_employer_cta_link:" ",jobs_title:"",jobs_keyword_placeholder:":  / Software Engineer",jobs_location_placeholder:": Sunway / Ipoh",jobs_filter_parttime:"",jobs_filter_fulltime:"",jobs_filter_all:"",jobs_filter_reset:"",jobs_recommended_title:"",jobs_empty:"",jobs_fallback_company:"",jobs_fallback_location:"",jobs_salary_hourly_suffix:"/ ",jobs_salary_negotiable:"",jobs_badge_parttime:" / ",jobs_badge_fulltime:"",profile_title:"",profile_currentRole:"",profile_role_employee:"",profile_role_employer:"",profile_role_user:"",profile_roleLabel:"",profile_loading:"",profile_needLogin:"",profile_saved:"",profile_saveError:"",profile_name:" / ",profile_phone:"",profile_city:"",profile_headline:"",profile_about:"",profile_about_placeholder:"",profile_socialTitle:" / ",profile_linkedin:"LinkedIn",profile_instagram:"Instagram",profile_website:" / ",profile_website_placeholder:" / GitHub / Behance ",profile_save:"",post_title:"",post_subtitle:"",post_notLoggedIn:"",post_success:"",post_error:"",post_validation_titleCompany:"",post_field_title:"",post_field_title_placeholder:"Software Engineer / ",post_field_company:"",post_field_company_placeholder:"Webstation Computer Centre",post_field_location:" / ",post_field_location_placeholder:"Ipoh / Sunway",post_field_mapLocation:"",post_field_mapLocation_placeholder:"Webstation Computer Centre, Ipoh",post_field_type:"",post_field_type_parttime:" / Part-time",post_field_type_fulltime:" / Full-time",post_field_type_intern:" / Internship",post_field_salaryMin:" (RM)",post_field_salaryMax:" (RM)",post_field_description:"",post_field_description_placeholder:"",post_field_skills:"HTML, CSS, JS",post_field_skills_placeholder:"C, C++, HTML, CSS, JS",post_submit:"",post_submitting:"","profile.title":"","profile.currentRole":"","profile.loading":"","profile.needLogin":"","profile.saved":"","profile.saveError":"","profile.roleLabel":"","profile.role.employer":"","profile.role.employee":"","profile.role.user":"","profile.name":"","profile.phone":"","profile.city":"","profile.headline":"","profile.about":"","profile.about.placeholder":"","profile.socialTitle":"","profile.linkedin":"LinkedIn","profile.instagram":"Instagram","profile.website":" / ","profile.website.placeholder":"https://.com","profile.save":"","post.title":"","post.subtitle":" FastJob","post.notLoggedIn":"","post.validation.titleCompany":"","post.success":"","post.error":"","post.field.title":"","post.field.title.placeholder":"Software Engineer / ","post.field.company":"","post.field.company.placeholder":"Webstation Computer Centre","post.field.location":" / ","post.field.location.placeholder":"Ipoh / Sunway","post.field.mapLocation":"","post.field.mapLocation.placeholder":"Webstation Computer Centre, Ipoh","post.field.type":"","post.field.type.parttime":" / Part-time","post.field.type.fulltime":" / Full-time","post.field.type.intern":" / Internship","post.field.salaryMin":" (RM)","post.field.salaryMax":" (RM)","post.field.description":"","post.field.description.placeholder":"","post.field.skills":"","post.field.skills.placeholder":"HTML, CSS, JS","post.submitting":"","post.submit":"","dashboard.title":"Dashboard","dashboard.loginRequired":"","dashboard.loginButton":"","dashboard.welcomeBack":"","dashboard.currentRole":"","dashboard.role.employer":"","dashboard.role.employee":"","dashboard.cta.findJobs":" ","dashboard.cta.postJob":" ","dashboard.cta.employerDashboard":" ","dashboard.plan.title":"","dashboard.plan.loading":"...","dashboard.plan.none":"3 ","dashboard.plan.current":"","dashboard.plan.credits":"","dashboard.plan.type.trial":"3 ","dashboard.plan.type.per_post":"","dashboard.plan.type.monthly":"","dashboard.plan.type.unknown":"","dashboard.stats.myApplications":"","dashboard.stats.myJobs":"","dashboard.stats.offers":" Offer","dashboard.stats.rejections":"","dashboard.apps.title":"","dashboard.apps.loading":"...","dashboard.apps.empty":"","dashboard.apps.defaultStatus":"","dashboard.jobs.title":"","dashboard.jobs.loading":"...","dashboard.jobs.empty":"","employer.needEmployerTitle":"","employer.needEmployerDesc":' role  "employer"',"employer.backToDashboard":"","employer.plan.title":"","employer.plan.current":"","employer.plan.credits":"credits","employer.title":"","employer.newJobButton":"+ ","employer.jobs.title":"","employer.jobs.loading":"","employer.jobs.empty":"","employer.jobs.hourSuffix":"/ ","employer.jobs.status.open":"","employer.jobs.status.closed":"","employer.jobs.edit":"","employer.jobs.close":"","employer.jobs.open":"","employer.jobs.delete":"","employer.confirm.delete":"","employer.confirm.open":"","employer.confirm.close":"","employer.status.deleted":"","employer.status.opened":"","employer.status.closed":"","employer.status.errorDelete":"","employer.status.errorToggle":"",job_description_title:"",job_description_empty:"",job_skills_title:" / ",job_skills_empty:"",job_apply_cta:"",job_apply_modal_title:"",job_apply_name:"",job_apply_phone:"",job_apply_submit:"",job_apply_cancel:"",job_apply_success:"",job_apply_error:"",job_apply_needLogin:"",job_favourite:"",jobs_salary_monthly_suffix:"/ ",jobs_search_button:"",nav_people:"",people_title:"",people_subtitle:" FastJob ",people_search_placeholder:" /  / ",people_empty:"",publicProfile_back:"",publicProfile_editOwn:"",publicProfile_isOwnHint:"",publicProfile_noProfile:"",publicProfile_noPosts:"",nav_people:""}};function o2({children:t}){const[e,n]=C.useState(()=>typeof window>"u"?"zh":localStorage.getItem("lang")||"zh");C.useEffect(()=>{localStorage.setItem("lang",e)},[e]);const i=C.useCallback(c=>(ld[e]||ld.en)[c]||ld.en[c]||c,[e]),o={lang:e,setLang:n,t:i};return l.jsx(_0.Provider,{value:o,children:t})}function et(){return C.useContext(_0)}function a2(){const{lang:t}=et(),e=t==="zh",n=new Date().getFullYear();return l.jsx("footer",{style:{marginTop:"auto",padding:"40px 0 24px",background:"var(--card)",borderTop:"1px solid var(--border)"},children:l.jsxs("div",{className:"container",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:32,marginBottom:32},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:20,fontWeight:800,color:"var(--primary)",marginBottom:12,letterSpacing:"0.05em"},children:"OneJob"}),l.jsx("p",{style:{fontSize:13,color:"var(--muted)",lineHeight:1.6,margin:0},children:e?"":"Malaysia's Fastest Hourly Job Platform"}),l.jsx("div",{style:{marginTop:12,fontSize:12,color:"var(--muted)",padding:"8px 12px",background:"rgba(249, 115, 22, 0.1)",borderRadius:8,display:"inline-block"},children:"Beta Version"})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:14,fontWeight:600,marginBottom:12,color:"var(--text)"},children:e?"":"Quick Links"}),l.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[l.jsx(Pn,{to:"/jobs",children:e?"":"Browse Jobs"}),l.jsx(Pn,{to:"/people",children:e?"":"Find Talent"}),l.jsx(Pn,{to:"/employer/post",children:e?"":"Post a Job"}),l.jsx(Pn,{to:"/employer/plan",children:e?"":"Pricing"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:14,fontWeight:600,marginBottom:12,color:"var(--text)"},children:e?"":"Legal"}),l.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[l.jsx(Pn,{to:"/terms",children:e?"":"Terms of Service"}),l.jsx(Pn,{to:"/disclaimer",children:e?"":"Disclaimer"}),l.jsx(Pn,{to:"/privacy",children:e?"":"Privacy Policy"})]})]}),l.jsxs("div",{children:[l.jsx("h4",{style:{fontSize:14,fontWeight:600,marginBottom:12,color:"var(--text)"},children:e?"":"Help & Support"}),l.jsxs("ul",{style:{listStyle:"none",padding:0,margin:0},children:[l.jsx("li",{style:{marginBottom:10},children:l.jsx("a",{href:"mailto:support@onejob.my",style:{fontSize:13,color:"var(--muted)",textDecoration:"none",display:"flex",alignItems:"center",gap:6},children:" support@onejob.my"})}),l.jsx(Pn,{to:"/faq",children:e?"":"FAQ"}),l.jsx(Pn,{to:"/safety",children:e?"":"Safety Guide"})]})]})]}),l.jsxs("div",{style:{padding:16,background:"rgba(249, 115, 22, 0.08)",border:"1px solid rgba(249, 115, 22, 0.2)",borderRadius:12,marginBottom:24,fontSize:12,color:"var(--muted)",textAlign:"center",lineHeight:1.6},children:[l.jsx("strong",{children:e?"":"Beta Notice:"})," ",e?" 100% ":"This platform is in Beta. We verify employers to the best of our ability but cannot guarantee 100% security. Please report suspicious activities immediately."]}),l.jsxs("div",{style:{paddingTop:20,borderTop:"1px solid var(--border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:16,fontSize:13,color:"var(--muted)"},children:[l.jsxs("div",{children:[" ",n," OneJob. ",e?"":"All rights reserved."]}),l.jsxs("div",{style:{display:"flex",gap:20,flexWrap:"wrap",alignItems:"center"},children:[l.jsx(ue,{to:"/terms",style:{color:"var(--muted)",textDecoration:"none",fontSize:12},children:e?"":"Terms"}),l.jsx("span",{style:{color:"var(--border)"},children:""})," ",l.jsx(ue,{to:"/disclaimer",style:{color:"var(--muted)",textDecoration:"none",fontSize:12},children:e?"":"Disclaimer"}),l.jsx("span",{style:{color:"var(--border)"},children:""})," ",l.jsx(ue,{to:"/privacy",style:{color:"var(--muted)",textDecoration:"none",fontSize:12},children:e?"":"Privacy"})]})]})]})})}function Pn({to:t,children:e}){return l.jsxs("li",{style:{marginBottom:10},children:[" ",l.jsx(ue,{to:t,style:{fontSize:13,color:"var(--muted)",textDecoration:"none",transition:"color 0.2s",display:"block"},onMouseEnter:n=>{n.currentTarget.style.color="var(--primary)"},onMouseLeave:n=>{n.currentTarget.style.color="var(--muted)"},children:e})]})}function l2(){var T,E;const{user:t,loading:e}=xt(),{lang:n,setLang:i,t:o}=et(),c=Ki(),d=(N,z,O)=>{const $=o(N);return $&&$!==N?$:n==="zh"?z:O},[f,p]=C.useState(()=>typeof window>"u"?"light":window.localStorage.getItem("fastjob-theme")==="dark"?"dark":"light"),[g,v]=C.useState(!1);C.useEffect(()=>{document.documentElement.setAttribute("data-theme",f),typeof window<"u"&&window.localStorage.setItem("fastjob-theme",f)},[f]);function y(){i(N=>N==="zh"?"en":"zh")}function x(){p(N=>N==="light"?"dark":"light")}const b=N=>c.pathname.startsWith(N),j=((E=(T=t==null?void 0:t.email)==null?void 0:T[0])==null?void 0:E.toUpperCase())||"U";return e?l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:"Loading..."})})}):l.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[l.jsx("header",{style:{position:"sticky",top:0,zIndex:40,backdropFilter:"blur(16px)",background:"linear-gradient(to bottom,rgba(15,23,42,0.95),rgba(15,23,42,0.85))",borderBottom:"1px solid rgba(148,163,184,0.35)"},children:l.jsxs("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:12,paddingBottom:12,gap:12},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16,flexWrap:"wrap"},children:[l.jsx(ue,{to:"/",style:{fontWeight:800,fontSize:20,letterSpacing:"0.08em",textTransform:"uppercase",color:"var(--primary)",textDecoration:"none",whiteSpace:"nowrap"},children:o("nav_brand")}),l.jsxs("nav",{className:"nav",style:{gap:16,flexWrap:"wrap"},children:[l.jsx(cd,{to:"/jobs",label:o("nav_jobs"),active:b("/jobs")}),l.jsx(cd,{to:"/people",label:o("nav_people"),active:b("/people")}),t&&l.jsx(cd,{to:"/dashboard",label:o("nav_dashboard"),active:b("/dashboard")})]})]}),l.jsxs("div",{className:"nav",style:{gap:8,alignItems:"center"},children:[l.jsx("button",{type:"button",onClick:y,className:"nav-pill-btn",children:l.jsxs("span",{style:{fontSize:12},children:[" ",n==="zh"?"":"English"]})}),l.jsx("button",{type:"button",onClick:x,className:"nav-pill-btn","aria-label":f==="light"?"":"",style:{width:40,justifyContent:"center",padding:"6px 0"},children:f==="light"?"":""}),t?l.jsxs("div",{style:{position:"relative"},children:[l.jsxs("button",{type:"button",onClick:()=>v(N=>!N),style:{display:"flex",alignItems:"center",gap:8,borderRadius:999,border:"1px solid var(--border)",padding:"4px 8px 4px 4px",cursor:"pointer",background:"var(--card)"},children:[l.jsx("div",{style:{width:28,height:28,borderRadius:"999px",background:"radial-gradient(circle at 0 0,#f97316,#4f46e5)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:12,fontWeight:700,color:"#0b1020"},children:j}),l.jsx("span",{style:{fontSize:12,maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"var(--muted)"},children:t.email}),l.jsx("span",{style:{fontSize:10,color:"var(--muted)"},children:""})]}),g&&l.jsxs("div",{style:{position:"absolute",right:0,top:"110%",marginTop:8,minWidth:220,background:"var(--card)",borderRadius:16,boxShadow:"var(--shadow-soft)",border:"1px solid var(--border)",padding:8,zIndex:50},children:[l.jsx(Ni,{to:"/dashboard",label:o("nav_dashboard"),onClick:()=>v(!1)}),l.jsx(Ni,{to:"/profile",label:o("nav_profile"),onClick:()=>v(!1)}),l.jsx(Ni,{to:"/my-applications",label:d("nav_myApplications","","My applications"),onClick:()=>v(!1)}),l.jsx(Ni,{to:"/employer",label:o("nav_employer"),onClick:()=>v(!1)}),l.jsx(Ni,{to:"/employer/plan",label:d("nav_employerPlan"," / ","My plan / Upgrade"),onClick:()=>v(!1)}),l.jsx(Ni,{to:"/employer/post",label:o("nav_postJob"),onClick:()=>v(!1)}),l.jsx("div",{style:{borderTop:"1px solid var(--border)",marginTop:6,paddingTop:6},children:l.jsx("button",{type:"button",onClick:()=>{v(!1),Lt.signOut()},style:{width:"100%",border:"none",background:"transparent",padding:"8px 10px",borderRadius:12,textAlign:"left",fontSize:14,cursor:"pointer",color:"var(--danger)"},children:o("nav_signOut")})})]})]}):l.jsx(ue,{to:"/login",className:"btn",children:o("nav_signIn")})]})]})}),l.jsx("main",{className:"container",style:{flex:1,paddingTop:16,paddingBottom:24},children:l.jsx(b1,{})}),l.jsx(a2,{})]})}function cd({to:t,label:e,active:n}){return l.jsx(ue,{to:t,style:{fontSize:14,padding:"6px 10px",borderRadius:999,textDecoration:"none",color:n?"var(--primary)":"var(--muted)",background:n?"rgba(249,115,22,0.12)":"transparent"},children:e})}function Ni({to:t,label:e,onClick:n}){return l.jsx(ue,{to:t,onClick:n,style:{display:"block",padding:"8px 10px",borderRadius:12,fontSize:14,color:"var(--text)",textDecoration:"none"},children:e})}function ud({icon:t,title:e,text:n}){return l.jsxs("div",{style:{borderRadius:22,padding:18,background:"var(--card)",border:"1px solid var(--border)",boxShadow:"var(--shadow-soft)"},children:[l.jsx("div",{style:{fontSize:24,marginBottom:6},children:t}),l.jsx("h3",{style:{margin:"0 0 4px",fontSize:16},children:e}),l.jsx("p",{style:{margin:0,fontSize:14,color:"var(--muted)",lineHeight:1.6},children:n})]})}function c2(){const{user:t}=xt(),e=!!t;return l.jsxs("div",{style:{minHeight:"100vh",background:"radial-gradient(circle at 0 0, rgba(249,115,22,0.16), transparent 55%), radial-gradient(circle at 100% 100%, rgba(56,189,248,0.18), transparent 55%), var(--bg)",color:"var(--text)"},children:[l.jsx("header",{style:{position:"sticky",top:0,zIndex:20,backdropFilter:"blur(14px)",WebkitBackdropFilter:"blur(14px)",background:"linear-gradient(to bottom, rgba(15,23,42,0.9), rgba(15,23,42,0.4), rgba(15,23,42,0))",borderBottom:"1px solid rgba(148,163,184,0.18)"},children:l.jsxs("div",{style:{maxWidth:1120,margin:"0 auto",padding:"10px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:16},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:34,height:34,borderRadius:999,background:"radial-gradient(circle at 0 0,#fed7aa,#f97316)",display:"flex",alignItems:"center",justifyContent:"center",color:"#0b1020",fontWeight:800,fontSize:18,boxShadow:"0 10px 28px rgba(249,115,22,0.75)"},children:"F"}),l.jsx("div",{style:{fontWeight:800,fontSize:20,letterSpacing:.04},children:"FastJob"})]}),l.jsxs("nav",{style:{display:"flex",alignItems:"center",gap:18,fontSize:14},children:[l.jsx(ue,{to:"/jobs",style:{color:"var(--muted)",textDecoration:"none"},children:""}),l.jsx(ue,{to:e?"/employer":"/login",style:{color:"var(--muted)",textDecoration:"none"},children:""}),l.jsx("div",{style:{width:1,height:20,background:"rgba(148,163,184,0.35)"}}),l.jsx(ue,{to:e?"/employer/post":"/login",children:l.jsx("button",{type:"button",className:"btn-ghost",style:{padding:"7px 14px",borderRadius:999,fontSize:13,border:"1px solid var(--border)",background:"rgba(15,23,42,0.75)"},children:"+ "})}),l.jsx(ue,{to:e?"/dashboard":"/login",children:l.jsx("button",{className:"btn",style:{padding:"8px 16px",borderRadius:999,fontSize:14},children:e?"":" / "})})]})]})}),l.jsxs("main",{children:[l.jsxs("section",{style:{maxWidth:1120,margin:"0 auto",padding:"40px 16px 64px",display:"grid",gridTemplateColumns:"minmax(0, 1.1fr) minmax(0, 0.9fr)",gap:36,alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:13,letterSpacing:3,textTransform:"uppercase",color:"var(--muted)"},children:"MALAYSIA HOURLY JOBS"}),l.jsxs("h1",{style:{margin:"10px 0 0",fontSize:40,lineHeight:1.1,letterSpacing:"-0.04em"},children:[""," ",l.jsx("span",{style:{color:"var(--primary)"},children:""})," "," ",l.jsx("span",{style:{color:"var(--primary)"},children:""}),""]}),l.jsx("p",{style:{marginTop:18,fontSize:15,lineHeight:1.7,maxWidth:520,color:"var(--muted)"},children:"FastJob   +  WhatsApp  "}),l.jsxs("div",{style:{marginTop:16,display:"flex",flexWrap:"wrap",gap:10,fontSize:12},children:[l.jsx("span",{style:{padding:"4px 10px",borderRadius:999,background:"rgba(34,197,94,0.1)",color:"#bbf7d0",border:"1px solid rgba(34,197,94,0.35)"},children:"   "}),l.jsx("span",{style:{padding:"4px 10px",borderRadius:999,background:"rgba(59,130,246,0.12)",color:"#bfdbfe",border:"1px solid rgba(59,130,246,0.45)"},children:"   "}),l.jsx("span",{style:{padding:"4px 10px",borderRadius:999,background:"rgba(248,250,252,0.05)",color:"var(--muted)",border:"1px solid rgba(148,163,184,0.4)"},children:"   "})]}),l.jsxs("div",{style:{marginTop:26,display:"flex",flexWrap:"wrap",gap:12},children:[l.jsx(ue,{to:"/jobs",children:l.jsx("button",{className:"btn",style:{padding:"12px 20px",borderRadius:999,fontSize:15},children:" "})}),l.jsx(ue,{to:e?"/employer":"/login",children:l.jsx("button",{type:"button",style:{padding:"11px 18px",borderRadius:999,border:"1px solid var(--border)",background:"var(--card)",fontSize:14,cursor:"pointer",color:"var(--text)"},children:" "})})]}),l.jsx("p",{style:{marginTop:14,fontSize:12,color:"var(--muted)"},children:"  "})]}),l.jsxs("div",{style:{position:"relative",padding:22,borderRadius:32,background:"linear-gradient(135deg, rgba(15,23,42,1), rgba(30,64,175,0.96))",boxShadow:"0 28px 70px rgba(15,23,42,0.9)",color:"#e5e7eb",overflow:"hidden"},children:[l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("p",{style:{margin:0,fontSize:12,textTransform:"uppercase",letterSpacing:2,color:"#93c5fd"},children:"DUAL EXPERIENCE"}),l.jsx("h2",{style:{margin:"6px 0 0",fontSize:18,fontWeight:700},children:" & "}),l.jsx("p",{style:{marginTop:6,fontSize:12,color:"#cbd5f5"},children:""})]}),l.jsxs("div",{style:{display:"grid",gap:12,position:"relative",zIndex:1},children:[l.jsx(ue,{to:"/jobs",style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{borderRadius:18,padding:12,background:"linear-gradient(135deg, rgba(249,115,22,0.25), rgba(248,250,252,0.02))",border:"1px solid rgba(248,250,252,0.12)",display:"flex",gap:10,alignItems:"center",cursor:"pointer"},children:[l.jsx("div",{style:{width:44,height:44,borderRadius:999,background:"radial-gradient(circle at 0 0,#fed7aa,#f97316)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:22},children:""}),l.jsxs("div",{style:{fontSize:13,flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:""}),l.jsx("div",{style:{color:"#d1d5db",marginTop:2},children:""}),l.jsx("div",{style:{marginTop:6,fontSize:12,color:"#fde68a"},children:" "})]})]})}),l.jsx(ue,{to:e?"/employer/post":"/login",style:{textDecoration:"none",color:"inherit"},children:l.jsxs("div",{style:{borderRadius:18,padding:12,background:"linear-gradient(135deg, rgba(59,130,246,0.3), rgba(15,23,42,0.9))",border:"1px solid rgba(148,163,184,0.55)",display:"flex",gap:10,alignItems:"center",cursor:"pointer"},children:[l.jsx("div",{style:{width:44,height:44,borderRadius:999,background:"radial-gradient(circle at 0 0,#bfdbfe,#1d4ed8)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:22},children:""}),l.jsxs("div",{style:{fontSize:13,flex:1},children:[l.jsx("div",{style:{fontWeight:600},children:""}),l.jsx("div",{style:{color:"#d1d5db",marginTop:2},children:" Kanban "}),l.jsx("div",{style:{marginTop:6,fontSize:12,color:"#bfdbfe"},children:e?" ":" "})]})]})})]}),l.jsx("div",{style:{position:"absolute",right:-40,bottom:-40,width:160,height:160,borderRadius:"999px",background:"radial-gradient(circle,#f97316,transparent)",opacity:.45}})]})]}),l.jsxs("section",{style:{maxWidth:1120,margin:"0 auto",padding:"0 16px 64px"},children:[l.jsx("h2",{style:{margin:"0 0 8px",fontSize:22},children:" FastJob"}),l.jsx("p",{style:{margin:"0 0 20px",fontSize:14,color:"var(--muted)"},children:""}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:16},children:[l.jsx(ud,{icon:"",title:"",text:" WhatsApp "}),l.jsx(ud,{icon:"",title:"",text:""}),l.jsx(ud,{icon:"",title:"",text:" WhatsApp "})]})]}),l.jsx("section",{style:{maxWidth:1120,margin:"0 auto",padding:"0 16px 72px"},children:l.jsxs("div",{className:"card",style:{borderRadius:24,padding:24,background:"linear-gradient(135deg, rgba(15,23,42,0.98), rgba(37,99,235,0.9))",border:"1px solid rgba(191,219,254,0.5)",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",gap:18},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,fontSize:22,color:"#f9fafb"},children:""}),l.jsx("p",{style:{marginTop:6,marginBottom:0,fontSize:14,color:"#e5e7eb",maxWidth:480},children:" "})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:10},children:[l.jsx(ue,{to:e?"/jobs":"/register",children:l.jsx("button",{className:"btn",style:{padding:"10px 18px",borderRadius:999,fontSize:14,background:"#f97316",border:"none"},children:e?"":""})}),l.jsx(ue,{to:e?"/employer":"/login",children:l.jsx("button",{type:"button",className:"btn-ghost",style:{padding:"9px 16px",borderRadius:999,fontSize:13,border:"1px solid rgba(248,250,252,0.6)",background:"transparent",color:"#e5e7eb"},children:""})})]})]})})]})]})}function u2(){const{t,lang:e}=et(),{user:n}=xt(),i=Ir(),o=e==="zh",[c,d]=C.useState(""),[f,p]=C.useState("");function g(y){y.preventDefault();const x=new URLSearchParams;c.trim()&&x.set("q",c.trim()),f.trim()&&x.set("loc",f.trim()),i(`/jobs?${x.toString()}`)}const v=[{icon:"",label:o?"":"F&B",query:" "},{icon:"",label:o?"":"Retail",query:" "},{icon:"",label:o?"":"Driver",query:" "},{icon:"",label:o?"":"Packing",query:" "},{icon:"",label:o?"":"CS",query:" "},{icon:"",label:o?"":"Construction",query:" "}];return l.jsxs("div",{className:"container",style:{paddingTop:24,paddingBottom:40},children:[l.jsx("div",{className:"card",style:{marginBottom:24,padding:24,borderRadius:24,background:"linear-gradient(135deg, rgba(15,23,42,1), rgba(30,64,175,0.96))",color:"#e5e7eb",border:"none",boxShadow:"0 30px 60px rgba(15,23,42,0.7)"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.1fr) minmax(0, 0.9fr)",gap:24,alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{margin:0,fontSize:13,letterSpacing:3,textTransform:"uppercase",color:"#9ca3af"},children:o?"":"Malaysia's Fastest"}),l.jsx("h1",{style:{margin:"8px 0 0",fontSize:30,lineHeight:1.2},children:l.jsx("span",{style:{color:"#f97316"},children:o?"":"Hourly Job Platform"})}),l.jsx("p",{style:{marginTop:10,fontSize:14,lineHeight:1.7,maxWidth:420,color:"#e5e7eb"},children:o?" 1 ":"Focus on part-time & temp work. Start in 1 hour, get paid daily."}),l.jsxs("form",{onSubmit:g,style:{marginTop:18,display:"grid",gridTemplateColumns:"2fr 1fr auto",gap:8},children:[l.jsx("input",{className:"input-glass",value:c,onChange:y=>d(y.target.value),placeholder:o?"...":"Keywords (waiter, driver, CS...)",style:{padding:"12px 16px",borderRadius:12,border:"1px solid rgba(148, 163, 184, 0.3)",background:"rgba(15, 23, 42, 0.6)",color:"#e5e7eb",fontSize:14}}),l.jsx("input",{className:"input-glass",value:f,onChange:y=>p(y.target.value),placeholder:o?"Sunway, Ipoh":"Location (Sunway, Ipoh)",style:{padding:"12px 16px",borderRadius:12,border:"1px solid rgba(148, 163, 184, 0.3)",background:"rgba(15, 23, 42, 0.6)",color:"#e5e7eb",fontSize:14}}),l.jsxs("button",{type:"submit",className:"btn",style:{padding:"12px 32px",borderRadius:12,background:"var(--primary)",color:"#ffffff",border:"none",fontWeight:600,fontSize:14,cursor:"pointer",whiteSpace:"nowrap"},children:[" ",o?"":"Search"]})]})]}),l.jsxs("div",{style:{borderRadius:18,padding:20,background:"linear-gradient(145deg, rgba(15,23,42,0.9), rgba(15,23,42,0.6))",border:"1px solid rgba(148,163,184,0.3)",boxShadow:"0 20px 40px rgba(15,23,42,0.9)"},children:[l.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:600,marginBottom:16,color:"#f97316"},children:o?"":"Platform Stats"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:12,borderRadius:10,background:"rgba(249, 115, 22, 0.1)",border:"1px solid rgba(249, 115, 22, 0.2)"},children:[l.jsxs("span",{style:{fontSize:13,color:"#fed7aa"},children:[" ",o?"":"New Jobs This Week"]}),l.jsx("span",{style:{fontSize:18,fontWeight:700,color:"#f97316"},children:"+128"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:12,borderRadius:10,background:"rgba(59, 130, 246, 0.1)",border:"1px solid rgba(59, 130, 246, 0.2)"},children:[l.jsxs("span",{style:{fontSize:13,color:"#bfdbfe"},children:[" ",o?"":"Avg Response"]}),l.jsx("span",{style:{fontSize:18,fontWeight:700,color:"#3b82f6"},children:o?"2":"2 hrs"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:12,borderRadius:10,background:"rgba(16, 185, 129, 0.1)",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[l.jsxs("span",{style:{fontSize:13,color:"#bbf7d0"},children:[" ",o?"":"Cities"]}),l.jsx("span",{style:{fontSize:13,fontWeight:600,color:"#10b981"},children:"KL  Ipoh  Penang"})]})]})]})]})}),l.jsxs("div",{className:"card",style:{marginBottom:16},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:16,fontSize:18},children:o?"":"Popular Categories"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:12},children:v.map((y,x)=>l.jsxs("button",{onClick:()=>{d(y.query);const b=new URLSearchParams;b.set("q",y.query),i(`/jobs?${b.toString()}`)},style:{padding:"16px 12px",borderRadius:12,border:"1px solid var(--border)",background:"var(--card)",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",gap:8},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-2px)",b.currentTarget.style.borderColor="var(--primary)",b.currentTarget.style.boxShadow="0 4px 12px rgba(249, 115, 22, 0.2)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.borderColor="var(--border)",b.currentTarget.style.boxShadow="none"},children:[l.jsx("span",{style:{fontSize:32},children:y.icon}),l.jsx("span",{style:{fontSize:14,fontWeight:600,color:"var(--text)"},children:y.label})]},x))})]}),l.jsx("div",{className:"card",style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.05) 0%, rgba(234, 88, 12, 0.02) 100%)",border:"1px solid rgba(249, 115, 22, 0.2)",padding:24},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:20},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{marginTop:0,marginBottom:8,fontSize:20,fontWeight:700},children:o?"":"I'm an Employer"}),l.jsx("p",{style:{margin:0,fontSize:14,color:"var(--muted)",maxWidth:500},children:o?"":"Quickly fill positions for F&B, retail, events, etc. Post jobs and manage applications in employer dashboard."})]}),l.jsxs(ue,{to:"/employer",style:{padding:"14px 28px",borderRadius:12,background:"var(--primary)",color:"#ffffff",textDecoration:"none",fontWeight:600,fontSize:14,whiteSpace:"nowrap",boxShadow:"0 4px 12px rgba(249, 115, 22, 0.3)",transition:"all 0.2s ease"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-2px)",y.currentTarget.style.boxShadow="0 8px 20px rgba(249, 115, 22, 0.4)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 4px 12px rgba(249, 115, 22, 0.3)"},children:[" ",o?"":"Switch to Employer"]})]})})]})}function d2(){const{t,lang:e}=et(),n=(O,$,D)=>{const Y=t(O);return Y&&Y!==O?Y:e==="zh"?$:D},[i,o]=C.useState([]),[c,d]=C.useState(!0),[f,p]=C.useState(""),[g,v]=C.useState(""),[y,x]=C.useState("all"),[b,j]=C.useState(null);C.useEffect(()=>{const O=Ee(je,"jobs"),$=_t(O,D=>{if(!D.exists()){o([]),d(!1);return}const Y=D.val()||{},G=Object.entries(Y).map(([K,X])=>({id:K,...X})).sort((K,X)=>(X.createdAt||0)-(K.createdAt||0));o(G),d(!1)},()=>{o([]),d(!1)});return()=>$()},[]);const T=O=>O?Array.isArray(O)?O.filter(Boolean).flatMap($=>typeof $=="string"?$.split(","):[]):typeof O=="object"?Object.values(O).filter(Boolean).flatMap($=>typeof $=="string"?$.split(","):[]):typeof O=="string"?O.split(","):[]:[],E=O=>T(O.images||O.imageUrls||O.imageUrl).map(D=>D.trim()).filter(Boolean),N=C.useMemo(()=>{const O=f.trim().toLowerCase(),$=g.trim().toLowerCase();return i.filter(D=>!(y!=="all"&&(D.employmentType||"")!==y||O&&!`${D.title||""} ${D.companyName||""}`.toLowerCase().includes(O)||$&&!`${D.location||""}`.toLowerCase().includes($)))},[i,f,g,y]),z=C.useMemo(()=>N.find(O=>O.id===b)||null,[N,b]);return c?l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:n("jobs_loading","","Loading jobs")})})}):l.jsxs("div",{className:"container jobs-page",style:{paddingBottom:32},children:[l.jsxs("div",{className:"card",style:{marginBottom:16},children:[l.jsx("h2",{style:{marginTop:0,marginBottom:16},children:n("jobs_title","","Find Jobs")}),l.jsxs("div",{className:"jobs-filter",children:[l.jsx("div",{className:"jobs-filter-input",children:l.jsxs("div",{className:"search-row",children:[l.jsx("input",{value:f,onChange:O=>p(O.target.value),placeholder:n("jobs_keyword_placeholder",":  / Software Engineer","Keyword, e.g. Waiter / Software Engineer")}),l.jsx("input",{value:g,onChange:O=>v(O.target.value),placeholder:n("jobs_location_placeholder",": Sunway / Ipoh","Location, e.g. Sunway / Ipoh")})]})}),l.jsxs("div",{className:"jobs-filter-row",children:[l.jsxs("div",{className:"jobs-filter-type",children:[l.jsx("button",{type:"button",className:"jobs-chip"+(y==="all"?" jobs-chip--active":""),onClick:()=>x("all"),children:n("jobs_filter_all","","All types")}),l.jsx("button",{type:"button",className:"jobs-chip"+(y==="parttime"?" jobs-chip--active":""),onClick:()=>x("parttime"),children:n("jobs_filter_parttime","","Part-time")}),l.jsx("button",{type:"button",className:"jobs-chip"+(y==="fulltime"?" jobs-chip--active":""),onClick:()=>x("fulltime"),children:n("jobs_filter_fulltime","","Full-time")}),l.jsx("button",{type:"button",className:"jobs-chip"+(y==="intern"?" jobs-chip--active":""),onClick:()=>x("intern"),children:n("jobs_filter_intern","","Internship")})]}),l.jsx("div",{className:"jobs-filter-actions",children:l.jsx("button",{type:"button",className:"btn-ghost",onClick:()=>{p(""),v(""),x("all"),j(null)},children:n("jobs_reset","","Reset")})})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"jobs-master-layout",style:{display:"flex",gap:16,alignItems:"stretch"},children:[l.jsxs("div",{className:"jobs-list-column",style:{flex:1,minWidth:0,borderRight:"1px solid var(--border)",paddingRight:12},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:12},children:n("jobs_recommend","","Recommended jobs")}),N.length===0?l.jsx("p",{style:{color:"var(--muted)",fontSize:14},children:n("jobs_empty","","No jobs found for this filter.")}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:N.map(O=>l.jsx(h2,{job:O,tf:n,images:E(O),selected:O.id===b,onSelect:()=>j(O.id)},O.id))})]}),l.jsx("div",{className:"jobs-detail-column",style:{flex:1.2,minWidth:0,paddingLeft:12},children:z?l.jsx(f2,{job:z,tf:n,lang:e,images:E(z)}):l.jsxs("div",{style:{height:"100%",minHeight:260,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:8,color:"var(--muted)"},children:[l.jsx("div",{style:{width:90,height:90,borderRadius:"50%",background:"rgba(148,163,184,0.18)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:40},children:""}),l.jsx("div",{style:{fontSize:16,fontWeight:500},children:n("jobs_select_placeholder_title","","Select a job")}),l.jsx("div",{style:{fontSize:13,textAlign:"center"},children:n("jobs_select_placeholder_sub","","Click any job on the left to see details and environment photos.")})]})})]}),l.jsx("div",{className:"jobs-mobile-hint",style:{marginTop:12,fontSize:12,color:"var(--muted)",display:"none"},children:n("jobs_mobile_hint","","On mobile, tap a job to open the full detail page.")})]})]})}function h2({job:t,tf:e,images:n,selected:i,onSelect:o}){const[c,d]=C.useState(!0),f=n[0]||null,p=t.salaryMin||t.salaryMax,v=t.employmentType!=="fulltime"?e("jobs_salary_hourly_suffix","/ ","/ hour"):e("jobs_salary_monthly_suffix","/ ","/ month"),y=p?`RM ${t.salaryMin||""}${t.salaryMax?" - "+t.salaryMax:""} ${v}`:e("jobs_salary_negotiable","","Negotiable"),x=t.employmentType==="fulltime"?e("jobs_filter_fulltime","","Full-time"):t.employmentType==="intern"?e("jobs_filter_intern","","Intern"):e("jobs_filter_parttime"," / ","Part-time / Hourly"),b=t.companyName||e("jobs_fallback_company","","Company"),j=t.location||e("jobs_fallback_location","","Location"),T=(b||t.title||"?").trim().charAt(0).toUpperCase()||"?";return l.jsxs("button",{type:"button",onClick:o,style:{textAlign:"left",border:"1px solid "+(i?"var(--primary)":"var(--border)"),background:i?"rgba(249, 115, 22, 0.08)":"var(--card)",color:"inherit",borderRadius:16,padding:14,display:"flex",gap:12,alignItems:"flex-start",cursor:"pointer",transition:"all 0.2s ease",marginBottom:8},children:[l.jsx("div",{style:{width:70,minWidth:70,height:70,borderRadius:12,overflow:"hidden",background:"linear-gradient(135deg, #1e293b 0%, #334155 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:f&&c?l.jsx("img",{src:f,alt:t.title,onError:()=>d(!1),style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}}):l.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("div",{style:{width:32,height:32,borderRadius:"999px",background:"linear-gradient(135deg, #f97316 0%, #facc15 100%)",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:16,color:"#0b1020"},children:T})})}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:6,minWidth:0},children:[l.jsx("h4",{style:{margin:0,fontSize:15,fontWeight:600,lineHeight:1.3,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:t.title}),l.jsxs("div",{style:{fontSize:12,color:"var(--muted)",display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:b}),j&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:j})]})]}),l.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--primary)"},children:y}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{background:"rgba(249, 115, 22, 0.15)",color:"var(--primary)",fontSize:11,fontWeight:500,borderRadius:6,padding:"3px 8px",border:"1px solid rgba(249, 115, 22, 0.3)"},children:x}),t.locationTag&&l.jsx("span",{style:{fontSize:11,color:"var(--muted)"},children:t.locationTag})]})]})]})}function f2({job:t,tf:e,lang:n,images:i}){const o=i[0]||null,c=t.salaryMin||t.salaryMax,f=t.employmentType!=="fulltime"?e("jobs_salary_hourly_suffix","/ ","/ hour"):e("jobs_salary_monthly_suffix","/ ","/ month"),p=c?`RM ${t.salaryMin||""}${t.salaryMax?" - "+t.salaryMax:""} ${f}`:e("jobs_salary_negotiable","","Negotiable"),g=t.employmentType==="fulltime"?e("jobs_filter_fulltime","","Full-time"):t.employmentType==="intern"?e("jobs_filter_intern","","Intern"):e("jobs_filter_parttime"," / ","Part-time / Hourly"),v=t.companyName||e("jobs_fallback_company","","Company"),y=t.location||e("jobs_fallback_location","","Location"),x=t.description&&t.description.trim().length>0?t.description.trim():e("job_description_empty","","No description yet."),b=x.length>240?x.slice(0,240).trim()+"...":x,j=t.createdAt?new Date(t.createdAt).toLocaleDateString():"";return l.jsxs("div",{className:"jobs-preview-card",style:{borderRadius:20,border:"1px solid var(--border)",padding:16,background:"var(--card-subtle)",display:"flex",flexDirection:"column",gap:12,height:"100%"},children:[o&&l.jsx("div",{style:{borderRadius:16,overflow:"hidden",background:"#020617"},children:l.jsx("img",{src:o,alt:t.title,style:{width:"100%",maxHeight:200,objectFit:"cover",display:"block"}})}),l.jsxs("div",{children:[l.jsx("h2",{style:{margin:0,marginBottom:4,fontSize:20},children:t.title}),l.jsxs("div",{style:{fontSize:14,color:"var(--muted)",marginBottom:4},children:[v,"  ",y]}),j&&l.jsxs("div",{style:{fontSize:12,color:"var(--muted)"},children:[e("jobs_posted_on","","Posted on")," ",j]})]}),l.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[l.jsx("span",{style:{fontWeight:600,color:"var(--primary)",fontSize:16},children:p}),l.jsx("span",{style:{fontSize:12,padding:"3px 8px",borderRadius:999,background:"var(--primary-light)",color:"var(--primary-on-light)"},children:g})]}),l.jsx("p",{style:{marginTop:4,marginBottom:4,fontSize:14,whiteSpace:"pre-wrap"},children:b}),l.jsxs("div",{style:{marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:[l.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:n==="zh"?"":"Want to see more environment photos? Open the full job page."}),l.jsx(ue,{to:`/jobs/${t.id}`,className:"btn",style:{fontSize:14,padding:"8px 14px",textDecoration:"none"},children:e("jobs_view_detail"," / ","View details / Apply")})]})]})}async function Gl(t,e,n){if(!t)throw new Error("");const i=5*1024*1024;if(t.size>i)throw new Error(" 5MB");const o=Date.now(),c=Math.random().toString(36).substring(2,8),d=t.name.split(".").pop(),f=`${o}_${c}.${d}`,p=`${e}/${n}/${f}`,g=Bj(i2,p);try{const v=await Fj(g,t);return await Uj(v.ref)}catch(v){throw console.error(":",v),new Error("")}}async function p2(t,e){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))throw new Error(" JPG, PNG  WebP ");const i=2*1024*1024;if(t.size>i)throw new Error(" 2MB");return Gl(t,"avatars",e)}async function m2(t,e){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(t.type))throw new Error(" PDF  Word ");const i=5*1024*1024;if(t.size>i)throw new Error(" 5MB");return Gl(t,"resumes",e)}async function g2(t,e){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))throw new Error(" JPG, PNG  WebP ");const i=5*1024*1024;if(t.size>i)throw new Error(" 5MB");return Gl(t,"portfolios",e)}async function x0(t,e){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(t.type))throw new Error(" JPG, PNG  WebP ");const i=5*1024*1024;if(t.size>i)throw new Error(" 5MB");return Gl(t,"jobs",e)}function y2(){const{jobId:t}=kl(),{user:e}=xt(),{t:n,lang:i}=et(),o=(Z,ie,xe)=>{const ye=n(Z);return ye&&ye!==Z?ye:i==="zh"?ie:xe},[c,d]=C.useState(null),[f,p]=C.useState(!0),[g,v]=C.useState(0),[y,x]=C.useState(!1),[b,j]=C.useState(!1),[T,E]=C.useState(!1),[N,z]=C.useState(null),[O,$]=C.useState({}),[D,Y]=C.useState(null),[G,K]=C.useState(!1),[X,Q]=C.useState({name:"",phone:"",email:"",resumeLink:""});C.useEffect(()=>{if(!t){p(!1);return}const Z=Ee(je,"jobs/"+t),ie=_t(Z,xe=>{if(xe.exists()){const ye=xe.val();d({...ye,id:t})}else d(null);p(!1)},()=>{d(null),p(!1)});return()=>ie()},[t]),C.useEffect(()=>{if(!e||!t)return;j(!0);const Z=Ee(je,"applications/"+t);Xh(Z).then(ie=>{if(ie.exists()){const ye=Object.values(ie.val()).some(Ie=>Ie.userId===e.uid);x(ye)}else x(!1)}).catch(()=>{x(!1)}).finally(()=>{j(!1)})},[e,t]);const ae=C.useMemo(()=>c?Array.isArray(c.images)&&c.images.length>0?c.images.filter(Boolean):c.imageUrl?[c.imageUrl]:[]:[],[c]);function ge(){v(Z=>(Z-1+ae.length)%ae.length)}function V(){v(Z=>(Z+1)%ae.length)}const me=C.useMemo(()=>{if(!c)return null;const Z=c.mapLocation?`${c.companyName} ${c.mapLocation}`:c.location&&c.companyName?`${c.companyName} ${c.location}`:c.companyName||c.location;return Z?`https://www.google.com/maps?q=${encodeURIComponent(Z)}&output=embed`:null},[c]);async function _e(Z){if(!Z||!e)return null;K(!0);try{return await m2(Z,e.uid)}catch(ie){return alert(ie.message||""),null}finally{K(!1)}}async function Pe(Z){if(Z.preventDefault(),!c)return;if(!e){z({type:"error",message:o("job_apply_needLogin","","Please login first.")});return}if(y){z({type:"info",message:o("job_apply_already","","You have already applied for this job.")});return}const ie=X.name.trim(),xe=X.phone.trim(),ye=X.email.trim(),Ie={};if(ie||(Ie.name=o("job_apply_error_name","","Please enter your name.")),xe||(Ie.phone=o("job_apply_error_phone","","Please enter your phone number.")),ye||(Ie.email=o("job_apply_error_email","","Please enter your email.")),Object.keys(Ie).length>0){$(Ie),z({type:"error",message:o("job_apply_need_info"," * ","Please fill in all required fields marked with *.")});return}$({}),E(!0);try{let tt=X.resumeLink;if(D&&(tt=await _e(D),!tt)){E(!1);return}await Qh(Ee(je,"applications/"+t),{userId:e.uid,name:ie,phone:xe,email:ye,resumeLink:tt||null,createdAt:Date.now(),jobId:t,jobTitle:c.title||""}),z({type:"success",message:o("job_apply_success","","Application submitted!")}),Q(si=>({...si,name:""})),Y(null),x(!0)}catch(tt){console.error(tt),E(!1),z({type:"error",message:o("job_apply_error","","Submit failed, please try again.")})}finally{E(!1)}}if(f)return l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:"..."})})});if(!c)return l.jsx("div",{className:"container",children:l.jsxs("div",{className:"card",children:[l.jsx("p",{children:""}),l.jsx(ue,{to:"/jobs",className:"btn",style:{marginTop:12},children:""})]})});const{salaryMin:oe,salaryMax:L,employmentType:U}=c;let B="";if(oe||L){const Z=U==="fulltime"?o("jobs_salary_monthly_suffix"," / "," / month"):o("job_salary_hourly"," / "," / hour");oe&&L?B=`RM ${oe} - ${L}${Z}`:oe?B=`RM ${oe}+${Z}`:L&&(B=` RM ${L}${Z}`)}const k=U==="fulltime"?o("job_type_fulltime","","Full-time"):U==="parttime"?o("job_type_parttime","","Part-time"):o("job_type_contract","","Contract"),M=c.description||"",pe=Array.isArray(c.skills)&&c.skills.length>0?c.skills:null,ve=c.createdAt?new Date(c.createdAt).toLocaleDateString("zh-CN",{year:"numeric",month:"short",day:"numeric"}):null;return l.jsx("div",{className:"container",style:{maxWidth:1e3,padding:"16px",paddingBottom:88},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:24},children:[l.jsxs("div",{children:[l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("h1",{style:{margin:"0 0 8px",fontSize:28},children:c.title}),l.jsx("p",{style:{margin:0,fontSize:16,color:"var(--muted)"},children:c.companyName}),c.location&&l.jsxs("p",{style:{margin:"4px 0 0",fontSize:14,color:"var(--muted)"},children:[" ",c.location]})]}),ae.length>0&&l.jsxs("div",{style:{position:"relative",width:"100%",paddingBottom:"56.25%",borderRadius:16,overflow:"hidden",marginBottom:24,background:"var(--card)"},children:[l.jsx("img",{src:ae[g],style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"},alt:"Job"}),ae.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:ge,style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",width:32,height:32,borderRadius:"999px",border:"none",background:"rgba(15,23,42,0.75)",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),l.jsx("button",{type:"button",onClick:V,style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",width:32,height:32,borderRadius:"999px",border:"none",background:"rgba(15,23,42,0.75)",color:"#fff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),l.jsx("div",{style:{position:"absolute",bottom:10,left:"50%",transform:"translateX(-50%)",display:"flex",gap:6},children:ae.map((Z,ie)=>l.jsx("span",{style:{width:6,height:6,borderRadius:"999px",background:ie===g?"#ffffff":"rgba(226,232,240,0.5)"}},ie))})]})]}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("h3",{style:{margin:"0 0 6px",fontSize:18,fontWeight:700},children:o("job_description_title","","Description")}),l.jsx("p",{style:{margin:0,whiteSpace:"pre-wrap",fontSize:14},children:M})]}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("h3",{style:{margin:"0 0 6px",fontSize:18,fontWeight:700},children:o("job_skills_title","","Skills / Requirements")}),pe?l.jsx("ul",{style:{margin:0,paddingLeft:20},children:pe.map((Z,ie)=>l.jsx("li",{style:{fontSize:14},children:Z},ie))}):l.jsx("p",{style:{margin:0,fontSize:14,color:"var(--muted)"},children:""})]}),me&&l.jsxs("div",{style:{marginTop:24},children:[l.jsx("h3",{style:{margin:"0 0 10px",fontSize:18},children:""}),l.jsx("iframe",{src:me,width:"100%",height:"280",style:{border:0,borderRadius:12},loading:"lazy"})]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{borderRadius:18,padding:16,border:"1px solid var(--border)",background:"var(--card-subtle)",boxShadow:"0 18px 45px rgba(15,23,42,0.25)",marginBottom:16},children:[l.jsx("div",{style:{fontSize:24,fontWeight:700,marginBottom:12},children:B}),l.jsxs("div",{style:{fontSize:13,color:"var(--muted)",lineHeight:1.6},children:[k&&l.jsxs("p",{style:{margin:0},children:[o("job_summary_type","","Type:")," ",k]}),ve&&l.jsxs("p",{style:{margin:0},children:[o("job_posted_on","","Posted on:")," ",ve]})]})]}),l.jsxs("div",{style:{borderRadius:18,padding:16,border:"1px solid var(--border)",background:"var(--card-subtle)",boxShadow:"0 18px 45px rgba(15,23,42,0.25)"},children:[l.jsx("h3",{style:{margin:"0 0 8px",fontSize:16},children:o("job_apply_title","","Apply for this job")}),l.jsx("p",{style:{margin:"0 0 10px",fontSize:13,color:"var(--muted)"},children:b?o("job_apply_checking","","Checking your application status"):y?o("job_apply_already"," ","You have already applied for this job "):o("job_apply_hint","","Fill in your name, phone, email and (optional) resume link. The employer will contact you if shortlisted.")}),N&&l.jsx("div",{style:{marginBottom:8,padding:8,borderRadius:12,fontSize:13,background:N.type==="success"?"rgba(16,185,129,0.12)":N.type==="info"?"rgba(59,130,246,0.12)":"rgba(239,68,68,0.12)",border:N.type==="success"?"1px solid rgba(16,185,129,0.5)":N.type==="info"?"1px solid rgba(59,130,246,0.5)":"1px solid rgba(239,68,68,0.4)",color:N.type==="success"?"#6ee7b7":N.type==="info"?"#93c5fd":"#fca5a5"},children:N.message}),l.jsxs("form",{onSubmit:Pe,children:[l.jsxs("div",{style:{marginBottom:10},children:[l.jsxs("label",{style:{fontSize:13,marginBottom:4,display:"block"},children:[o("job_apply_name","","Name"),l.jsx("span",{style:{color:"var(--danger)",marginLeft:4},children:"*"})]}),l.jsx("input",{className:"input-glass",value:X.name,onChange:Z=>Q(ie=>({...ie,name:Z.target.value})),placeholder:o("job_apply_name_ph","Nevan","e.g. Nevan"),disabled:y||T,style:{padding:"10px",fontSize:"13px",border:"1px solid var(--border)",borderRadius:"8px",width:"100%",background:"var(--card)",color:"var(--text)"}}),O.name&&l.jsx("div",{style:{fontSize:12,color:"var(--danger)",marginTop:4},children:O.name})]}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsxs("label",{style:{fontSize:13,marginBottom:4,display:"block"},children:[o("job_apply_phone","","Phone number"),l.jsx("span",{style:{color:"var(--danger)",marginLeft:4},children:"*"})]}),l.jsx("input",{className:"input-glass",value:X.phone,onChange:Z=>Q(ie=>({...ie,phone:Z.target.value})),placeholder:o("job_apply_phone_ph","012-3456789","e.g. 012-3456789"),disabled:y||T,style:{padding:"10px",fontSize:"13px",border:"1px solid var(--border)",borderRadius:"8px",width:"100%",background:"var(--card)",color:"var(--text)"}}),O.phone&&l.jsx("div",{style:{fontSize:12,color:"var(--danger)",marginTop:4},children:O.phone})]}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsxs("label",{style:{fontSize:13,marginBottom:4,display:"block"},children:[o("job_apply_email","","Email address"),l.jsx("span",{style:{color:"var(--danger)",marginLeft:4},children:"*"})]}),l.jsx("input",{className:"input-glass",type:"email",value:X.email,onChange:Z=>Q(ie=>({...ie,email:Z.target.value})),placeholder:(e==null?void 0:e.email)||o("job_apply_email_ph","example@gmail.com","e.g. example@gmail.com"),disabled:y||T,style:{padding:"10px",fontSize:"13px",border:"1px solid var(--border)",borderRadius:"8px",width:"100%",background:"var(--card)",color:"var(--text)"}}),O.email&&l.jsx("div",{style:{fontSize:12,color:"var(--danger)",marginTop:4},children:O.email})]}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsx("label",{style:{fontSize:13,marginBottom:4,display:"block"},children:o("job_apply_resume","","Resume (optional)")}),l.jsxs("div",{style:{marginBottom:8},children:[l.jsxs("label",{htmlFor:"resume-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"16px",border:"2px dashed var(--border)",borderRadius:"10px",background:"rgba(249,115,22,0.05)",cursor:y||T||G?"not-allowed":"pointer",transition:"all 0.2s"},onMouseEnter:Z=>{!y&&!T&&!G&&(Z.currentTarget.style.borderColor="var(--primary)",Z.currentTarget.style.background="rgba(249,115,22,0.1)")},onMouseLeave:Z=>{Z.currentTarget.style.borderColor="var(--border)",Z.currentTarget.style.background="rgba(249,115,22,0.05)"},children:[l.jsx("div",{style:{fontSize:24,marginBottom:4},children:""}),l.jsx("div",{style:{fontSize:13,fontWeight:500,marginBottom:2},children:o("","Click to upload resume")}),l.jsx("div",{style:{fontSize:11,color:"var(--muted)"},children:o(" PDFWord  5MB","PDF, Word, max 5MB")})]}),l.jsx("input",{id:"resume-upload",type:"file",accept:".pdf,.doc,.docx",onChange:Z=>{var xe;const ie=(xe=Z.target.files)==null?void 0:xe[0];ie&&(Y(ie),Q(ye=>({...ye,resumeLink:""})))},disabled:y||T||G,style:{display:"none"}}),D&&l.jsxs("div",{style:{marginTop:6,padding:"6px 10px",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:6,fontSize:12,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("span",{children:[" ",D.name," (",(D.size/1024).toFixed(1)," KB)"]}),l.jsx("button",{type:"button",onClick:()=>Y(null),style:{background:"none",border:"none",color:"var(--danger)",cursor:"pointer",padding:"0 4px",fontSize:16},children:""})]})]}),l.jsx("div",{style:{textAlign:"center",margin:"8px 0",color:"var(--muted)",fontSize:12},children:""}),l.jsx("input",{className:"input-glass",value:X.resumeLink,onChange:Z=>{Q(ie=>({...ie,resumeLink:Z.target.value})),Y(null)},placeholder:o("job_apply_resume_ph","Google Drive / PDF","Paste resume link (Google Drive / PDF)"),disabled:y||T||!!D,style:{padding:"10px",fontSize:"13px",border:"1px solid var(--border)",borderRadius:"8px",width:"100%",background:"var(--card)",color:"var(--text)"}}),l.jsx("p",{style:{fontSize:11,color:"var(--muted)",marginTop:6,marginBottom:0},children:o("resume_hint"," PDFWord  5MB","Supports PDF, Word documents, max 5MB")})]}),l.jsx("button",{type:"submit",className:"btn",disabled:y||T||G,style:{marginTop:4,width:"100%"},children:G?o("uploading_resume","...","Uploading resume..."):T?o("submitting","...","Submitting..."):y?o("job_apply_done","","Already applied"):o("job_apply_cta","","Submit application")})]})]})]})]})})}function ef(){const[t,e]=C.useState({role:"employee",employer:!1,loaded:!1});return C.useEffect(()=>{let n=()=>{};const i=Tv(Lt,o=>{if(!o){n(),e({role:"employee",employer:!1,loaded:!0});return}const c=Ee(je,"profiles/"+o.uid);n=_t(c,d=>{const p=(d.val()||{}).role||"employee";e({role:p,employer:p==="employer",loaded:!0})},()=>{e({role:"employee",employer:!1,loaded:!0})})});return()=>{i(),n()}},[]),t}function v2(){const{user:t,loading:e}=xt(),{role:n,loaded:i}=ef(),{t:o,lang:c}=et(),[d,f]=C.useState("employee"),[p,g]=C.useState([]),[v,y]=C.useState(!0),[x,b]=C.useState([]),[j,T]=C.useState(!0),E=(D,Y,G)=>{const K=o(D);return K&&K!==D?K:c==="zh"?Y:G};C.useEffect(()=>{i&&f(n==="employer"?"employer":"employee")},[n,i]),C.useEffect(()=>{if(!t){g([]),y(!1);return}const D=Ee(je,"applications"),Y=_t(D,G=>{if(!G.exists()){g([]),y(!1);return}const K=G.val()||{},X=[];Object.entries(K).forEach(([Q,ae])=>{!ae||typeof ae!="object"||Object.entries(ae).forEach(([ge,V])=>{!V||typeof V!="object"||V.userId===t.uid&&X.push({id:ge,jobId:Q,...V})})}),X.sort((Q,ae)=>(ae.createdAt||0)-(Q.createdAt||0)),g(X),y(!1)},()=>{g([]),y(!1)});return()=>Y()},[t]),C.useEffect(()=>{if(!t){b([]),T(!1);return}const D=Ee(je,"jobs"),Y=_t(D,G=>{if(!G.exists()){b([]),T(!1);return}const K=G.val()||{},X=Object.entries(K).map(([Q,ae])=>({id:Q,...ae}));b(X),T(!1)},()=>{b([]),T(!1)});return()=>Y()},[t]);const N=C.useMemo(()=>{const D={};return x.forEach(Y=>{D[Y.id]=Y}),D},[x]),z=C.useMemo(()=>p.map(D=>{const Y=N[D.jobId]||{};return{...D,jobTitle:D.jobTitle||Y.title||"",companyName:Y.companyName||"",location:Y.location||"",salaryMin:Y.salaryMin,salaryMax:Y.salaryMax,employmentType:Y.employmentType}}),[p,N]),O=C.useMemo(()=>x.filter(D=>D.ownerId&&t&&D.ownerId===t.uid),[x,t]);if(e||!i)return l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:E("dashboard_loading","","Loading")})})});if(!t)return l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:E("dashboard_need_login","","Please sign in to view your dashboard.")})})});const $=t.displayName&&t.displayName.split(" ")[0]||t.email||"";return l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"card",style:{marginBottom:16},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:12,flexWrap:"wrap"},children:[l.jsxs("div",{children:[l.jsxs("h2",{style:{marginTop:0,marginBottom:4},children:[E("dashboard_hello","","Hi, "),$]}),l.jsx("p",{style:{margin:0,fontSize:14,color:"var(--muted)"},children:E("dashboard_intro","","Here you can quickly see the jobs you applied to and the ones you posted.")})]}),l.jsxs("div",{style:{background:"rgba(15,23,42,0.85)",padding:4,borderRadius:999,display:"flex",gap:4},children:[l.jsx("button",{type:"button",onClick:()=>f("employee"),className:"btn-ghost",style:{padding:"6px 14px",borderRadius:999,fontSize:13,background:d==="employee"?"var(--primary)":"transparent",color:d==="employee"?"#fff":"var(--muted)"},children:E("dashboard_mode_employee","","Job seeker")}),l.jsx("button",{type:"button",onClick:()=>f("employer"),className:"btn-ghost",style:{padding:"6px 14px",borderRadius:999,fontSize:13,background:d==="employer"?"var(--primary)":"transparent",color:d==="employer"?"#fff":"var(--muted)"},children:E("dashboard_mode_employer","","Employer")})]})]})}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:16,alignItems:"flex-start"},children:[d==="employee"&&l.jsx("div",{style:{flex:2,minWidth:260},children:l.jsx(_2,{tf:E,apps:z,loading:v})}),d==="employer"&&l.jsx("div",{style:{flex:2,minWidth:260},children:l.jsx(x2,{tf:E,jobs:O,loading:j})})]})]})}function _2({tf:t,apps:e,loading:n}){return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("h3",{style:{margin:0},children:t("dashboard_myApps_title","","My applications")}),l.jsx(ue,{to:"/jobs",className:"btn-ghost",style:{fontSize:12},children:t("dashboard_myApps_findMore","","Find more jobs")})]}),n?l.jsx("p",{style:{fontSize:14},children:t("dashboard_myApps_loading","","Loading your applications")}):e.length===0?l.jsx("p",{style:{fontSize:14,color:"var(--muted)"},children:t("dashboard_myApps_empty","","You haven't applied to any jobs yet.")}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:e.map(i=>l.jsx(b2,{app:i,tf:t},i.id))})]})}function x2({tf:t,jobs:e,loading:n}){return l.jsxs("div",{className:"card",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[l.jsx("h3",{style:{margin:0},children:t("dashboard_myJobs_title","","Jobs I posted")}),l.jsx(ue,{to:"/employer",className:"btn-ghost",style:{fontSize:12},children:t("dashboard_myJobs_manage","","Manage jobs")})]}),n?l.jsx("p",{style:{fontSize:14},children:t("dashboard_myJobs_loading","","Loading jobs you posted")}):e.length===0?l.jsx("p",{style:{fontSize:14,color:"var(--muted)"},children:t("dashboard_myJobs_empty","","You haven't posted any jobs yet.")}):l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:e.map(i=>l.jsx(w2,{job:i,tf:t},i.id))})]})}function b2({app:t,tf:e}){const n=t.companyName||e("jobs_fallback_company","","Company name"),i=t.location||e("jobs_fallback_location","","Location"),{label:o,color:c,bg:d}=S2(t.status,e),f=t.createdAt?new Date(t.createdAt).toLocaleDateString():"",p=C2(t);return l.jsxs("div",{className:"card",style:{padding:12,borderRadius:14},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"center"},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsx(ue,{to:`/jobs/${t.jobId}`,style:{textDecoration:"none",color:"var(--primary)",fontWeight:600},children:l.jsx("div",{style:{fontSize:15,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.jobTitle||e("jobs_fallback_title","","Job")})}),l.jsxs("div",{style:{fontSize:13,color:"var(--muted)"},children:[n,"  ",i]})]}),l.jsx("span",{style:{padding:"2px 8px",borderRadius:999,fontSize:11,background:d,color:c,whiteSpace:"nowrap"},children:o})]}),p&&l.jsx("div",{style:{marginTop:4,fontSize:13,color:"var(--primary)",fontWeight:600},children:p}),l.jsxs("div",{style:{marginTop:4,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:12,color:"var(--muted)"},children:[l.jsx("span",{children:f&&e("application_applied_at",` ${f}`,`Applied on ${f}`)}),l.jsx(ue,{to:`/jobs/${t.jobId}`,style:{textDecoration:"none",color:"var(--primary)"},children:e("application_view_job","","View job details")})]})]})}function w2({job:t,tf:e}){const n=t.companyName||e("jobs_fallback_company","","Company name"),i=t.location||e("jobs_fallback_location","","Location"),o=t.createdAt?new Date(t.createdAt).toLocaleDateString():"",c=E2(t),d=t.status==="closed",f=d?e("job_status_closed","","Closed"):e("job_status_open","","Open"),p=d?"#b91c1c":"#15803d",g=d?"rgba(248,113,113,0.18)":"rgba(34,197,94,0.15)";return l.jsxs("div",{className:"card",style:{padding:12,borderRadius:14},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:12,alignItems:"center"},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsx(ue,{to:`/jobs/${t.id}`,style:{textDecoration:"none",color:"var(--primary)",fontWeight:600},children:l.jsx("div",{style:{fontSize:15,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:t.title||e("jobs_fallback_title","","Job")})}),l.jsxs("div",{style:{fontSize:13,color:"var(--muted)"},children:[n,"  ",i]})]}),l.jsx("span",{style:{padding:"2px 8px",borderRadius:999,fontSize:11,background:g,color:p,whiteSpace:"nowrap"},children:f})]}),c&&l.jsx("div",{style:{marginTop:4,fontSize:13,color:"var(--primary)",fontWeight:600},children:c}),l.jsxs("div",{style:{marginTop:4,display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:12,color:"var(--muted)"},children:[l.jsx("span",{children:o&&e("job_posted_at",` ${o}`,`Posted on ${o}`)}),l.jsx(ue,{to:`/jobs/${t.id}/applicants`,style:{textDecoration:"none",color:"var(--primary)"},children:e("job_view_applicants","","View applicants")})]})]})}function S2(t,e){switch(t){case"viewed":return{label:e("application_status_viewed","","Viewed"),color:"#0f766e",bg:"rgba(45,212,191,0.15)"};case"shortlisted":return{label:e("application_status_shortlisted","","Shortlisted"),color:"#15803d",bg:"rgba(34,197,94,0.12)"};case"rejected":return{label:e("application_status_rejected","","Rejected"),color:"#b91c1c",bg:"rgba(239,68,68,0.12)"};case"hired":return{label:e("application_status_hired","","Hired"),color:"#1d4ed8",bg:"rgba(37,99,235,0.12)"};default:return{label:e("application_status_applied","","Applied"),color:"#6b7280",bg:"rgba(148,163,184,0.18)"}}}function C2(t){const{salaryMin:e,salaryMax:n,employmentType:i}=t;if(!e&&!n)return"";const o=i==="parttime"?"/ ":"/ ";return e&&n?`RM ${e} - ${n} ${o}`:`RM ${e||n} ${o}`}function E2(t){const{salaryMin:e,salaryMax:n,employmentType:i}=t;if(!e&&!n)return"";const o=i==="parttime"?"/ ":"/ ";return e&&n?`RM ${e} - ${n} ${o}`:`RM ${e||n} ${o}`}function j2(){const{user:t}=xt(),{t:e,lang:n}=et(),[i,o]=C.useState([]),[c,d]=C.useState(!0),f=(y,x,b)=>{const j=e(y);return j&&j!==y?j:n==="zh"?x:b};C.useEffect(()=>{if(!t)return;const y=Ee(je,"jobs"),x=_t(y,b=>{if(!b.exists()){o([]),d(!1);return}const j=Object.entries(b.val()).map(([T,E])=>({id:T,...E})).filter(T=>T.ownerId===t.uid);j.sort((T,E)=>(E.createdAt||0)-(T.createdAt||0)),o(j),d(!1)},()=>{o([]),d(!1)});return()=>x()},[t]);async function p(y){await bo(Ee(je,"jobs/"+y),{status:"closed"})}async function g(y){await bo(Ee(je,"jobs/"+y),{status:"open"})}async function v(y){window.confirm(f("employer_delete_confirm","","Are you sure you want to delete this job?"))&&await y0(Ee(je,"jobs/"+y))}return t?l.jsxs("div",{style:{maxWidth:1100,margin:"0 auto"},children:[l.jsxs("div",{className:"card",style:{padding:"20px 24px",borderRadius:24,marginBottom:18,display:"flex",alignItems:"center",justifyContent:"space-between",gap:12},children:[l.jsxs("div",{children:[l.jsx("h1",{style:{margin:0,fontSize:26},children:f("employer_dashboard_title","","Employer dashboard")}),l.jsx("p",{style:{margin:"6px 0 0",fontSize:14,color:"var(--muted)"},children:f("employer_dashboard_sub","","Here you can manage all the jobs you posted.")})]}),l.jsxs("div",{style:{display:"flex",gap:10,flexShrink:0},children:[l.jsx(ue,{to:"/employer/plan",className:"btn-ghost",style:{padding:"8px 20px",borderRadius:999,fontSize:14,whiteSpace:"nowrap"},children:f("employer_plan_btn"," / ","My plan / Upgrade")}),l.jsx(ue,{to:"/employer/post",className:"btn",style:{padding:"10px 26px",borderRadius:999,boxShadow:"0 18px 40px rgba(249,115,22,0.45)",whiteSpace:"nowrap",fontWeight:600},children:f("employer_new_job","+ ","+ Post a new job")})]})]}),l.jsxs("div",{className:"card",style:{padding:24,borderRadius:24},children:[l.jsx("h2",{style:{marginTop:0,marginBottom:10,fontSize:18},children:f("employer_my_jobs","","Jobs I posted")}),c&&l.jsx("p",{style:{color:"var(--muted)",marginTop:10},children:f("employer_loading","","Loading")}),!c&&i.length===0&&l.jsx("p",{style:{color:"var(--muted)",marginTop:10},children:f("employer_no_jobs","","You haven't posted any jobs yet.")}),!c&&i.map(y=>{const x=y.status==="closed",b=Array.isArray(y.images)&&y.images[0]||y.imageUrl||"https://via.placeholder.com/120x90",j=y.salaryMin&&y.salaryMax?`RM ${y.salaryMin} - ${y.salaryMax}`:y.salaryMin||y.salaryMax?`RM ${y.salaryMin||y.salaryMax}`:"",T=y.employmentType==="parttime"?f("employer_salary_hour","/ ","/ hour"):f("employer_salary_month","/ ","/ month");return l.jsxs("div",{style:{marginTop:14,padding:16,borderRadius:18,border:"1px solid rgba(30,64,175,0.25)",background:"radial-gradient(circle at 0 0,rgba(15,23,42,0.96),rgba(15,23,42,0.92))",display:"grid",gridTemplateColumns:"auto 1fr auto",gap:16,alignItems:"center"},children:[l.jsx("div",{style:{width:120,height:90,borderRadius:14,overflow:"hidden",flexShrink:0},children:l.jsx("img",{src:b,alt:y.title,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:6},children:l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:18,fontWeight:600},children:y.title}),l.jsxs("p",{style:{margin:"4px 0",color:"var(--muted)",fontSize:13},children:[y.companyName,"  ",y.location]})]})}),j&&l.jsxs("p",{style:{margin:0,fontWeight:600,color:"var(--primary)",fontSize:14},children:[j," ",T]}),l.jsxs("div",{style:{marginTop:10,display:"flex",flexWrap:"wrap",gap:8},children:[l.jsx(ue,{to:`/jobs/${y.id}`,className:"btn-pill btn-pill-grey",children:f("employer_btn_view","","View")}),l.jsx(ue,{to:`/employer/jobs/${y.id}/edit`,className:"btn-pill btn-pill-grey",children:f("employer_btn_edit","","Edit")}),l.jsx(ue,{to:`/employer/jobs/${y.id}/applicants`,className:"btn-pill btn-pill-blue",children:f("employer_btn_applicants","","Applicants")}),x?l.jsx("button",{type:"button",onClick:()=>g(y.id),className:"btn-pill btn-pill-green",children:f("employer_btn_open","","Open job")}):l.jsx("button",{type:"button",onClick:()=>p(y.id),className:"btn-pill btn-pill-green",children:f("employer_btn_close","","Close job")}),l.jsx("button",{type:"button",onClick:()=>v(y.id),className:"btn-pill btn-pill-red",children:f("employer_btn_delete","","Delete")})]})]}),l.jsx("div",{style:{alignSelf:"flex-start"},children:l.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:999,fontSize:12,background:x?"rgba(148,163,184,0.2)":"rgba(16,185,129,0.18)",color:x?"#e5e7eb":"#4ade80",fontWeight:500},children:x?f("employer_job_closed","","Closed"):f("employer_job_open","","Open")})})]},y.id)})]})]}):l.jsx("div",{className:"card",style:{padding:20},children:f("employer_need_login","","Please sign in to manage your jobs.")})}function Ry(){const{jobId:t,id:e}=kl(),n=t||e,{user:i,loading:o}=xt(),{role:c,loaded:d}=ef(),[f,p]=C.useState(null),[g,v]=C.useState([]),[y,x]=C.useState(!0),[b,j]=C.useState(!0),[T,E]=C.useState(null),[N,z]=C.useState(!1),[O,$]=C.useState({open:!1,app:null,score:5,late:!1,saving:!1});function D(){z(!0);const Q=["React","Firebase","Node.js","","API","","2"];setTimeout(()=>{v(ae=>{const ge=ae.map(V=>{const me=typeof V.matchScore=="number"?V.matchScore:Math.floor(Math.random()*35)+60,_e=[...Q].sort(()=>.5-Math.random());return{...V,matchScore:me,matchReasons:_e.slice(0,3),topMatch:!1}});return ge.sort((V,me)=>typeof V.matchScore=="number"&&typeof me.matchScore=="number"?me.matchScore-V.matchScore:(me.createdAt||0)-(V.createdAt||0)),ge.length>0&&(ge[0].topMatch=!0),ge}),z(!1)},1200)}C.useEffect(()=>{if(!n){x(!1);return}const Q=Ee(je,"jobs/"+n),ae=_t(Q,ge=>{ge.exists()&&p(ge.val()),x(!1)});return()=>ae()},[n]),C.useEffect(()=>{if(!n){v([]),j(!1);return}const Q=Ee(je,"applications/"+n),ae=_t(Q,ge=>{if(!ge.exists()){v([]),j(!1);return}const V=[];ge.forEach(me=>V.push({id:me.key,...me.val()})),V.sort((me,_e)=>(_e.createdAt||0)-(me.createdAt||0)),v(V),j(!1)});return()=>ae()},[n]);const Y=Q=>{switch(Q){case"shortlisted":return" ";case"rejected":return" ";case"hired":return" ";default:return" "}},G=Q=>{switch(Q){case"shortlisted":return"pill success";case"rejected":return"pill danger";case"hired":return"pill success";default:return"pill info"}};async function K(Q,ae){!n||!Q||(E(Q),await bo(Ee(je,`applications/${n}/${Q}`),{status:ae}),v(ge=>ge.map(V=>V.id===Q?{...V,status:ae}:V)),E(null))}if(o||!d||y)return l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:"Loading..."})})});if(!i||c!=="employer")return l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("h2",{children:""})})});const X=g.length;return g.filter(Q=>Q.status==="hired").length,g.filter(Q=>Q.status==="shortlisted").length,g.filter(Q=>Q.status==="rejected").length,l.jsxs("div",{className:"container",children:[l.jsx("div",{className:"card",style:{marginBottom:16},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsx("div",{children:l.jsx("h2",{children:f==null?void 0:f.title})}),X>0&&l.jsx("button",{onClick:D,disabled:N,className:"btn",children:N?"AI ":"Analyze Candidates "})]})}),l.jsx("div",{className:"card",children:g.map(Q=>{const ae=Q.createdAt?new Date(Q.createdAt).toLocaleString("zh-CN"):"",ge=Q.phone?`https://wa.me/6${Q.phone.replace(/\D/g,"")}`:null;return l.jsx("div",{style:{borderTop:"1px solid var(--border-soft)",padding:"12px 0",background:Q.topMatch?"rgba(34,197,94,0.05)":"transparent"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[l.jsxs("div",{children:[l.jsx("h3",{children:Q.name}),l.jsx("span",{className:G(Q.status),children:Y(Q.status)}),Q.topMatch&&l.jsx("span",{className:"pill success",children:" Top Match"}),Q.matchScore&&l.jsxs("span",{className:"pill",children:[" ",Q.matchScore,"% "]}),l.jsxs("p",{children:["",Q.phone]}),l.jsxs("p",{children:["",ae]}),Q.matchReasons&&l.jsxs("p",{children:["",Q.matchReasons.join("  ")]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[ge&&l.jsx("a",{href:ge,target:"_blank",rel:"noreferrer",className:"btn",children:"WhatsApp "}),l.jsx("button",{onClick:()=>K(Q.id,"shortlisted"),className:"btn-ghost",children:""}),l.jsx("button",{onClick:()=>K(Q.id,"hired"),className:"btn-ghost",children:""}),l.jsx("button",{onClick:()=>K(Q.id,"rejected"),className:"btn-ghost",children:""})]})]})},Q.id)})})]})}function k2(){const{user:t,loading:e}=xt(),{lang:n,t:i}=et(),[o,c]=C.useState([]),[d,f]=C.useState({}),[p,g]=C.useState(!0),[v,y]=C.useState(!0),x=(T,E,N)=>{const z=i(T);return z&&z!==T?z:n==="zh"?E:N};if(C.useEffect(()=>{if(!t)return;const T=Ee(je,"applications"),E=_t(T,N=>{if(!N.exists()){c([]),g(!1);return}const z=[];N.forEach(O=>{const $=O.key;O.forEach(D=>{const Y=D.val();Y&&Y.userId===t.uid&&z.push({id:D.key,jobId:$,...Y})})}),z.sort((O,$)=>($.createdAt||0)-(O.createdAt||0)),c(z),g(!1)},()=>{c([]),g(!1)});return()=>E()},[t]),C.useEffect(()=>{const T=Ee(je,"jobs"),E=_t(T,N=>{if(!N.exists()){f({}),y(!1);return}const z={};N.forEach(O=>{z[O.key]=O.val()}),f(z),y(!1)},()=>{f({}),y(!1)});return()=>E()},[]),e)return l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:"Loading..."})})});if(!t)return l.jsx(sn,{to:"/login",replace:!0});const b=T=>{switch(T){case"shortlisted":return x("myapps_status_shortlisted","","Shortlisted");case"rejected":return x("myapps_status_rejected","","Not selected");case"hired":return x("myapps_status_hired","","Hired");default:return x("myapps_status_applied","","Applied")}},j=T=>{switch(T){case"shortlisted":return"pill success";case"rejected":return"pill danger";case"hired":return"pill success";default:return"pill info"}};return l.jsxs("div",{className:"container",children:[l.jsxs("div",{className:"card",style:{marginBottom:16},children:[l.jsx("h2",{children:x("myapps_title","","My applications")}),l.jsx("p",{className:"muted",style:{marginTop:4},children:x("myapps_subtitle","","Here you can see all jobs you have applied for and their status.")})]}),l.jsxs("div",{className:"card",children:[(p||v)&&l.jsx("p",{children:"Loading..."}),!p&&!v&&o.length===0&&l.jsxs("p",{className:"muted",children:[x("myapps_empty","","You haven't applied to any jobs yet. Go explore the latest jobs!")," ",l.jsx(ue,{to:"/jobs",children:x("myapps_goJobs","","Browse jobs")})]}),!p&&!v&&o.length>0&&o.map(T=>{const E=d[T.jobId]||{},N=T.createdAt?new Date(T.createdAt).toLocaleString():"",z=E.title||T.jobTitle||x("myapps_jobtitle","","Job"),O=E.companyName||x("myapps_company","","Company"),$=E.location||"";return l.jsxs("div",{className:"card",style:{background:"var(--card)",border:"1px solid var(--border)",marginBottom:12,padding:14},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:8},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{margin:0,marginBottom:4},children:z}),l.jsxs("p",{style:{margin:0,fontSize:14,color:"var(--muted)"},children:[O,$?"  "+$:""]}),N&&l.jsxs("p",{style:{marginTop:6,fontSize:12,color:"var(--muted)"},children:[x("myapps_appliedAt","","Applied at: "),N]})]}),l.jsxs("div",{className:j(T.status),children:[l.jsx("span",{className:"dot"}),l.jsx("span",{style:{fontSize:12},children:b(T.status)})]})]}),T.message&&l.jsx("p",{style:{marginTop:8,fontSize:14,whiteSpace:"pre-wrap"},children:T.message}),T.link&&l.jsxs("p",{style:{marginTop:4,fontSize:13},children:[x("myapps_link"," / ","Portfolio / link: "),l.jsx("a",{href:T.link,target:"_blank",rel:"noreferrer",style:{wordBreak:"break-all"},children:T.link})]}),l.jsx("div",{style:{marginTop:10,display:"flex",justifyContent:"space-between",alignItems:"center",gap:8,flexWrap:"wrap"},children:l.jsx(ue,{to:`/jobs/${T.jobId}`,className:"btn",style:{padding:"8px 14px",fontSize:14,textDecoration:"none"},children:x("myapps_viewJob","","View job details")})})]},T.jobId+"_"+T.id)})]})]})}const ns=[{id:"fnb",name:{zh:"",en:"F&B"},icon:"",color:"#f97316",roles:[{id:"waiter",zh:"",en:"Waiter/Waitress",salary:{min:10,max:15}},{id:"kitchen",zh:"",en:"Kitchen Helper",salary:{min:10,max:14}},{id:"dishwasher",zh:"",en:"Dishwasher",salary:{min:10,max:13}},{id:"barista",zh:"",en:"Barista",salary:{min:12,max:18}},{id:"stall",zh:"",en:"Stall Assistant",salary:{min:10,max:14}}]},{id:"retail",name:{zh:"/",en:"Retail"},icon:"",color:"#3b82f6",roles:[{id:"cashier",zh:"",en:"Cashier",salary:{min:10,max:15}},{id:"stocker",zh:"",en:"Store Assistant",salary:{min:10,max:14}},{id:"promoter",zh:"",en:"Promoter",salary:{min:12,max:20}},{id:"sales",zh:"",en:"Sales Associate",salary:{min:12,max:18}}]},{id:"logistics",name:{zh:"/",en:"Logistics"},icon:"",color:"#10b981",roles:[{id:"rider",zh:"",en:"Food Rider",salary:{min:12,max:20}},{id:"driver",zh:"",en:"Lorry Driver",salary:{min:15,max:25}},{id:"packer",zh:"",en:"Packer",salary:{min:10,max:14}},{id:"delivery",zh:"",en:"Delivery",salary:{min:12,max:18}}]},{id:"services",name:{zh:"/",en:"General Services"},icon:"",color:"#8b5cf6",roles:[{id:"cleaner",zh:"",en:"Cleaner",salary:{min:10,max:14}},{id:"receptionist",zh:"/",en:"Receptionist",salary:{min:12,max:16}},{id:"event",zh:"",en:"Event Crew",salary:{min:15,max:25}},{id:"security",zh:"",en:"Security",salary:{min:12,max:18}}]},{id:"factory",name:{zh:"/",en:"Factory/Tech"},icon:"",color:"#ef4444",roles:[{id:"operator",zh:"",en:"Operator",salary:{min:12,max:18}},{id:"apprentice",zh:"",en:"Apprentice",salary:{min:10,max:15}},{id:"mechanic",zh:"",en:"Mechanic",salary:{min:15,max:30}}]},{id:"customer",name:{zh:"",en:"Customer Service"},icon:"",color:"#ec4899",roles:[{id:"callcenter",zh:"",en:"Call Center",salary:{min:12,max:18}},{id:"support",zh:"",en:"Support Staff",salary:{min:12,max:16}}]}];function I2(t){return ns.find(e=>e.id===t)}function b0(t,e){const n=I2(t);return n?n.roles.find(i=>i.id===e):null}function T2(t,e,n="zh"){const i=b0(t,e);return i?i[n]:""}function R2(t,e){const n=b0(t,e);return!n||!n.salary?null:`RM ${n.salary.min} - ${n.salary.max}`}function P2(t,e,n="zh"){const i=T2(t,e,n);return i?`${n==="zh"?"":"Hiring"} ${i}`:""}function N2({onSelect:t,selectedCategory:e,selectedRole:n,onTitleGenerate:i,onSalaryHint:o}){const{lang:c}=et(),[d,f]=C.useState(e||null),p=v=>{f(d===v?null:v)},g=(v,y)=>{if(t&&t(v,y.id),i){const x=P2(v,y.id,c);i(x)}if(o){const x=R2(v,y.id);o(x)}};return l.jsxs("div",{style:{marginBottom:24},children:[l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:c==="zh"?"":"Select Job Category"}),l.jsx("p",{style:{fontSize:13,color:"var(--muted)"},children:c==="zh"?"":"Click icon to quickly select job type"})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:12,marginBottom:d?16:0},children:ns.map(v=>l.jsxs("button",{type:"button",onClick:()=>p(v.id),style:{padding:16,borderRadius:12,border:d===v.id?`2px solid ${v.color}`:"2px solid var(--border)",background:d===v.id?`${v.color}15`:"var(--card)",cursor:"pointer",textAlign:"center",transition:"all 0.2s ease"},children:[l.jsx("div",{style:{fontSize:36,marginBottom:8},children:v.icon}),l.jsx("div",{style:{fontSize:14,fontWeight:600,color:d===v.id?v.color:"var(--text)"},children:v.name[c]})]},v.id))}),d&&l.jsxs("div",{style:{padding:16,background:"var(--card)",borderRadius:12,border:"1px solid var(--border)",animation:"slideDown 0.3s ease-out"},children:[l.jsx("div",{style:{fontSize:13,color:"var(--muted)",marginBottom:12,fontWeight:500},children:c==="zh"?"":"Select specific role:"}),l.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:A2(d).map(v=>l.jsx("button",{type:"button",onClick:()=>g(d,v),style:{padding:"10px 16px",borderRadius:20,border:n===v.id?`2px solid ${Ai(d)}`:"1px solid var(--border)",background:n===v.id?`${Ai(d)}20`:"var(--bg)",color:n===v.id?Ai(d):"var(--text)",fontSize:14,fontWeight:n===v.id?600:400,cursor:"pointer",transition:"all 0.15s ease",whiteSpace:"nowrap"},onMouseEnter:y=>{n!==v.id&&(y.currentTarget.style.background="var(--card)",y.currentTarget.style.borderColor=Ai(d))},onMouseLeave:y=>{n!==v.id&&(y.currentTarget.style.background="var(--bg)",y.currentTarget.style.borderColor="var(--border)")},children:v[c]},v.id))})]}),e&&n&&l.jsxs("div",{style:{marginTop:16,padding:12,background:`${Ai(e)}10`,border:`1px solid ${Ai(e)}40`,borderRadius:8,fontSize:13,color:"var(--text)"},children:[l.jsx("span",{style:{fontWeight:600},children:c==="zh"?"":"Selected: "}),l.jsxs("span",{children:[O2(e,c)," - ",L2(e,n,c)]})]})]})}function A2(t){const e=ns.find(n=>n.id===t);return e?e.roles:[]}function Ai(t){const e=ns.find(n=>n.id===t);return e?e.color:"#9ca3af"}function O2(t,e){const n=ns.find(i=>i.id===t);return n?n.name[e]:""}function L2(t,e,n){const i=ns.find(c=>c.id===t);if(!i)return"";const o=i.roles.find(c=>c.id===e);return o?o[n]:""}const Fd=document.createElement("style");Fd.textContent=`
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
`;document.querySelector("#jobCategorySelectorStyles")||(Fd.id="jobCategorySelectorStyles",document.head.appendChild(Fd));function D2(){const t=Lt.currentUser,{t:e,lang:n}=et(),i=(L,U)=>n==="zh"?L:U,[o,c]=C.useState(1),d=3,[f,p]=C.useState(null),[g,v]=C.useState(null),[y,x]=C.useState(""),[b,j]=C.useState({title:"",companyName:"",location:"",mapLocation:"",employmentType:"parttime",salaryMin:"",salaryMax:"",description:"",skillsText:"",imageUrlsText:"",category:"",role:""}),[T,E]=C.useState(null),[N,z]=C.useState(!1),[O,$]=C.useState([]),[D,Y]=C.useState(!1);function G(L){const{name:U,value:B}=L.target;j(k=>({...k,[U]:B}))}function K(L,U){p(L),v(U),j(B=>({...B,category:L,role:U}))}function X(L){b.title.trim()||j(U=>({...U,title:L}))}function Q(L){if(x(L),L&&!b.salaryMin&&!b.salaryMax){const U=L.match(/RM\s*(\d+)\s*-\s*(\d+)/);U&&j(B=>({...B,salaryMin:U[1],salaryMax:U[2]}))}}function ae(L){const U=Array.from(L.target.files||[]);if(U.length===0)return;if(U.length>5){alert(i(" 5 ","Maximum 5 images allowed"));return}const B=[];for(const k of U){if(!k.type.startsWith("image/")){alert(i(`${k.name} `,`${k.name} is not an image`));continue}if(k.size>5*1024*1024){alert(i(`${k.name}  5MB `,`${k.name} exceeds 5MB limit`));continue}B.push(k)}$(B),j(k=>({...k,imageUrlsText:""}))}async function ge(){if(O.length===0)return[];Y(!0);const L=[];try{for(const U of O){const B=await x0(U,t.uid);L.push(B)}return L}catch(U){return alert(U.message||i("","Image upload failed")),[]}finally{Y(!1)}}const V=C.useMemo(()=>O.length>0?O.map(L=>URL.createObjectURL(L)):b.imageUrlsText?b.imageUrlsText.split(/[\n,]/).map(L=>L.trim()).filter(Boolean):[],[b.imageUrlsText,O]);async function me(L){if(L.preventDefault(),E(null),o<d){c(U=>Math.min(d,U+1));return}if(!Lt.currentUser){E({type:"error",message:e("post.notLoggedIn")});return}if(!b.title.trim()||!b.companyName.trim()){E({type:"error",message:e("post.validation.titleCompany")});return}z(!0);try{const U=b.skillsText.split(",").map(pe=>pe.trim()).filter(Boolean);let B=[];if(O.length>0){if(B=await ge(),B.length===0&&O.length>0){z(!1);return}}else B=(b.imageUrlsText||"").split(/[\n,]/).map(pe=>pe.trim()).filter(Boolean);const k=B[0]||null,M={title:b.title.trim(),companyName:b.companyName.trim(),location:b.location.trim(),mapLocation:b.mapLocation.trim(),employmentType:b.employmentType,salaryMin:b.salaryMin?Number(b.salaryMin):null,salaryMax:b.salaryMax?Number(b.salaryMax):null,description:b.description.trim(),skills:U,images:B,imageUrl:k,category:b.category||null,role:b.role||null,ownerId:Lt.currentUser.uid,isActive:!0,createdAt:Date.now()};await Qh(Ee(je,"jobs"),M),E({type:"success",message:e("post.success")}),j({title:"",companyName:"",location:"",mapLocation:"",employmentType:"parttime",salaryMin:"",salaryMax:"",description:"",skillsText:"",imageUrlsText:"",category:"",role:""}),$([]),p(null),v(null),x(""),c(1),setTimeout(()=>{E(null)},3e3)}catch(U){console.error(U),E({type:"error",message:e("post.error")})}finally{z(!1)}}const _e=b.title.trim().length>0&&b.companyName.trim().length>0;function Pe(){if(o===1&&!_e){E({type:"error",message:e("post.validation.titleCompany")});return}E(null),c(L=>Math.min(d,L+1))}function oe(){E(null),c(L=>Math.max(1,L-1))}return l.jsxs("div",{className:"card form-card",children:[l.jsx("h2",{style:{marginTop:0,marginBottom:8},children:e("post.title")}),l.jsx("p",{style:{marginTop:0,marginBottom:20,color:"var(--muted)"},children:e("post.subtitle")}),!t&&l.jsx("div",{style:{marginBottom:16,padding:12,borderRadius:12,background:"var(--primary-light)",color:"var(--primary-on-light)",fontSize:14},children:e("post.notLoggedIn")}),l.jsx("div",{style:{display:"flex",gap:16,marginBottom:20,flexWrap:"wrap"},children:[1,2,3].map(L=>{const U=o===L,B=o>L,k=L===1?i("","Basic info"):L===2?i("","Job details"):i("","Description & photos");return l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,fontWeight:U?600:500,color:B||U?"var(--primary)":"var(--muted)"},children:[l.jsx("div",{style:{width:26,height:26,borderRadius:"999px",border:"2px solid var(--primary)",background:B||U?"var(--primary)":"transparent",color:B||U?"#fff":"var(--primary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:13},children:L}),l.jsx("span",{children:k})]},L)})}),T&&l.jsx("div",{style:{marginBottom:16,padding:10,borderRadius:10,fontSize:14,background:T.type==="error"?"rgba(239,68,68,0.08)":"rgba(16,185,129,0.08)",color:T.type==="error"?"#b91c1c":"#047857"},children:T.message}),l.jsx("form",{onSubmit:me,children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"minmax(0, 1.75fr) minmax(0, 1.25fr)",gap:24},children:[l.jsxs("div",{children:[o===1&&l.jsxs(l.Fragment,{children:[l.jsx(N2,{selectedCategory:f,selectedRole:g,onSelect:K,onTitleGenerate:X,onSalaryHint:Q}),l.jsxs("div",{className:"form-grid-2",children:[l.jsxs("div",{className:"form-field",children:[l.jsxs("label",{children:[e("post.field.title"),y&&l.jsx("span",{style:{marginLeft:8,fontSize:12,color:"var(--primary)",fontWeight:400},children:n==="zh"?"":"(Auto-filled)"})]}),l.jsx("input",{name:"title",value:b.title,onChange:G,placeholder:e("post.field.title.placeholder")})]}),l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:e("post.field.company")}),l.jsx("input",{name:"companyName",value:b.companyName,onChange:G,placeholder:e("post.field.company.placeholder")})]})]}),l.jsxs("div",{className:"form-grid-2",style:{marginTop:18},children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:e("post.field.location")}),l.jsx("input",{name:"location",value:b.location,onChange:G,placeholder:e("post.field.location.placeholder")})]}),l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:e("post.field.mapLocation")}),l.jsx("input",{name:"mapLocation",value:b.mapLocation,onChange:G,placeholder:e("post.field.mapLocation.placeholder")}),l.jsx("span",{style:{fontSize:12,color:"var(--muted)",marginTop:4},children:i(" Google Maps ","You can paste a Google Maps share link here.")})]})]})]}),o===2&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-grid-2",children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:e("post.field.type")}),l.jsxs("select",{name:"employmentType",value:b.employmentType,onChange:G,children:[l.jsx("option",{value:"parttime",children:e("post.field.type.parttime")}),l.jsx("option",{value:"fulltime",children:e("post.field.type.fulltime")}),l.jsx("option",{value:"intern",children:e("post.field.type.intern")})]})]}),l.jsxs("div",{className:"form-field",children:[l.jsxs("label",{children:[e("post.field.salaryMin"),y&&l.jsxs("span",{style:{marginLeft:8,fontSize:12,color:"var(--primary)",fontWeight:400},children:[i("","Suggested: "),y]})]}),l.jsx("input",{type:"number",name:"salaryMin",value:b.salaryMin,onChange:G,placeholder:"8",min:"0"})]})]}),l.jsxs("div",{className:"form-grid-2",style:{marginTop:18},children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:e("post.field.salaryMax")}),l.jsx("input",{type:"number",name:"salaryMax",value:b.salaryMax,onChange:G,placeholder:"15",min:"0"})]}),l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:e("post.field.skills")}),l.jsx("input",{name:"skillsText",value:b.skillsText,onChange:G,placeholder:e("post.field.skills.placeholder")}),l.jsx("span",{style:{fontSize:12,color:"var(--muted)",marginTop:4},children:i(": , , ","Separate by comma, e.g. cashier, latte art, basic English")})]})]})]}),o===3&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:e("post.field.description")}),l.jsx("textarea",{name:"description",value:b.description,onChange:G,placeholder:e("post.field.description.placeholder")})]}),l.jsxs("div",{className:"form-field",style:{marginTop:18},children:[l.jsx("label",{children:i("","Environment photos (multiple)")}),l.jsxs("div",{style:{marginBottom:12},children:[l.jsxs("label",{htmlFor:"job-image-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",border:"2px dashed var(--border)",borderRadius:"12px",background:"rgba(249,115,22,0.05)",cursor:D||N?"not-allowed":"pointer",transition:"all 0.2s",position:"relative"},onMouseEnter:L=>{!D&&!N&&(L.currentTarget.style.borderColor="var(--primary)",L.currentTarget.style.background="rgba(249,115,22,0.1)")},onMouseLeave:L=>{L.currentTarget.style.borderColor="var(--border)",L.currentTarget.style.background="rgba(249,115,22,0.05)"},children:[l.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),l.jsx("div",{style:{fontSize:14,fontWeight:500,marginBottom:4},children:i("","Click to select image files")}),l.jsx("div",{style:{fontSize:12,color:"var(--muted)"},children:i(" JPGPNGWebP 5  5MB","JPG, PNG, WebP, max 5 images, 5MB each")})]}),l.jsx("input",{id:"job-image-upload",type:"file",accept:"image/*",multiple:!0,onChange:ae,disabled:D||N,style:{display:"none"}}),O.length>0&&l.jsxs("div",{style:{marginTop:10},children:[l.jsx("p",{style:{fontSize:12,color:"var(--muted)",marginBottom:6},children:i(` ${O.length} `,`Selected ${O.length} image(s):`)}),O.map((L,U)=>l.jsxs("div",{style:{padding:"6px 10px",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:6,fontSize:12,marginBottom:4,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("span",{children:[U+1,". ",L.name," (",(L.size/1024).toFixed(1)," KB)"]}),l.jsx("button",{type:"button",onClick:()=>{$(B=>B.filter((k,M)=>M!==U))},style:{background:"none",border:"none",color:"var(--danger)",cursor:"pointer",padding:"0 4px",fontSize:14},children:""})]},U))]})]}),l.jsx("div",{style:{textAlign:"center",margin:"12px 0",color:"var(--muted)",fontSize:12},children:i("","or")}),l.jsx("textarea",{name:"imageUrlsText",value:b.imageUrlsText,onChange:G,placeholder:i(" ImgurCloudinary ","Paste image URLs, separated by new lines or commas. Use links from Imgur, Cloudinary, or your own website."),style:{minHeight:110},disabled:O.length>0}),l.jsx("span",{style:{fontSize:12,color:"var(--muted)",marginTop:4,display:"block"},children:i(" JPGPNGWebP 5MB","First image will be the main cover. Supports JPG, PNG, WebP, max 5MB each.")}),V.length>0&&l.jsxs("div",{style:{marginTop:12},children:[l.jsx("p",{style:{fontSize:12,marginBottom:6},children:i("","Preview:")}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:8},children:V.map((L,U)=>l.jsx("div",{style:{aspectRatio:"16/9",borderRadius:8,overflow:"hidden",border:"1px solid var(--border)"},children:l.jsx("img",{src:L,alt:`Preview ${U+1}`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:B=>{B.target.style.display="none"}})},U))})]})]})]}),l.jsxs("div",{style:{marginTop:28,display:"flex",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[l.jsx("div",{children:o>1&&l.jsx("button",{type:"button",onClick:oe,className:"btn-ghost",disabled:N||D,children:i("","Back")})}),l.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[o<d&&l.jsx("button",{type:"button",onClick:Pe,className:"btn",disabled:N||D,children:i("","Next")}),o===d&&l.jsx("button",{type:"submit",className:"btn",disabled:N||D,style:{minWidth:140},children:D?i("...","Uploading images..."):e(N?"post.submitting":"post.submit")})]})]})]}),l.jsxs("div",{style:{borderRadius:18,border:"1px solid var(--border)",padding:14,background:"rgba(15,23,42,0.02)"},children:[l.jsx("div",{style:{fontSize:12,color:"var(--muted)",marginBottom:8},children:i("","Preview")}),V.length>0&&l.jsx("div",{style:{borderRadius:14,overflow:"hidden",marginBottom:10,background:"#020617"},children:l.jsx("img",{src:V[0],alt:"Preview",style:{width:"100%",maxHeight:180,objectFit:"cover",display:"block"}})}),l.jsx("h3",{style:{margin:0,marginBottom:4,fontSize:18},children:b.title||i("","Job title")}),l.jsx("div",{style:{fontSize:14,color:"var(--muted)",marginBottom:6},children:(b.companyName||i("","Company"))+(b.location?"  "+b.location:"")}),b.salaryMin&&l.jsxs("div",{style:{fontSize:14,fontWeight:600,color:"var(--primary)",marginBottom:6},children:["RM ",b.salaryMin,b.salaryMax?" - RM "+b.salaryMax:""," ",b.employmentType==="fulltime"?i("/ ","/ month"):i("/ ","/ hour")]}),l.jsx("p",{style:{marginTop:4,fontSize:13,color:"var(--muted)",whiteSpace:"pre-wrap"},children:b.description?b.description.slice(0,160)+(b.description.length>160?"...":""):i("","Write a short description about the role, shift hours and expectations so applicants feel confident.")}),V.length>1&&l.jsxs("div",{style:{marginTop:8,display:"flex",gap:6,flexWrap:"wrap"},children:[V.slice(1,4).map((L,U)=>l.jsx("div",{style:{width:60,height:40,borderRadius:8,overflow:"hidden",background:"#020617"},children:l.jsx("img",{src:L,alt:`Preview ${U+2}`,style:{width:"100%",height:"100%",objectFit:"cover",display:"block"}})},U)),V.length>4&&l.jsxs("div",{style:{width:60,height:40,borderRadius:8,border:"1px dashed var(--border)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:11,color:"var(--muted)"},children:["+",V.length-4]})]})]})]})})]})}function M2(){const{jobId:t}=kl(),e=Ir(),{user:n,loading:i}=xt(),[o,c]=C.useState({title:"",companyName:"",location:"",mapLocation:"",employmentType:"parttime",salaryMin:"",salaryMax:"",description:"",skillsText:"",imageUrlsText:""}),[d,f]=C.useState(!0),[p,g]=C.useState(!1),[v,y]=C.useState(null),[x,b]=C.useState([]),[j,T]=C.useState(!1),[E,N]=C.useState([]);function z(G){const K=Array.from(G.target.files||[]);if(K.length===0)return;if(E.length+K.length>5){alert(` 5  ${E.length}  ${5-E.length} `);return}const Q=[];for(const ae of K){if(!ae.type.startsWith("image/")){alert(`${ae.name} `);continue}if(ae.size>5*1024*1024){alert(`${ae.name}  5MB `);continue}Q.push(ae)}b(Q),c(ae=>({...ae,imageUrlsText:""}))}async function O(){if(x.length===0)return[];T(!0);const G=[];try{for(const K of x){const X=await x0(K,n.uid);G.push(X)}return G}catch(K){return alert(K.message||""),[]}finally{T(!1)}}C.useMemo(()=>{const G=[...E];if(x.length>0){const K=x.map(X=>URL.createObjectURL(X));G.push(...K)}else if(o.imageUrlsText&&!E.length){const K=o.imageUrlsText.split(/[\n,]/).map(X=>X.trim()).filter(Boolean);G.push(...K)}return G},[E,x,o.imageUrlsText]);function $(G){N(K=>K.filter((X,Q)=>Q!==G))}C.useEffect(()=>{if(i)return;if(!n){y({type:"error",message:""}),f(!1);return}async function G(){try{const K=await Xh(Ee(je,"jobs/"+t));if(!K.exists()){y({type:"error",message:""}),f(!1);return}const X=K.val();if(X.ownerId!==n.uid){y({type:"error",message:""}),f(!1);return}const Q=Array.isArray(X.images)?X.images:X.imageUrl?[X.imageUrl]:[];N(Q),c({title:X.title||"",companyName:X.companyName||"",location:X.location||"",mapLocation:X.mapLocation||"",employmentType:X.employmentType||"parttime",salaryMin:typeof X.salaryMin=="number"?String(X.salaryMin):"",salaryMax:typeof X.salaryMax=="number"?String(X.salaryMax):"",description:X.description||"",skillsText:(X.skills||[]).join(", "),imageUrlsText:""}),f(!1)}catch(K){console.error(K),y({type:"error",message:""}),f(!1)}}G()},[i,n,t]);function D(G){const{name:K,value:X}=G.target;c(Q=>({...Q,[K]:X}))}async function Y(G){if(G.preventDefault(),y(null),!Lt.currentUser){y({type:"error",message:""});return}if(!o.title.trim()||!o.companyName.trim()){y({type:"error",message:""});return}g(!0);try{const K=o.skillsText.split(",").map(ge=>ge.trim()).filter(Boolean);let X=[...E];if(x.length>0){const ge=await O();ge.length>0&&X.push(...ge)}else o.imageUrlsText&&E.length===0&&(X=o.imageUrlsText.split(/[\n,]/).map(ge=>ge.trim()).filter(Boolean));const Q=X[0]||null,ae={title:o.title.trim(),companyName:o.companyName.trim(),location:o.location.trim(),mapLocation:o.mapLocation.trim(),employmentType:o.employmentType,salaryMin:o.salaryMin?Number(o.salaryMin):null,salaryMax:o.salaryMax?Number(o.salaryMax):null,description:o.description.trim(),skills:K,images:X,imageUrl:Q};await bo(Ee(je,"jobs/"+t),ae),y({type:"success",message:""}),setTimeout(()=>{e("/employer")},800)}catch(K){console.error(K),y({type:"error",message:""})}finally{g(!1)}}return l.jsxs("div",{className:"card form-card",children:[l.jsx("h2",{style:{marginTop:0,marginBottom:16},children:""}),d&&l.jsx("p",{children:""}),!d&&v&&v.type==="error"&&l.jsx("div",{style:{marginBottom:16,padding:12,borderRadius:12,fontSize:14,background:"rgba(239,68,68,0.1)",color:"#b91c1c"},children:v.message}),!d&&(!v||v.type!=="error")&&l.jsxs(l.Fragment,{children:[v&&v.type==="success"&&l.jsx("div",{style:{marginBottom:16,padding:12,borderRadius:12,fontSize:14,background:"rgba(16,185,129,0.1)",color:"#047857"},children:v.message}),l.jsxs("form",{onSubmit:Y,className:"jobs-form",children:[l.jsxs("div",{className:"form-grid-2",children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:""}),l.jsx("input",{name:"title",value:o.title,onChange:D,placeholder:"Software Engineer / "})]}),l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:""}),l.jsx("input",{name:"companyName",value:o.companyName,onChange:D,placeholder:"Webstation Computer Centre"})]})]}),l.jsxs("div",{className:"form-grid-2",style:{marginTop:18},children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:" / "}),l.jsx("input",{name:"location",value:o.location,onChange:D,placeholder:"Ipoh / Sunway"})]}),l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:""}),l.jsx("input",{name:"mapLocation",value:o.mapLocation,onChange:D,placeholder:"Webstation Computer Centre, Ipoh"})]})]}),l.jsxs("div",{className:"form-grid-2",style:{marginTop:18},children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:""}),l.jsxs("select",{name:"employmentType",value:o.employmentType,onChange:D,children:[l.jsx("option",{value:"parttime",children:" / Part-time"}),l.jsx("option",{value:"fulltime",children:" / Full-time"}),l.jsx("option",{value:"intern",children:" / Internship"})]})]}),l.jsxs("div",{className:"form-grid-2",children:[l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:" (RM)"}),l.jsx("input",{type:"number",name:"salaryMin",value:o.salaryMin,onChange:D,placeholder:"12",min:"0"})]}),l.jsxs("div",{className:"form-field",children:[l.jsx("label",{children:" (RM)"}),l.jsx("input",{type:"number",name:"salaryMax",value:o.salaryMax,onChange:D,placeholder:"20",min:"0"})]})]})]}),l.jsxs("div",{className:"form-field",style:{marginTop:24},children:[l.jsx("label",{children:""}),E.length>0&&l.jsxs("div",{style:{marginBottom:12},children:[l.jsxs("p",{style:{fontSize:12,color:"var(--muted)",marginBottom:6},children:[" (",E.length,")"]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:8},children:E.map((G,K)=>l.jsxs("div",{style:{position:"relative",aspectRatio:"16/9",borderRadius:8,overflow:"hidden",border:"1px solid var(--border)"},children:[l.jsx("img",{src:G,alt:`Existing ${K+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}}),l.jsx("button",{type:"button",onClick:()=>$(K),style:{position:"absolute",top:4,right:4,background:"rgba(0,0,0,0.7)",color:"white",border:"none",borderRadius:4,padding:"2px 6px",fontSize:12,cursor:"pointer"},children:""})]},K))})]}),l.jsxs("div",{style:{marginBottom:12},children:[l.jsxs("label",{htmlFor:"edit-job-image-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",border:"2px dashed var(--border)",borderRadius:"12px",background:"rgba(249,115,22,0.05)",cursor:j||p?"not-allowed":"pointer",transition:"all 0.2s"},onMouseEnter:G=>{!j&&!p&&(G.currentTarget.style.borderColor="var(--primary)",G.currentTarget.style.background="rgba(249,115,22,0.1)")},onMouseLeave:G=>{G.currentTarget.style.borderColor="var(--border)",G.currentTarget.style.background="rgba(249,115,22,0.05)"},children:[l.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),l.jsx("div",{style:{fontSize:14,fontWeight:500,marginBottom:4},children:""}),l.jsxs("div",{style:{fontSize:12,color:"var(--muted)"},children:[" JPGPNGWebP 5MB",E.length>0&&` ( ${5-E.length} )`]})]}),l.jsx("input",{id:"edit-job-image-upload",type:"file",accept:"image/*",multiple:!0,onChange:z,disabled:j||p,style:{display:"none"}}),x.length>0&&l.jsxs("div",{style:{marginTop:10},children:[l.jsxs("p",{style:{fontSize:12,color:"var(--muted)",marginBottom:6},children:[" (",x.length,")"]}),x.map((G,K)=>l.jsxs("div",{style:{padding:"6px 10px",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:6,fontSize:12,marginBottom:4,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("span",{children:[K+1,". ",G.name," (",(G.size/1024).toFixed(1)," KB)"]}),l.jsx("button",{type:"button",onClick:()=>{b(X=>X.filter((Q,ae)=>ae!==K))},style:{background:"none",border:"none",color:"var(--danger)",cursor:"pointer",padding:"0 4px",fontSize:14},children:""})]},K))]})]}),E.length===0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{textAlign:"center",margin:"12px 0",color:"var(--muted)",fontSize:12},children:""}),l.jsx("input",{name:"imageUrlsText",value:o.imageUrlsText,onChange:D,placeholder:"",disabled:x.length>0,style:{padding:"10px",fontSize:"13px",border:"1px solid var(--border)",borderRadius:"8px",width:"100%",background:"var(--card)",color:"var(--text)"}})]}),x.length>0&&l.jsxs("div",{style:{marginTop:12},children:[l.jsx("p",{style:{fontSize:12,marginBottom:6,fontWeight:500},children:""}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:8},children:x.map((G,K)=>l.jsx("div",{style:{aspectRatio:"16/9",borderRadius:8,overflow:"hidden",border:"1px solid var(--border)"},children:l.jsx("img",{src:URL.createObjectURL(G),alt:`New ${K+1}`,style:{width:"100%",height:"100%",objectFit:"cover"}})},K))})]}),E.length===0&&o.imageUrlsText&&!x.length&&l.jsxs("div",{style:{marginTop:12},children:[l.jsx("p",{style:{fontSize:12,marginBottom:6,fontWeight:500},children:""}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:8},children:o.imageUrlsText.split(",").map(G=>G.trim()).filter(Boolean).map((G,K)=>l.jsx("div",{style:{aspectRatio:"16/9",borderRadius:8,overflow:"hidden",border:"1px solid var(--border)"},children:l.jsx("img",{src:G,alt:`Preview ${K+1}`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:X=>{X.target.style.display="none"}})},K))})]})]}),l.jsxs("div",{className:"form-field",style:{marginTop:24},children:[l.jsx("label",{children:""}),l.jsx("textarea",{name:"description",value:o.description,onChange:D,placeholder:"",style:{minHeight:120}})]}),l.jsxs("div",{className:"form-field",style:{marginTop:18},children:[l.jsx("label",{children:"HTML, CSS, JS"}),l.jsx("input",{name:"skillsText",value:o.skillsText,onChange:D,placeholder:"C, C++, HTML, CSS, JS"})]}),l.jsxs("div",{style:{marginTop:28,display:"flex",gap:12},children:[l.jsx("button",{type:"button",className:"btn",onClick:()=>e(-1),disabled:p||j,style:{background:"#6b7280"},children:""}),l.jsx("button",{type:"submit",className:"btn",disabled:p||j,style:{minWidth:120},children:j?"...":p?"":""})]})]})]})]})}function z2(t){return{width:150,height:150,padding:4,borderRadius:"50%",background:t==="employer"?"conic-gradient(#f97316, #fb923c, #f97316)":"conic-gradient(#0ea5e9, #22c55e, #0ea5e9)",display:"flex",alignItems:"center",justifyContent:"center"}}function F2(t){return t.trim()[0].toUpperCase()}function U2(){var ae,ge;const{user:t}=xt(),[e,n]=C.useState(!0),[i,o]=C.useState({}),[c,d]=C.useState({}),[f,p]=C.useState([]),[g,v]=C.useState({imageUrl:"",caption:""}),[y,x]=C.useState(null),[b,j]=C.useState(!1),[T,E]=C.useState(!1),[N,z]=C.useState(null);C.useEffect(()=>{if(!t){n(!1);return}const V=Ee(je,"profiles/"+t.uid);_t(V,me=>{const _e=me.val()||{};o(_e),d(_e),n(!1)},()=>n(!1))},[t]),C.useEffect(()=>{if(!t)return;const V=Ee(je,"profile_posts/"+t.uid);_t(V,me=>{if(!me.exists()){p([]);return}const _e=Object.entries(me.val()).map(([Pe,oe])=>({id:Pe,...oe}));_e.sort((Pe,oe)=>(oe.createdAt||0)-(Pe.createdAt||0)),p(_e)})},[t]);async function O(V){if(V.preventDefault(),!!t)try{await hn(Ee(je,"profiles/"+t.uid),{...c,ratingScore:i.ratingScore||5,ratingCount:i.ratingCount||0,attendanceRate:i.attendanceRate||100,attendanceCount:i.attendanceCount||0}),alert("")}catch{alert("")}}async function $(V){var _e;const me=(_e=V.target.files)==null?void 0:_e[0];if(!(!me||!t)){j(!0);try{const Pe=await p2(me,t.uid);await hn(Ee(je,`profiles/${t.uid}/photoURL`),Pe),alert("")}catch(Pe){alert(Pe.message||"")}finally{j(!1)}}}async function D(V){if(V.preventDefault(),!t)return;let me=g.imageUrl;if(N){if(!N.type.startsWith("image/")){alert("");return}E(!0);try{me=await g2(N,t.uid)}catch(_e){alert(_e.message||""),E(!1);return}}if(!me.trim()){alert(""),E(!1);return}try{const _e={imageUrl:me.trim(),caption:g.caption.trim()||"",createdAt:Date.now()};await Qh(Ee(je,`profile_posts/${t.uid}`),_e),v({imageUrl:"",caption:""}),z(null),alert("")}catch{alert("")}finally{E(!1)}}async function Y(V){if(window.confirm(""))try{await y0(Ee(je,"profile_posts/"+t.uid+"/"+V))}catch{alert("")}}if(!t)return l.jsx("div",{className:"card",children:l.jsx("p",{children:""})});if(e)return l.jsx("div",{className:"card",children:l.jsx("p",{children:"..."})});const G=c.name||t.displayName||"",K=F2(G),X=((ae=i.ratingScore)==null?void 0:ae.toFixed(1))||"5.0",Q=((ge=i.attendanceRate)==null?void 0:ge.toFixed(0))||"100";return l.jsxs("div",{style:{maxWidth:960,margin:"0 auto",padding:"20px 16px"},children:[l.jsxs("div",{className:"card",style:{padding:24,borderRadius:24,marginBottom:24,display:"flex",gap:24},children:[l.jsx("div",{style:{textAlign:"center"},children:l.jsx("div",{style:z2(i.role||"worker"),children:l.jsxs("div",{style:{width:142,height:142,borderRadius:"50%",background:i.photoURL?`url(${i.photoURL}) center/cover`:"#0f172a",display:"flex",alignItems:"center",justifyContent:"center",fontSize:48,fontWeight:"bold",color:"#fff",position:"relative",overflow:"hidden"},children:[!i.photoURL&&K,l.jsxs("label",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",cursor:b?"not-allowed":"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:V=>V.currentTarget.style.opacity=1,onMouseLeave:V=>V.currentTarget.style.opacity=0,children:[l.jsx("input",{type:"file",accept:"image/*",onChange:$,disabled:b,style:{display:"none"}}),l.jsx("span",{style:{color:"white",fontSize:14,fontWeight:500},children:b?"...":""})]})]})})}),l.jsxs("div",{style:{flex:1},children:[l.jsx("h2",{style:{margin:"0 0 6px",fontSize:26},children:G}),l.jsxs("p",{style:{margin:"0 0 12px",color:"var(--muted)"},children:["@",c.username||t.uid.slice(0,6)," "," ",c.city||""]}),l.jsxs("div",{style:{display:"flex",gap:14,flexWrap:"wrap"},children:[l.jsx(dd,{label:` ${X}`,sub:""}),l.jsx(dd,{label:` ${Q}%`,sub:""}),l.jsx(dd,{label:c.role||"",sub:""})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 0.9fr",gap:24},children:[l.jsxs("div",{className:"card",style:{padding:20,borderRadius:20},children:[l.jsx("h3",{style:{marginTop:0,marginBottom:12},children:""}),l.jsxs("form",{onSubmit:O,children:[l.jsx(Nn,{label:"",children:l.jsx("input",{value:c.name||"",onChange:V=>d({...c,name:V.target.value})})}),l.jsx(Nn,{label:"",children:l.jsx("input",{value:c.username||"",onChange:V=>d({...c,username:V.target.value})})}),l.jsx(Nn,{label:"",children:l.jsx("input",{value:c.city||"",onChange:V=>d({...c,city:V.target.value})})}),l.jsx(Nn,{label:"",children:l.jsx("input",{value:c.headline||"",onChange:V=>d({...c,headline:V.target.value})})}),l.jsx(Nn,{label:"",children:l.jsx("textarea",{rows:4,value:c.about||"",onChange:V=>d({...c,about:V.target.value})})}),l.jsx("h4",{style:{marginTop:20},children:""}),l.jsx(Nn,{label:"LinkedIn",children:l.jsx("input",{value:c.linkedin||"",onChange:V=>d({...c,linkedin:V.target.value})})}),l.jsx(Nn,{label:"Instagram",children:l.jsx("input",{value:c.instagram||"",onChange:V=>d({...c,instagram:V.target.value})})}),l.jsx(Nn,{label:"Website / ",children:l.jsx("input",{value:c.website||"",onChange:V=>d({...c,website:V.target.value})})}),l.jsx("button",{className:"btn",style:{marginTop:20,width:"100%"},children:""})]})]}),l.jsxs("div",{className:"card",style:{padding:20,borderRadius:20},children:[l.jsx("h3",{style:{marginTop:0},children:" / "}),l.jsxs("form",{onSubmit:D,style:{marginBottom:20},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("label",{style:{display:"block",marginBottom:6,fontSize:13,fontWeight:500},children:""}),l.jsxs("div",{style:{marginBottom:8},children:[l.jsxs("label",{htmlFor:"portfolio-upload",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px",border:"2px dashed var(--border)",borderRadius:"12px",background:"rgba(249,115,22,0.05)",cursor:T?"not-allowed":"pointer",transition:"all 0.2s"},onMouseEnter:V=>{T||(V.currentTarget.style.borderColor="var(--primary)",V.currentTarget.style.background="rgba(249,115,22,0.1)")},onMouseLeave:V=>{V.currentTarget.style.borderColor="var(--border)",V.currentTarget.style.background="rgba(249,115,22,0.05)"},children:[l.jsx("div",{style:{fontSize:28,marginBottom:6},children:""}),l.jsx("div",{style:{fontSize:13,fontWeight:500,marginBottom:2},children:""}),l.jsx("div",{style:{fontSize:11,color:"var(--muted)"},children:" JPGPNGWebP 5MB"})]}),l.jsx("input",{id:"portfolio-upload",type:"file",accept:"image/*",onChange:V=>{var _e;const me=(_e=V.target.files)==null?void 0:_e[0];me&&(z(me),v(Pe=>({...Pe,imageUrl:""})))},disabled:T,style:{display:"none"}}),N&&l.jsxs("div",{style:{marginTop:6,padding:"6px 10px",background:"rgba(16,185,129,0.1)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:6,fontSize:12,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l.jsxs("span",{children:[" ",N.name," (",(N.size/1024).toFixed(1)," KB)"]}),l.jsx("button",{type:"button",onClick:()=>z(null),style:{background:"none",border:"none",color:"var(--danger)",cursor:"pointer",padding:"0 4px",fontSize:16},children:""})]})]}),l.jsx("div",{style:{textAlign:"center",margin:"8px 0",color:"var(--muted)",fontSize:12},children:""}),l.jsx("input",{className:"input-glass",value:g.imageUrl,onChange:V=>{v({...g,imageUrl:V.target.value}),z(null)},placeholder:" (https://...)",disabled:T||!!N,style:{padding:"10px",fontSize:"13px",border:"1px solid var(--border)",borderRadius:"8px",width:"100%",background:"var(--card)",color:"var(--text)"}})]}),l.jsx(Nn,{label:"",children:l.jsx("textarea",{rows:2,value:g.caption,onChange:V=>v({...g,caption:V.target.value}),disabled:T})}),l.jsx("button",{className:"btn",style:{width:"100%"},disabled:T||!N&&!g.imageUrl.trim(),children:T?"...":""})]}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:10},children:f.map(V=>l.jsxs("div",{style:{position:"relative",paddingBottom:"100%",borderRadius:12,overflow:"hidden",cursor:"pointer"},children:[l.jsx("img",{src:V.imageUrl,onClick:()=>x(V),style:{position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"}}),l.jsx("button",{type:"button",onClick:()=>Y(V.id),style:{position:"absolute",right:6,top:6,fontSize:11,padding:"3px 7px",background:"rgba(0,0,0,0.6)",color:"#fff",borderRadius:8,border:"none",cursor:"pointer"},children:""})]},V.id))})]})]}),y&&l.jsx("div",{onClick:()=>x(null),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.75)",zIndex:999,display:"flex",alignItems:"center",justifyContent:"center",padding:20},children:l.jsx("img",{src:y.imageUrl,style:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain",borderRadius:16}})})]})}function Nn({label:t,children:e}){return l.jsxs("div",{style:{marginBottom:14},children:[l.jsx("label",{style:{fontSize:14,marginBottom:4,display:"block"},children:t}),e]})}function dd({label:t,sub:e}){return l.jsxs("div",{style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)",padding:"6px 12px",borderRadius:999},children:[l.jsx("div",{children:t}),l.jsx("div",{style:{fontSize:11,color:"var(--muted)"},children:e})]})}function B2(){const t=Ir(),[e,n]=C.useState({email:"",password:""}),[i,o]=C.useState(!0),[c,d]=C.useState(null),[f,p]=C.useState(!1),[g,v]=C.useState(!1);function y(N){const{name:z,value:O}=N.target;n($=>({...$,[z]:O}))}async function x(N){return await Iv(Lt,i?ch:Nl),N()}async function b(N){N.preventDefault(),d(null),p(!0);try{await x(()=>yC(Lt,e.email,e.password)),t("/dashboard")}catch(z){console.error(z),d({type:"error",message:""})}finally{p(!1)}}async function j(){d(null),p(!0);try{const N=new on;await x(()=>Fv(Lt,N)),t("/dashboard")}catch(N){console.error(N),d({type:"error",message:"Google "})}finally{p(!1)}}async function T(){if(!e.email){d({type:"info",message:""});return}d(null),p(!0);try{await mC(Lt,e.email),d({type:"info",message:""})}catch(N){console.error(N),d({type:"error",message:""})}finally{p(!1)}}const E={position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",border:"none",background:"transparent",cursor:"pointer",fontSize:16,opacity:.8};return l.jsx("div",{style:{minHeight:"calc(100vh - 120px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"32px 16px"},children:l.jsxs("div",{className:"card auth-card-grid",style:{width:"100%",maxWidth:960,overflow:"hidden"},children:[l.jsxs("div",{className:"auth-hero",style:{position:"relative",padding:32,paddingRight:24,borderRight:"1px solid var(--border)",background:"linear-gradient(135deg, rgba(249,115,22,0.16), rgba(37,99,235,0.2))",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",inset:0,opacity:.2,background:"radial-gradient(circle at 0 0, rgba(249,115,22,0.7), transparent 55%), radial-gradient(circle at 100% 100%, rgba(59,130,246,0.7), transparent 55%)",pointerEvents:"none"}}),l.jsxs("div",{style:{position:"relative",zIndex:1},children:[l.jsx("div",{style:{display:"inline-flex",alignItems:"center",borderRadius:999,padding:"4px 10px",fontSize:12,background:"var(--primary-light)",color:"var(--primary-on-light)",fontWeight:600,marginBottom:12},children:" "}),l.jsxs("h1",{style:{margin:0,fontSize:30,lineHeight:1.3},children:["",l.jsx("span",{style:{color:"var(--primary)"},children:" "}),""]}),l.jsx("p",{style:{marginTop:12,marginBottom:22,color:"var(--muted)",fontSize:14,maxWidth:380},children:" "})]})]}),l.jsxs("div",{className:"auth-form-panel",style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:16},children:[l.jsx("h2",{style:{margin:0,marginBottom:4,fontSize:22},children:" "}),l.jsx("p",{style:{margin:0,marginBottom:10,fontSize:13,color:"var(--muted)"},children:" Google  FastJob "}),c&&l.jsx("div",{style:{padding:10,borderRadius:12,marginBottom:4,fontSize:13,color:c.type==="error"?"var(--danger)":"var(--text)",background:c.type==="error"?"rgba(239,68,68,0.12)":"rgba(59,130,246,0.08)",border:c.type==="error"?"1px solid rgba(239,68,68,0.4)":"1px solid rgba(59,130,246,0.35)"},children:c.message}),l.jsxs("button",{type:"button",onClick:j,disabled:f,className:"oauth-btn",children:[l.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:22,height:22}})," Google "]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginTop:8,marginBottom:4},children:[l.jsx("div",{style:{flex:1,height:1,backgroundColor:"var(--border)",opacity:.7}}),l.jsx("span",{style:{fontSize:12,color:"var(--muted)"},children:""}),l.jsx("div",{style:{flex:1,height:1,backgroundColor:"var(--border)",opacity:.7}})]}),l.jsxs("form",{onSubmit:b,style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:13,marginBottom:4},children:""}),l.jsx("input",{className:"input-glass",name:"email",type:"email",value:e.email,onChange:y,placeholder:"example@gmail.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:13,marginBottom:4},children:""}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{className:"input-glass",name:"password",type:g?"text":"password",value:e.password,onChange:y,placeholder:"",required:!0,style:{paddingRight:40}}),l.jsx("button",{type:"button",onClick:()=>v(N=>!N),style:E,"aria-label":g?"":"",children:g?"":""})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:12,marginTop:2,marginBottom:2},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",color:"var(--muted)"},children:[l.jsx("input",{type:"checkbox",checked:i,onChange:N=>o(N.target.checked),className:"remember-checkbox"}),l.jsx("span",{children:""})]}),l.jsx("button",{type:"button",onClick:T,disabled:f,style:{background:"none",border:"none",padding:0,color:"var(--primary)",cursor:"pointer"},children:""})]}),l.jsx("button",{type:"submit",className:"btn",disabled:f,style:{width:"100%",marginTop:4},children:f?"":""})]}),l.jsxs("p",{style:{margin:0,marginTop:10,fontSize:12,color:"var(--muted)"},children:[""," ",l.jsx(ue,{to:"/register",style:{color:"var(--primary)"},children:""})]})]})]})})}function W2(){const t=Ir(),{lang:e}=et(),n=e==="zh",[i,o]=C.useState({name:"",email:"",password:"",confirm:""}),[c,d]=C.useState(!0),[f,p]=C.useState(null),[g,v]=C.useState(!1),[y,x]=C.useState(!1),[b,j]=C.useState(!1);function T(D){const{name:Y,value:G}=D.target;o(K=>({...K,[Y]:G}))}async function E(D){return await Iv(Lt,c?ch:Nl),D()}async function N(D){const Y=Ee(je,"profiles/"+D.uid);await hn(Y,{role:"employee",displayName:i.name||"",email:D.email||"",createdAt:Date.now()})}async function z(D){if(D.preventDefault(),p(null),i.password.length<6){p({type:"error",message:n?" 6 ":"Password must be at least 6 characters."});return}if(i.password!==i.confirm){p({type:"error",message:n?"":"Passwords don't match."});return}v(!0);try{const Y=await E(()=>gC(Lt,i.email,i.password));await N(Y.user),t("/dashboard")}catch(Y){console.error(Y);let G=n?"":"Registration failed, please try again.";Y.code==="auth/email-already-in-use"?G=n?"":"Email already registered, please login.":Y.code==="auth/invalid-email"?G=n?"":"Invalid email format.":Y.code==="auth/weak-password"&&(G=n?"":"Password is too weak."),p({type:"error",message:G})}finally{v(!1)}}async function O(){p(null),v(!0);try{const D=new on,Y=await E(()=>Fv(Lt,D));await N(Y.user),t("/dashboard")}catch(D){console.error(D),p({type:"error",message:n?"Google ":"Google signup failed."})}finally{v(!1)}}const $={position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",border:"none",background:"transparent",cursor:"pointer",fontSize:16,opacity:.8};return l.jsx("div",{style:{minHeight:"calc(100vh - 120px)",display:"flex",alignItems:"center",justifyContent:"center",padding:"32px 16px"},children:l.jsxs("div",{className:"card auth-card-grid",style:{width:"100%",maxWidth:960,overflow:"hidden"},children:[l.jsxs("div",{className:"auth-hero",style:{position:"relative",padding:32,paddingRight:24,borderRight:"1px solid var(--border)",background:"linear-gradient(135deg, rgba(249,115,22,0.16), rgba(37,99,235,0.2))",overflow:"hidden"},children:[l.jsx("div",{style:{position:"absolute",inset:0,opacity:.2,background:"radial-gradient(circle at 0 0, rgba(249,115,22,0.7), transparent 55%), radial-gradient(circle at 100% 100%, rgba(59,130,246,0.7), transparent 55%)",pointerEvents:"none"}}),l.jsxs("div",{style:{position:"relative",zIndex:1},children:[l.jsx("div",{style:{display:"inline-flex",alignItems:"center",borderRadius:999,padding:"4px 10px",fontSize:12,background:"var(--primary-light)",color:"var(--primary-on-light)",fontWeight:600,marginBottom:12},children:n?"  & ":" Register once, find or post jobs"}),l.jsx("h1",{style:{margin:0,fontSize:30,lineHeight:1.3},children:n?l.jsxs(l.Fragment,{children:[" ",l.jsx("span",{style:{color:"var(--primary)"},children:"OneJob"})," "]}):l.jsxs(l.Fragment,{children:["Create your ",l.jsx("span",{style:{color:"var(--primary)"},children:"OneJob"})," account."]})}),l.jsx("p",{style:{marginTop:12,marginBottom:22,color:"var(--muted)",fontSize:14,maxWidth:380},children:n?"":"With one account, browse nearby hourly jobs or quickly post job listings when you need help."})]})]}),l.jsxs("div",{className:"auth-form-panel",style:{display:"flex",flexDirection:"column",justifyContent:"center",gap:16},children:[l.jsx("h2",{style:{margin:0,marginBottom:4,fontSize:22},children:n?" ":"Create account, start earning "}),l.jsx("p",{style:{margin:0,marginBottom:10,fontSize:13,color:"var(--muted)"},children:n?" Google ":"Sign up with Google or email. One account for finding and posting jobs."}),f&&l.jsx("div",{style:{padding:10,borderRadius:12,marginBottom:4,fontSize:13,color:f.type==="error"?"var(--danger)":"var(--text)",background:f.type==="error"?"rgba(239,68,68,0.12)":"rgba(59,130,246,0.08)",border:f.type==="error"?"1px solid rgba(239,68,68,0.4)":"1px solid rgba(59,130,246,0.35)"},children:f.message}),l.jsxs("button",{type:"button",onClick:O,disabled:g,className:"oauth-btn",children:[l.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",style:{width:22,height:22}}),n?" Google ":"Sign up with Google"]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginTop:8,marginBottom:4},children:[l.jsx("div",{style:{flex:1,height:1,background:"var(--border)"}}),l.jsx("span",{style:{fontSize:12,color:"var(--muted)"},children:n?"":"or sign up with email"}),l.jsx("div",{style:{flex:1,height:1,background:"var(--border)"}})]}),l.jsxs("form",{onSubmit:z,style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:13,marginBottom:4},children:n?" / ":"Name / Nickname"}),l.jsx("input",{className:"input-glass",name:"name",type:"text",value:i.name,onChange:T,placeholder:n?"Nevan":"e.g. Nevan",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:13,marginBottom:4},children:n?"":"Email"}),l.jsx("input",{className:"input-glass",name:"email",type:"email",value:i.email,onChange:T,placeholder:"example@gmail.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:13,marginBottom:4},children:n?"":"Password"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{className:"input-glass",name:"password",type:y?"text":"password",value:i.password,onChange:T,placeholder:n?" 6 ":"At least 6 characters",required:!0,style:{paddingRight:40}}),l.jsx("button",{type:"button",onClick:()=>x(D=>!D),style:$,"aria-label":y?"":"",children:y?"":""})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:13,marginBottom:4},children:n?"":"Confirm Password"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{className:"input-glass",name:"confirm",type:b?"text":"password",value:i.confirm,onChange:T,placeholder:n?"":"Re-enter password",required:!0,style:{paddingRight:40}}),l.jsx("button",{type:"button",onClick:()=>j(D=>!D),style:$,"aria-label":b?"":"",children:b?"":""})]})]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6,cursor:"pointer",fontSize:12,color:"var(--muted)"},children:[l.jsx("input",{type:"checkbox",checked:c,onChange:D=>d(D.target.checked),className:"remember-checkbox"}),n?"":"Keep me logged in on this device"]}),l.jsx("div",{style:{fontSize:12,color:"var(--muted)",textAlign:"center",lineHeight:1.5,marginTop:4},children:n?l.jsxs(l.Fragment,{children:[""," ",l.jsx(ue,{to:"/terms",style:{color:"var(--primary)",fontWeight:500},children:""})," ",""," ",l.jsx(ue,{to:"/disclaimer",style:{color:"var(--primary)",fontWeight:500},children:""})]}):l.jsxs(l.Fragment,{children:["By registering, you agree to our"," ",l.jsx(ue,{to:"/terms",style:{color:"var(--primary)",fontWeight:500},children:"Terms of Service"})," ","and"," ",l.jsx(ue,{to:"/disclaimer",style:{color:"var(--primary)",fontWeight:500},children:"Disclaimer"})]})}),l.jsx("button",{type:"submit",className:"btn",disabled:g,style:{width:"100%",marginTop:4},children:g?n?"":"Signing up...":n?"":"Sign Up"})]}),l.jsxs("p",{style:{margin:0,marginTop:10,fontSize:12,color:"var(--muted)",textAlign:"center"},children:[n?"":"Already have an account?"," ",l.jsx(ue,{to:"/login",style:{color:"var(--primary)",fontWeight:500},children:n?"":"Login"})]})]})]})})}function Py({emoji:t,title:e,description:n,accentColor:i,buttonLabel:o,onClick:c,disabled:d}){const f=d?"#9ca3af":i,p=d?"none":"0 10px 25px rgba(15,23,42,0.35)";return l.jsxs("div",{style:{background:"var(--card)",borderRadius:24,padding:24,boxShadow:"0 20px 40px rgba(15,23,42,0.08)",border:"1px solid rgba(148,163,184,0.25)",display:"flex",flexDirection:"column",gap:20},children:[l.jsx("div",{style:{width:56,height:56,borderRadius:999,background:`${i}1A`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:30,boxShadow:"0 15px 30px rgba(15,23,42,0.16)"},children:l.jsx("span",{"aria-hidden":!0,children:t})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:22,fontWeight:700,color:"var(--text)"},children:e}),l.jsx("p",{style:{margin:"8px 0 0",fontSize:14,lineHeight:1.6,color:"var(--muted)"},children:n})]}),l.jsx("button",{type:"button",onClick:d?void 0:c,disabled:d,style:{marginTop:8,width:"100%",height:50,borderRadius:14,border:"none",background:f,color:"#ffffff",fontSize:16,fontWeight:600,cursor:d?"default":"pointer",transition:"transform 0.05s ease, box-shadow 0.1s ease, background 0.15s ease",boxShadow:p},onMouseDown:g=>{d||(g.currentTarget.style.transform="scale(0.97)")},onMouseUp:g=>{g.currentTarget.style.transform="scale(1)"},onMouseLeave:g=>{g.currentTarget.style.transform="scale(1)"},children:o})]})}function H2(){var g;const{user:t,loading:e}=xt(),n=Ir(),[i,o]=el.useState(!1),[c,d]=el.useState(null);if(e)return l.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg)"},children:l.jsx("p",{style:{color:"var(--muted)"},children:"Loading"})});if(!t)return l.jsx(sn,{to:"/login",replace:!0});async function f(v){if(!i){o(!0),d(null);try{const y=Ee(je,"profiles/"+t.uid);await bo(y,{role:v,updatedAt:Date.now()}),n("/dashboard",{replace:!0})}catch(y){console.error(y),d("")}finally{o(!1)}}}const p=((g=t.email)==null?void 0:g.split("@")[0])||t.displayName||"FastJob ";return l.jsx("div",{style:{minHeight:"100vh",background:"radial-gradient(circle at top left,#ffe4c7 0,#fff7ed 35%,#f9fafb 70%,#eef2ff 100%)",display:"flex",alignItems:"stretch",justifyContent:"center",padding:"32px 16px"},children:l.jsxs("div",{style:{width:"100%",maxWidth:720,margin:"0 auto",display:"flex",flexDirection:"column",gap:28},children:[l.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("div",{style:{width:32,height:32,borderRadius:999,background:"#f97316",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:800,fontSize:18},children:"F"}),l.jsx("span",{style:{fontWeight:800,fontSize:20,letterSpacing:.4,color:"#111827"},children:"FastJob"})]}),l.jsxs("span",{style:{fontSize:12,padding:"4px 10px",borderRadius:999,background:"rgba(15,23,42,0.04)",color:"#6b7280"},children:["",p]})]}),l.jsxs("section",{children:[l.jsx("p",{style:{fontSize:13,letterSpacing:2,textTransform:"uppercase",color:"#f97316",fontWeight:600,margin:"0 0 8px"},children:"CHOOSE YOUR ROLE"}),l.jsxs("h1",{style:{margin:0,fontSize:30,lineHeight:1.25,color:"#111827",fontWeight:800},children:["",l.jsx("br",{}),""]}),l.jsx("p",{style:{margin:"12px 0 0",fontSize:14,color:"#6b7280",lineHeight:1.6,maxWidth:480},children:" FastJob  "})]}),l.jsxs("section",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:18},children:[l.jsx(Py,{emoji:"",title:"",description:"",accentColor:"#f97316",buttonLabel:i?"":"",onClick:()=>f("employee"),disabled:i}),l.jsx(Py,{emoji:"",title:"",description:"",accentColor:"#111827",buttonLabel:i?"":"",onClick:()=>f("employer"),disabled:i})]}),c&&l.jsx("p",{style:{color:"#b91c1c",fontSize:13,margin:0},children:c}),l.jsxs("footer",{style:{marginTop:4,fontSize:13,color:"#6b7280",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:8},children:[l.jsx("span",{children:""}),l.jsx("button",{type:"button",onClick:()=>n("/dashboard"),style:{border:"none",background:"transparent",color:"#f97316",cursor:"pointer",fontWeight:500,textDecoration:"underline",textUnderlineOffset:2,padding:0},children:" "})]})]})})}function $2(t,e){return(t.trim()?t:e).split(/[.\s-_]+/).filter(Boolean).map(i=>i[0]).join("").toUpperCase().slice(0,2)}function V2(t){return{width:56,height:56,borderRadius:"999px",padding:3,background:t==="employer"?"conic-gradient(from 180deg at 50% 50%, #f97316, #fb923c, #f97316)":"conic-gradient(from 180deg at 50% 50%, #0ea5e9, #22c55e, #0ea5e9)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}}function G2(t){return t==="employer"?{label:"",bg:"rgba(248,113,113,0.15)",color:"#fb923c"}:{label:"",bg:"rgba(56,189,248,0.18)",color:"#38bdf8"}}function q2(){const{user:t}=xt(),{lang:e,t:n}=et(),i=(b,j,T)=>{const E=n(b);return E&&E!==b?E:e==="zh"?j:T},[o,c]=C.useState([]),[d,f]=C.useState(!0),[p,g]=C.useState(""),[v,y]=C.useState("all");C.useEffect(()=>{const b=Ee(je,"profiles"),j=_t(b,T=>{if(!T.exists()){c([]),f(!1);return}const E=T.val()||{},N=Object.entries(E).map(([z,O])=>({uid:z,...O}));c(N),f(!1)},()=>{c([]),f(!1)});return()=>j()},[]);const x=C.useMemo(()=>{const b=p.trim().toLowerCase();return o.filter(j=>!j||v!=="all"&&j.role!==v?!1:b?([j.username,j.name,j.headline,j.about,j.city,j.role,j.uid].filter(Boolean).join(" ").toLowerCase()||"").includes(b):!0).sort((j,T)=>{if(t){if(j.uid===t.uid)return-1;if(T.uid===t.uid)return 1}return 0})},[o,p,v,t]);return l.jsxs("div",{className:"container",style:{paddingTop:24,paddingBottom:32},children:[l.jsxs("div",{className:"card",style:{marginBottom:16,borderRadius:22},children:[l.jsx("h2",{style:{marginTop:0,marginBottom:6,fontSize:20},children:i("people_title_talent"," / Find Talent","Talent Pool")}),l.jsx("p",{style:{marginTop:0,marginBottom:12,fontSize:14,color:"var(--muted)"},children:i("people_subtitle_talent","","Browse talent looking for part-time, internship or full-time work.")}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,alignItems:"center"},children:[l.jsx("input",{value:p,onChange:b=>g(b.target.value),placeholder:i("people_search_placeholder"," /  / ","Search by name / city / skills"),style:{flex:"1 1 220px",minWidth:0,marginTop:4}}),l.jsxs("div",{style:{display:"flex",gap:6,flexWrap:"wrap",fontSize:12},children:[l.jsx("button",{type:"button",className:"chip",onClick:()=>y("all"),style:{padding:"6px 12px",borderRadius:999,border:v==="all"?"1px solid var(--primary)":"1px solid var(--border)",backgroundColor:v==="all"?"rgba(249,115,22,0.12)":"transparent"},children:i("people_filter_all","","All")}),l.jsx("button",{type:"button",className:"chip",onClick:()=>y("employee"),style:{padding:"6px 12px",borderRadius:999,border:v==="employee"?"1px solid #38bdf8":"1px solid var(--border)",backgroundColor:v==="employee"?"rgba(56,189,248,0.15)":"transparent"},children:i("people_filter_employee","","Job seekers")}),l.jsx("button",{type:"button",className:"chip",onClick:()=>y("employer"),style:{padding:"6px 12px",borderRadius:999,border:v==="employer"?"1px solid #fb923c":"1px solid var(--border)",backgroundColor:v==="employer"?"rgba(248,113,113,0.15)":"transparent"},children:i("people_filter_employer","","Employers")})]})]})]}),l.jsxs("div",{className:"card",style:{borderRadius:22},children:[d&&l.jsx("p",{children:n("profile.loading")}),!d&&x.length===0&&l.jsx("p",{style:{color:"var(--muted)",margin:0},children:i("people_empty","","No matching users yet.")}),!d&&x.length>0&&l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:x.map(b=>{const j=b.name||b.username||"",T=$2(j,"U"),E=G2(b.role),N=b.headline||(b.role==="employer"?i("people_headline_employer","","Hiring now"):i("people_headline_employee","","Looking for job"));return l.jsxs(ue,{to:`/people/${b.uid}`,style:{display:"flex",alignItems:"center",gap:12,padding:"8px 10px",borderRadius:14,textDecoration:"none",color:"inherit",border:"1px solid rgba(148,163,184,0.18)",background:"linear-gradient(135deg, rgba(15,23,42,0.98), rgba(15,23,42,0.9))"},children:[l.jsx("div",{style:V2(b.role),children:l.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"999px",backgroundColor:"#020617",display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,fontWeight:700},children:T})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:2,flexWrap:"wrap"},children:[l.jsx("span",{style:{fontWeight:600,fontSize:15},children:j}),b.city&&l.jsx("span",{style:{fontSize:11,color:"var(--muted)"},children:b.city}),l.jsx("span",{style:{padding:"2px 8px",borderRadius:999,fontSize:11,background:E.bg,color:E.color,border:`1px solid ${E.color}33`},children:E.label})]}),l.jsx("p",{style:{margin:0,fontSize:13,color:"#e5e7eb",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:N})]})]},b.uid)})})]})]})}function J2(t){return{width:160,height:160,borderRadius:"999px",padding:4,background:t==="employer"?"conic-gradient(from 180deg at 50% 50%, #f97316, #fb923c, #f97316)":"conic-gradient(from 180deg at 50% 50%, #0ea5e9, #22c55e, #0ea5e9)",display:"flex",alignItems:"center",justifyContent:"center"}}function K2(t,e){return t==="employer"?{label:e("profile.role.employer")||"",bg:"rgba(248,113,113,0.15)",color:"#fb923c"}:t==="employee"?{label:e("profile.role.employee")||"",bg:"rgba(56,189,248,0.18)",color:"#38bdf8"}:{label:e("profile.role.user")||"",bg:"rgba(148,163,184,0.15)",color:"#e5e7eb"}}function Y2(){var _e,Pe;const{uid:t}=kl(),{user:e}=xt(),{t:n}=et(),[i,o]=C.useState(null),[c,d]=C.useState(!0),[f,p]=C.useState([]),[g,v]=C.useState(!0),[y,x]=C.useState(null);C.useEffect(()=>{if(!t)return;const oe=Ee(je,"profiles/"+t),L=_t(oe,U=>{o(U.val()||null),d(!1)},()=>{o(null),d(!1)});return()=>L()},[t]),C.useEffect(()=>{if(!t)return;const oe=Ee(je,"profile_posts/"+t),L=_t(oe,U=>{if(!U.exists()){p([]),v(!1),x(null);return}const B=Object.entries(U.val()).map(([k,M])=>({id:k,...M})).sort((k,M)=>(M.createdAt||0)-(k.createdAt||0));p(B),v(!1),y!=null&&y>=B.length&&x(B.length-1)},()=>{p([]),v(!1)});return()=>L()},[t,y]);const b=t||"",j=b.length>8?`${b.slice(0,4)}${b.slice(-4)}`:b||"user",T=((_e=i==null?void 0:i.username)==null?void 0:_e.trim())||j,E=((Pe=i==null?void 0:i.name)==null?void 0:Pe.trim())||T,N=E.split(/[.\s-_]+/).filter(Boolean).map(oe=>oe[0]).join("").toUpperCase().slice(0,2)||"U",z=(i==null?void 0:i.role)||"user",O=K2(z,n),$=e&&e.uid===t,D=y!=null&&y>=0&&y<f.length,Y=D?f[y]:null;function G(oe){oe<0||oe>=f.length||x(oe)}function K(){x(null)}function X(){D&&y>0&&x(y-1)}function Q(){D&&y<f.length-1&&x(y+1)}function ae(){if(!i||!i.phone){alert("");return}const oe=i.phone.replace(/\D/g,""),L=oe.startsWith("6")?oe:"60"+oe,U=z==="employer"?" FastJob ":" FastJob ",B="https://wa.me/"+L+"?text="+encodeURIComponent(U);window.open(B,"_blank","noopener")}async function ge(){const oe=window.location.href;try{navigator.share?await navigator.share({title:E+" - FastJob",text:" FastJob ",url:oe}):navigator.clipboard?(await navigator.clipboard.writeText(oe),alert("")):alert("")}catch{}}return l.jsxs("div",{style:{maxWidth:960,margin:"0 auto",padding:"24px 16px 40px"},children:[l.jsxs("div",{style:{marginBottom:16,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs(ue,{to:"/people",style:{fontSize:13,color:"var(--muted)",textDecoration:"none"},children:[" ",n("publicProfile_back")||""]}),$&&l.jsx(ue,{to:"/profile",style:{fontSize:13,color:"var(--primary)",textDecoration:"none"},children:n("publicProfile_editOwn")||""})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"180px 1fr",gap:24,alignItems:"center",marginBottom:24},children:[l.jsx("div",{style:J2(z),children:l.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"999px",backgroundColor:"#020617",display:"flex",alignItems:"center",justifyContent:"center",fontSize:40,fontWeight:700},children:N})}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8,flexWrap:"wrap"},children:[l.jsxs("h2",{style:{margin:0,fontSize:22},children:["@",T]}),l.jsx("span",{style:{padding:"4px 10px",borderRadius:999,fontSize:12,background:O.bg,color:O.color,border:`1px solid ${O.color}33`},children:O.label}),$&&l.jsx("span",{style:{fontSize:12,color:"var(--muted)"},children:""})]}),l.jsxs("div",{style:{display:"flex",gap:16,fontSize:13,marginBottom:8,flexWrap:"wrap"},children:[l.jsxs("span",{children:[" ",l.jsx("strong",{children:5 .toFixed(1)})," "]}),l.jsxs("span",{children:[" ",l.jsx("strong",{children:"98%"})," "]}),l.jsxs("span",{children:[" ",(i==null?void 0:i.city)||""]})]}),l.jsxs("div",{style:{fontSize:14,lineHeight:1.4,marginBottom:12},children:[c&&l.jsx("span",{children:n("profile.loading")}),!c&&!i&&l.jsx("span",{style:{color:"var(--muted)"},children:n("publicProfile_noProfile")||""}),!c&&i&&l.jsxs(l.Fragment,{children:[E&&l.jsx("div",{style:{fontWeight:600,marginBottom:2},children:E}),i.headline&&l.jsx("div",{style:{marginBottom:2},children:i.headline}),i.about&&l.jsx("div",{style:{whiteSpace:"pre-line"},children:i.about})]})]}),l.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[l.jsx("button",{type:"button",className:"btn",onClick:ae,children:" WhatsApp "}),l.jsx("button",{type:"button",className:"btn-ghost",onClick:ge,style:{fontSize:13},children:" "})]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{marginTop:0,marginBottom:8},children:" / "}),g&&l.jsx("p",{className:"muted",children:n("publicProfile_loadingPosts")||""}),!g&&f.length===0&&l.jsx("p",{className:"muted",children:n("publicProfile_noPosts")||""}),!g&&f.length>0&&l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:12},children:f.map((oe,L)=>l.jsx("button",{type:"button",onClick:()=>G(L),style:{border:"none",padding:0,cursor:"pointer",borderRadius:16,overflow:"hidden",background:"transparent"},children:l.jsx("img",{src:oe.imageUrl||oe.url,alt:oe.caption||"",style:{width:"100%",height:160,objectFit:"cover",display:"block"}})},oe.id))})]}),D&&Y&&l.jsx("div",{onClick:K,style:{position:"fixed",inset:0,background:"rgba(15,23,42,0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:40},children:l.jsxs("div",{onClick:oe=>oe.stopPropagation(),style:{maxWidth:"90vw",maxHeight:"90vh",borderRadius:18,overflow:"hidden",background:"#020617",position:"relative"},children:[l.jsx("img",{src:Y.imageUrl||Y.url,alt:Y.caption||"",style:{maxWidth:"90vw",maxHeight:"90vh",display:"block",objectFit:"contain"}}),f.length>1&&l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:X,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",width:32,height:32,borderRadius:999,border:"none",background:"rgba(15,23,42,0.75)",color:"#fff",cursor:"pointer"},children:""}),l.jsx("button",{type:"button",onClick:Q,style:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)",width:32,height:32,borderRadius:999,border:"none",background:"rgba(15,23,42,0.75)",color:"#fff",cursor:"pointer"},children:""})]}),l.jsx("button",{type:"button",onClick:K,style:{position:"absolute",top:10,right:10,width:28,height:28,borderRadius:999,border:"none",background:"rgba(15,23,42,0.8)",color:"#fff",cursor:"pointer",fontSize:16},children:""})]})})]})}function Q2(t){const[e,n]=C.useState(null),[i,o]=C.useState(!0);return C.useEffect(()=>{if(!t){o(!1);return}const c=Ee(je,`plans/${t}`),d=_t(c,async f=>{if(f.exists()){const p=f.val();if(console.log(" ",p),(p.type==="monthly"||p.type==="yearly")&&p.expiryDate){const g=Date.now();if(console.log(" ",g),console.log(" ",p.expiryDate),console.log(" ",g>p.expiryDate),g>p.expiryDate){console.log("  free"),await hn(c,{type:"free",expiryDate:null,createdAt:p.createdAt||g,downgraded:!0,downgradedAt:g,previousType:p.type}),n({type:"free",expiryDate:null,downgraded:!0}),o(!1);return}}n(p)}else{console.log(" ");const p={type:"free",expiryDate:null,createdAt:Date.now()};await hn(c,p),n(p)}o(!1)});return()=>d()},[t]),{plan:e,loading:i}}async function X2(t){if(console.log(" ID",t),!t)return console.log(" "),{canPost:!1,reason:""};try{const e=Ee(je,`plans/${t}`),n=await Xh(e);if(!n.exists())return console.log(" "),await hn(e,{type:"free",expiryDate:null,createdAt:Date.now()}),{canPost:!1,reason:"",needUpgrade:!0,currentPlan:"free"};const i=n.val();if(console.log(" ",i),console.log(" ",i.type),i.type==="free")return console.log(" "),{canPost:!1,reason:"",needUpgrade:!0,currentPlan:"free"};if(i.type==="monthly"||i.type==="yearly"){if(console.log(" ",i.type),i.expiryDate){const o=Date.now();if(console.log(" ",o),console.log(" ",i.expiryDate),console.log(" ",o>i.expiryDate),o>i.expiryDate)return console.log(" "),await hn(e,{type:"free",expiryDate:null,createdAt:i.createdAt||Date.now(),downgraded:!0,downgradedAt:Date.now(),previousType:i.type}),{canPost:!1,reason:"",needUpgrade:!0,currentPlan:"free"}}return console.log(" "),{canPost:!0,plan:i}}return console.log(" ",i.type),{canPost:!1,reason:"",needUpgrade:!0}}catch(e){return console.error(" ",e),{canPost:!1,reason:""}}}async function Z2(t,e){if(!t)return{success:!1,error:""};try{const n=Ee(je,`plans/${t}`),i=Date.now();let o,c;switch(e){case"monthly":o={type:"monthly",expiryDate:i+720*60*60*1e3,purchasedAt:i,createdAt:i},c=20;break;case"yearly":o={type:"yearly",expiryDate:i+365*24*60*60*1e3,purchasedAt:i,createdAt:i},c=200;break;default:return{success:!1,error:""}}await hn(n,o);const d=Ee(je,`purchase_history/${t}/${i}`);return await hn(d,{planType:e,amount:c,timestamp:i,expiryDate:o.expiryDate}),{success:!0,plan:o}}catch(n){return console.error("Purchase plan error:",n),{success:!1,error:""}}}function eR(t,e="zh"){var i;return((i={free:{zh:"",en:"Free Member"},monthly:{zh:"",en:"Basic Employer"},yearly:{zh:"",en:"Premium Employer"}}[t])==null?void 0:i[e])||t}function tR(){const{user:t}=xt(),{lang:e}=et(),n=Ir(),{plan:i,loading:o}=Q2(t==null?void 0:t.uid),[c,d]=C.useState(!1),[f,p]=C.useState(null),[g,v]=C.useState(!1),y=(N,z)=>e==="zh"?N:z,x=N=>{if(!t){n("/login");return}p(N),d(!0)},b=async()=>{if(!f)return;v(!0),await new Promise(z=>setTimeout(z,1500));const N=await Z2(t.uid,f);v(!1),N.success?(alert(y(" "," Purchase successful!")),d(!1),p(null)):alert(y(` ${N.error}`,` Purchase failed: ${N.error}`))};if(o)return l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:y("...","Loading...")})})});const j=(i==null?void 0:i.type)||"free",E=(()=>{if(!(i!=null&&i.expiryDate))return null;const N=Date.now(),z=Math.ceil((i.expiryDate-N)/(1e3*60*60*24));return z>0?z:0})();return l.jsxs("div",{style:{paddingTop:24},children:[i&&j!=="free"&&l.jsx("div",{className:"card",style:{padding:"16px",marginBottom:24,borderRadius:16,border:"2px solid #f97316",background:"linear-gradient(135deg, rgba(249,115,22,0.1), rgba(59,130,246,0.1))"},children:l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:12,color:"var(--muted)",marginBottom:4},children:y("","Current Plan")}),l.jsxs("div",{style:{fontSize:window.innerWidth<768?20:24,fontWeight:700,marginBottom:4,display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"},children:[l.jsx("span",{children:eR(j,e)}),E!==null&&l.jsx("span",{style:{fontSize:12,fontWeight:500,padding:"2px 8px",borderRadius:999,background:E<7?"rgba(239,68,68,0.15)":"rgba(16,185,129,0.15)",color:E<7?"#ef4444":"#10b981"},children:y(` ${E} `,`${E} days left`)})]})]}),i.expiryDate&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,color:"var(--muted)"},children:y("","Expires on")}),l.jsx("div",{style:{fontSize:13,fontWeight:500},children:new Date(i.expiryDate).toLocaleDateString(e==="zh"?"zh-CN":"en-US")})]})]})}),l.jsxs("div",{className:"card",style:{padding:window.innerWidth<768?"20px 16px":32,borderRadius:window.innerWidth<768?16:24},children:[l.jsx("h1",{style:{fontSize:window.innerWidth<768?22:28,marginBottom:8,lineHeight:1.3},children:y("","Choose Your Plan")}),l.jsx("p",{style:{color:"var(--muted)",marginBottom:window.innerWidth<768?24:32,fontSize:window.innerWidth<768?14:16},children:y("","Start free, upgrade anytime")}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:window.innerWidth<768?"1fr":"repeat(auto-fit, minmax(280px, 1fr))",gap:window.innerWidth<768?16:24},children:[l.jsx(hd,{tag:j==="free"?y("","Current"):null,title:y("","Free Member"),price:"RM 0",subtitle:y("","Free forever"),features:[y("","Browse all jobs"),y("","Apply for jobs"),y("","Create profile"),y("","Cannot post jobs"),y("","Cannot search talents")],buttonLabel:j==="free"?y("","Current"):y("","Sign up"),buttonVariant:j==="free"?"ghost":"solid",onPurchase:()=>{},isCurrent:j==="free"}),l.jsx(hd,{tag:j==="monthly"?y("","Current"):null,title:y("","Basic Employer"),price:y("RM 20","RM 20"),period:y("/30","/30 days"),subtitle:y("","For occasional hiring"),features:[y("","Unlimited job posts"),y("30","Valid for 30 days"),y("","Job management"),y("","View applicants"),y("","Cannot search talents")],buttonLabel:j==="monthly"?y("","Current"):y("","Subscribe"),buttonVariant:j==="monthly"?"ghost":"solid",onPurchase:()=>x("monthly"),isCurrent:j==="monthly"}),l.jsx(hd,{highlight:!0,tag:j==="yearly"?y("","Current"):y("","Best Value"),title:y("","Premium Employer"),price:y("RM 200","RM 200"),period:y("/365","/365 days"),subtitle:y("","For active hiring"),originalPrice:y("RM 240","RM 240"),savings:y(" RM 40","Save RM 40"),features:[y("","Unlimited job posts"),y("365","Valid for 365 days"),y("","Job management"),y("","View applicants"),y(" ","Search talents "),y("","Priority listing")],buttonLabel:j==="yearly"?y("","Current"):y("","Subscribe Yearly"),onPurchase:()=>x("yearly"),isCurrent:j==="yearly"})]}),l.jsxs("p",{style:{marginTop:24,fontSize:11,color:"var(--muted)",lineHeight:1.5},children:["* ",y("","Advanced features will be rolled out in future versions.")]})]}),c&&l.jsx(nR,{planType:f,onConfirm:b,onCancel:()=>{d(!1),p(null)},purchasing:g,lang:e})]})}function hd({title:t,price:e,period:n,subtitle:i,features:o,buttonLabel:c,buttonVariant:d="solid",tag:f,highlight:p,onPurchase:g,isCurrent:v,originalPrice:y,savings:x}){const b=window.innerWidth<768;return l.jsxs("div",{style:{position:"relative",borderRadius:b?16:24,padding:b?"20px 16px":24,border:p?"2px solid #f97316":"1px solid var(--border)",background:p?"linear-gradient(145deg, rgba(15,23,42,1), rgba(30,64,175,1))":"var(--card)",boxShadow:p?"0 20px 50px rgba(15,23,42,0.6)":"none"},children:[f&&l.jsx("div",{style:{position:"absolute",top:-10,right:b?12:24,padding:"4px 10px",borderRadius:999,background:"#f97316",color:"#0b1020",fontSize:11,fontWeight:600},children:f}),l.jsx("h2",{style:{margin:0,marginBottom:8,fontSize:b?18:20},children:t}),l.jsxs("div",{style:{marginBottom:4},children:[l.jsx("span",{style:{fontSize:b?28:32,fontWeight:700},children:e}),n&&l.jsx("span",{style:{fontSize:b?14:16,color:"var(--muted)"},children:n})]}),y&&x&&l.jsxs("div",{style:{marginBottom:8},children:[l.jsx("span",{style:{fontSize:13,color:"var(--muted)",textDecoration:"line-through",marginRight:8},children:y}),l.jsx("span",{style:{fontSize:13,color:"#10b981",fontWeight:600},children:x})]}),l.jsx("p",{style:{marginTop:0,marginBottom:16,fontSize:12,color:"var(--muted)"},children:i}),l.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,marginBottom:18,fontSize:b?12:13},children:o.map((j,T)=>l.jsxs("li",{style:{marginBottom:6,paddingLeft:0,color:j.includes("")||j.includes("Cannot")?"var(--muted)":"inherit",lineHeight:1.4},children:[j.includes("")||j.includes("Cannot")?"":""," ",j]},T))}),l.jsx("button",{type:"button",className:d==="ghost"?"btn-ghost":"btn",style:{width:"100%",marginTop:8,opacity:v?.7:1,cursor:v?"default":"pointer",fontSize:b?13:14,padding:b?"10px 14px":"10px 16px"},onClick:v?void 0:g,disabled:v,children:c})]})}function nR({planType:t,onConfirm:e,onCancel:n,purchasing:i,lang:o}){const c=(g,v)=>o==="zh"?g:v,d=window.innerWidth<768,p={monthly:{name:c("","Basic Employer"),price:"RM 20",period:c("30","30 days")},yearly:{name:c("","Premium Employer"),price:"RM 200",period:c("365","365 days")}}[t];return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:d?"flex-end":"center",justifyContent:"center",zIndex:9999,padding:d?0:16},onClick:n,children:l.jsxs("div",{className:"card",style:{padding:d?"24px 20px":32,maxWidth:500,width:d?"100%":"90%",borderRadius:d?"20px 20px 0 0":16,maxHeight:d?"90vh":"auto",overflowY:"auto"},onClick:g=>g.stopPropagation(),children:[l.jsx("h2",{style:{fontSize:d?20:24,marginBottom:8},children:c("","Confirm Purchase")}),l.jsx("p",{style:{color:"var(--muted)",marginBottom:20,fontSize:d?13:14},children:c("","This is a simulated payment")}),l.jsxs("div",{style:{background:"var(--bg)",padding:d?20:24,borderRadius:12,marginBottom:20},children:[l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:c("","Plan")}),l.jsx("div",{style:{fontSize:d?18:20,fontWeight:700},children:p.name})]}),l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:c("","Duration")}),l.jsx("div",{style:{fontSize:15},children:p.period})]}),l.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:16,marginTop:16},children:[l.jsx("div",{style:{fontSize:13,color:"var(--muted)"},children:c("","Total")}),l.jsx("div",{style:{fontSize:d?28:32,fontWeight:800,color:"#f97316"},children:p.price})]})]}),l.jsxs("div",{style:{display:"flex",gap:12,flexDirection:d?"column":"row"},children:[l.jsx("button",{className:"btn-ghost",style:{flex:1,width:"100%"},onClick:n,disabled:i,children:c("","Cancel")}),l.jsx("button",{className:"btn",style:{flex:1,width:"100%"},onClick:e,disabled:i,children:i?c("...","Processing..."):c("","Confirm Payment")})]})]})})}function rR(){const{lang:t}=et(),e=t==="zh";return l.jsxs("div",{className:"card",style:{maxWidth:900,margin:"0 auto"},children:[l.jsxs("div",{style:{borderBottom:"2px solid var(--primary)",paddingBottom:16,marginBottom:24},children:[l.jsx("h1",{style:{fontSize:28,fontWeight:700,margin:0,marginBottom:8,color:"var(--primary)"},children:e?"":"Disclaimer"}),l.jsx("p",{style:{fontSize:14,color:"var(--muted)",margin:0},children:e?"202512":"Last Updated: December 2025"})]}),l.jsxs("div",{style:{padding:16,background:"rgba(249, 115, 22, 0.1)",border:"1px solid rgba(249, 115, 22, 0.3)",borderRadius:12,marginBottom:32},children:[l.jsx("div",{style:{fontSize:15,fontWeight:600,marginBottom:8},children:e?" Beta ":" Beta Version Notice"}),l.jsx("p",{style:{fontSize:14,margin:0,lineHeight:1.6},children:e?" 100% ":"This platform is currently in Beta. We verify employers to the best of our ability but cannot guarantee 100% security. Please report suspicious activities to us immediately."})]}),l.jsxs("div",{style:{lineHeight:1.8},children:[l.jsx(Oi,{number:"1",title:e?"":"Platform Nature",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:[l.jsx("strong",{children:"OneJob"}),'"" ',l.jsx("strong",{children:""})," "]}):l.jsxs(l.Fragment,{children:[l.jsx("strong",{children:"OneJob"}),' (hereinafter referred to as "the Platform") acts solely as an information exchange platform for job seekers and employers. We are ',l.jsx("strong",{children:"NOT"})," a recruitment agency or an employer. The Platform does not guarantee the authenticity, accuracy, or legality of any job postings or user profiles."]})})}),l.jsxs(Oi,{number:"2",title:e?"":"Risk & Transaction Warning",highlight:!0,children:[l.jsx(Ny,{title:e?" ":" Scam Alert",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:["",l.jsx("strong",{children:""})," ",l.jsx("strong",{children:""}),""]}):l.jsxs(l.Fragment,{children:["Job seekers should exercise caution if an employer requests ",l.jsx("strong",{children:"upfront payments"}),"(e.g., deposits, training fees, medical fees) before employment. The Platform shall",l.jsx("strong",{children:" not be liable for any financial losses"})," arising from private transactions."]})})}),l.jsx(Ny,{title:e?" ":" Wage Disputes",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:[" RM 15/ ",l.jsx("strong",{children:""})," ",l.jsx("strong",{children:""}),""]}):l.jsxs(l.Fragment,{children:["All salary agreements (e.g., RM 15/hour) and employment contracts are strictly between the job seeker and the employer. The Platform is ",l.jsx("strong",{children:"not responsible for any labor disputes"}),", including unpaid wages."]})})})]}),l.jsx(Oi,{number:"3",title:e?"":"Offline Safety",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:["",l.jsx("strong",{children:""})," ",l.jsx("strong",{children:""}),""]}):l.jsxs(l.Fragment,{children:["The Platform assumes ",l.jsx("strong",{children:"no liability"})," for any personal injury, property damage, or accidents that may occur during offline interviews or employment. Users are advised to meet in ",l.jsx("strong",{children:"public places"})," and prioritize personal safety."]})})}),l.jsx(Oi,{number:"4",title:e?"":"Service Availability",children:l.jsx("p",{children:e?l.jsx(l.Fragment,{children:" "}):l.jsx(l.Fragment,{children:"The Platform shall not be held responsible for any service interruptions, data loss, or system failures caused by force majeure, technical maintenance, or cyber-attacks."})})}),l.jsx(Oi,{number:"5",title:e?"":"User Conduct",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:""}),""]}):l.jsxs(l.Fragment,{children:["Users must not post false, fraudulent, pornographic, violent, or illegal content. The Platform reserves the right to immediately remove such content and ban accounts",l.jsx("strong",{children:" without refund"}),"."]})})}),l.jsx(Oi,{number:"6",title:e?"":"Governing Law",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:["",l.jsx("strong",{children:""}),""]}):l.jsxs(l.Fragment,{children:["By using this Platform, you agree to comply with the ",l.jsx("strong",{children:"laws of Malaysia"}),". The Platform reserves the right to terminate accounts that violate our terms or local laws."]})})})]}),l.jsxs("div",{style:{marginTop:40,padding:20,background:"var(--bg)",borderRadius:12,textAlign:"center"},children:[l.jsx("p",{style:{fontSize:14,color:"var(--muted)",margin:0,marginBottom:8},children:e?"":"Questions? Contact us:"}),l.jsx("a",{href:"mailto:support@onejob.my",style:{fontSize:16,fontWeight:600,color:"var(--primary)",textDecoration:"none"},children:"support@onejob.my"})]})]})}function Oi({number:t,title:e,children:n,highlight:i}){return l.jsxs("div",{style:{marginBottom:32,paddingBottom:24,borderBottom:"1px solid var(--border)"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:16},children:[l.jsx("div",{style:{width:32,height:32,borderRadius:"50%",background:i?"var(--primary)":"rgba(148, 163, 184, 0.2)",color:i?"#fff":"var(--text)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:700,flexShrink:0},children:t}),l.jsx("h2",{style:{fontSize:20,fontWeight:700,margin:0,color:i?"var(--primary)":"var(--text)"},children:e})]}),l.jsx("div",{style:{paddingLeft:44},children:n})]})}function Ny({title:t,children:e}){return l.jsxs("div",{style:{marginBottom:16},children:[l.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:8,color:"var(--text)"},children:t}),e]})}function iR(){const{lang:t}=et(),e=t==="zh";return l.jsxs("div",{className:"card",style:{maxWidth:900,margin:"0 auto"},children:[l.jsxs("div",{style:{borderBottom:"2px solid var(--primary)",paddingBottom:16,marginBottom:24},children:[l.jsx("h1",{style:{fontSize:28,fontWeight:700,margin:0,marginBottom:8,color:"var(--primary)"},children:e?"":"Terms of Service"}),l.jsx("p",{style:{fontSize:14,color:"var(--muted)",margin:0},children:e?"202512":"Last Updated: December 2025"})]}),l.jsxs("div",{style:{lineHeight:1.8,fontSize:15},children:[l.jsx(rn,{title:e?"1. ":"1. Acceptance of Terms",children:l.jsx("p",{children:e?l.jsx(l.Fragment,{children:" OneJob "}):l.jsx(l.Fragment,{children:"Welcome to OneJob! By accessing or using this platform, you agree to be bound by these terms. If you do not agree to these terms, please do not use the platform."})})}),l.jsx(rn,{title:e?"2. ":"2. User Eligibility",children:l.jsx("p",{children:e?l.jsx(l.Fragment,{children:" 18  18 "}):l.jsx(l.Fragment,{children:"You must be at least 18 years old to use this platform. By using this platform, you represent and warrant that you are at least 18 years of age."})})}),l.jsx(rn,{title:e?"3. ":"3. Account Registration",children:l.jsxs("ul",{style:{paddingLeft:20},children:[l.jsx("li",{children:e?"":"You must provide accurate, complete, and current information"}),l.jsx("li",{children:e?"":"You are responsible for maintaining the security of your password"}),l.jsx("li",{children:e?"":"You are responsible for all activities under your account"}),l.jsx("li",{children:e?"":"Account sharing is prohibited"})]})}),l.jsxs(rn,{title:e?"4. ":"4. Prohibited Conduct",children:[l.jsx("p",{children:e?"":"Users must not:"}),l.jsxs("ul",{style:{paddingLeft:20},children:[l.jsx("li",{children:e?"":"Post false or misleading information"}),l.jsx("li",{children:e?"":"Engage in fraudulent or illegal activities"}),l.jsx("li",{children:e?"":"Harass, abuse, or threaten other users"}),l.jsx("li",{children:e?"":"Post pornographic, violent, or hate content"}),l.jsx("li",{children:e?"":"Infringe on intellectual property rights"}),l.jsx("li",{children:e?"":"Attempt to compromise platform security"})]})]}),l.jsxs(rn,{title:e?"5. ":"5. Job Posting Rules",children:[l.jsx("p",{children:e?"":"Employers must:"}),l.jsxs("ul",{style:{paddingLeft:20},children:[l.jsx("li",{children:e?"":"Provide truthful and accurate job information"}),l.jsx("li",{children:e?"":"Comply with Malaysian labor laws"}),l.jsx("li",{children:e?"":"Not request upfront payments from job seekers"}),l.jsx("li",{children:e?"":"Not post discriminatory job listings"})]})]}),l.jsx(rn,{title:e?"6. ":"6. Paid Services",children:l.jsx("p",{children:e?l.jsx(l.Fragment,{children:" "}):l.jsx(l.Fragment,{children:"The platform may offer paid subscription plans. All payments are non-refundable unless otherwise required by law. We reserve the right to change pricing at any time."})})}),l.jsx(rn,{title:e?"7. ":"7. Intellectual Property",children:l.jsx("p",{children:e?l.jsx(l.Fragment,{children:" OneJob "}):l.jsx(l.Fragment,{children:"All content, features, and design of the platform are the exclusive property of OneJob or its licensors and are protected by copyright, trademark, and other intellectual property laws."})})}),l.jsx(rn,{title:e?"8. ":"8. Account Termination",children:l.jsx("p",{children:e?l.jsx(l.Fragment,{children:""}):l.jsx(l.Fragment,{children:"We reserve the right to suspend or terminate accounts that violate these terms at any time without prior notice."})})}),l.jsx(rn,{title:e?"9. ":"9. Disclaimer",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:[""," ",l.jsx(ue,{to:"/disclaimer",style:{color:"var(--primary)",fontWeight:600},children:""})," ",""]}):l.jsxs(l.Fragment,{children:["Please read our full"," ",l.jsx(ue,{to:"/disclaimer",style:{color:"var(--primary)",fontWeight:600},children:"Disclaimer"})," ","for more information."]})})}),l.jsx(rn,{title:e?"10. ":"10. Changes to Terms",children:l.jsx("p",{children:e?l.jsx(l.Fragment,{children:""}):l.jsx(l.Fragment,{children:"We reserve the right to modify these terms at any time. Continued use of the platform constitutes acceptance of the revised terms."})})}),l.jsx(rn,{title:e?"11. ":"11. Contact Us",children:l.jsx("p",{children:e?l.jsxs(l.Fragment,{children:[""," ",l.jsx("a",{href:"mailto:support@onejob.my",style:{color:"var(--primary)",fontWeight:600},children:"support@onejob.my"})," ",""]}):l.jsxs(l.Fragment,{children:["If you have any questions about these terms, please contact us at"," ",l.jsx("a",{href:"mailto:support@onejob.my",style:{color:"var(--primary)",fontWeight:600},children:"support@onejob.my"})]})})})]}),l.jsx("div",{style:{marginTop:32,padding:16,background:"rgba(249, 115, 22, 0.1)",borderRadius:12,textAlign:"center"},children:l.jsx("p",{style:{fontSize:14,margin:0},children:e?l.jsxs(l.Fragment,{children:[" OneJob "," ",l.jsx(ue,{to:"/disclaimer",style:{color:"var(--primary)",fontWeight:600},children:""})]}):l.jsxs(l.Fragment,{children:["By using OneJob, you agree to these terms and our"," ",l.jsx(ue,{to:"/disclaimer",style:{color:"var(--primary)",fontWeight:600},children:"Disclaimer"})]})})})]})}function rn({title:t,children:e}){return l.jsxs("div",{style:{marginBottom:28},children:[l.jsx("h2",{style:{fontSize:18,fontWeight:700,marginBottom:12,color:"var(--text)"},children:t}),l.jsx("div",{style:{color:"var(--text)"},children:e})]})}function sR(){const{lang:t}=et(),e=t==="zh",[n,i]=C.useState(null),o=[{category:e?"":"About Platform",questions:[{q:e?"OneJob ":"What is OneJob?",a:e?"OneJob ":"OneJob is Malaysia's fastest hourly job platform, connecting employers and job seekers for part-time, full-time, and internship positions."},{q:e?"OneJob ":"Is OneJob free?",a:e?" StarterProfessional  Enterprise ":"Job seekers use OneJob completely free. Employers need to purchase a plan to post jobs. We offer Starter, Professional, and Enterprise plans."},{q:e?"":"Which areas are supported?",a:e?"":"Currently supports nationwide Malaysia, including Kuala Lumpur, Selangor, Penang, Johor Bahru, and other major cities."}]},{category:e?"":"Job Seeker FAQ",questions:[{q:e?"":"How do I apply for a job?",a:e?`1) 
2) 
3) ""
4) 
5) `:`1) Browse the jobs page
2) Click on a job that interests you
3) Click "Apply for Job" button
4) Fill out the application form
5) Wait for employer to contact you`},{q:e?"":"Do I need to upload a resume?",a:e?"":"We recommend uploading a resume to increase your chances. You can upload your resume and portfolio in your profile page."},{q:e?"":"How do I check my application status?",a:e?'""':'After logging in, visit "My Applications" page to see all your application records and statuses.'},{q:e?"":"What if I encounter a scam?",a:e?"support@onejob.my":"Stop contact immediately and do not pay any fees. Report to us at support@onejob.my. We will investigate and ban the employer immediately."}]},{category:e?"":"Employer FAQ",questions:[{q:e?"":"How do I post a job?",a:e?`1) 
2) 
3) ""
4) 
5) 
24`:`1) Register an employer account
2) Choose a plan
3) Click "Post a Job"
4) Fill in job details
5) Submit for review
Jobs are usually approved within 24 hours.`},{q:e?"":"What's the difference between plans?",a:e?`Starter: 1
Professional: 5
Enterprise: `:`Starter: 1 job posting, basic features
Professional: 5 job postings, priority display
Enterprise: Unlimited jobs, dedicated support`},{q:e?"":"How do I view applicants?",a:e?'""':'In your employer dashboard, click the "View Applicants" button on the job card to see all applicant profiles and resumes.'},{q:e?"":"Can I edit or delete a job?",a:e?'""""':'Yes. In your employer dashboard, click "Edit" to modify job details, or "Delete" to remove the job.'}]},{category:e?"":"Account & Payment",questions:[{q:e?"":"How do I create an account?",a:e?'""/Google':'Click "Register" button, select your role (Job Seeker/Employer), and sign up with email or Google account.'},{q:e?"":"What if I forget my password?",a:e?'""':`Click "Forgot Password" on the login page, enter your email, and we'll send you a password reset link.`},{q:e?"":"What payment methods are supported?",a:e?"/FPXTouch 'n GoGrab Pay":"We support credit/debit cards, FPX online banking, Touch 'n Go, Grab Pay, and other popular Malaysian payment methods."},{q:e?"":"Can I get a refund?",a:e?"7support@onejob.my":"Within 7 days of purchase, if you haven't used any job slots, you can request a full refund. Contact support@onejob.my."}]},{category:e?"":"Technical Support",questions:[{q:e?"":"What if the website is down?",a:e?"support@onejob.my":"Please check your internet connection or try clearing your browser cache. If the issue persists, contact support@onejob.my."},{q:e?"":"What if file upload fails?",a:e?"5MBPDFDOCDOCXJPGPNG":"Make sure your file is under 5MB and in PDF, DOC, DOCX, JPG, or PNG format. If it still fails, contact us."},{q:e?"":"How do I contact support?",a:e?'support@onejob.my24""':'Email support@onejob.my and we usually respond within 24 hours. For urgent matters, mark "URGENT" in the subject line.'}]}];return l.jsxs("div",{style:{maxWidth:900,margin:"0 auto",padding:"40px 20px"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[l.jsx("h1",{style:{fontSize:36,fontWeight:800,marginBottom:12,background:"linear-gradient(135deg, var(--primary) 0%, #ea580c 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e?"":"Frequently Asked Questions"}),l.jsx("p",{style:{fontSize:16,color:"var(--muted)",maxWidth:600,margin:"0 auto"},children:e?" support@onejob.my":"Can't find an answer? Email us at support@onejob.my and we'll be happy to help!"})]}),o.map((c,d)=>l.jsxs("div",{style:{marginBottom:40},children:[l.jsx("h2",{style:{fontSize:24,fontWeight:700,marginBottom:20,color:"var(--text)"},children:c.category}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:c.questions.map((f,p)=>{const g=`${d}-${p}`,v=n===g;return l.jsxs("div",{style:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:12,overflow:"hidden",transition:"all 0.2s ease"},children:[l.jsxs("button",{onClick:()=>i(v?null:g),style:{width:"100%",padding:"20px 24px",background:"transparent",border:"none",textAlign:"left",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",gap:16},children:[l.jsx("span",{style:{fontSize:16,fontWeight:600,color:"var(--text)"},children:f.q}),l.jsx("span",{style:{fontSize:20,color:"var(--primary)",transition:"transform 0.2s ease",transform:v?"rotate(45deg)":"rotate(0deg)"},children:"+"})]}),v&&l.jsx("div",{style:{padding:"0 24px 20px",color:"var(--muted)",fontSize:14,lineHeight:1.8,whiteSpace:"pre-line"},children:f.a})]},p)})})]},d)),l.jsxs("div",{style:{marginTop:60,padding:32,background:"linear-gradient(135deg, rgba(249, 115, 22, 0.1) 0%, rgba(234, 88, 12, 0.05) 100%)",border:"1px solid rgba(249, 115, 22, 0.2)",borderRadius:16,textAlign:"center"},children:[l.jsx("h3",{style:{fontSize:20,fontWeight:700,marginBottom:12},children:e?"":"Still have questions?"}),l.jsx("p",{style:{fontSize:14,color:"var(--muted)",marginBottom:20},children:e?"":"Our support team is here to help"}),l.jsxs("a",{href:"mailto:support@onejob.my",style:{display:"inline-block",padding:"12px 32px",background:"var(--primary)",color:"#ffffff",borderRadius:999,textDecoration:"none",fontWeight:600,fontSize:14},children:[" ",e?"":"Contact Us"]})]})]})}function oR(){const{lang:t}=et(),e=t==="zh",n=[{icon:"",title:e?"":"Watch for Scam Signs",color:"#ef4444",tips:[e?"":"Requests for upfront payments (training fees, deposits, uniform fees, etc.)",e?'""""':'Promises of "get rich quick" or "easy money"',e?"":"Vague or unclear job descriptions",e?"":"Salary far above market rate",e?"":"Requests for bank account or credit card information",e?"":"Interview location in remote or unofficial places"]},{icon:"",title:e?"":"Safe Job Hunting Tips",color:"#10b981",tips:[e?"":"Research company background, check website and social media",e?"":"Conduct interviews in public places",e?"":"Tell family or friends about interview time and location",e?"":"Don't provide sensitive personal information before verifying employer identity",e?"":"Trust your instincts, refuse if something feels wrong",e?"":"Keep all communication records as evidence"]},{icon:"",title:e?"":"Protect Personal Information",color:"#3b82f6",tips:[e?"":"Don't include IC or passport numbers in resume",e?"":"Don't provide full bank account details",e?"":"Share home address carefully, just write the area",e?"":"Use a separate email for job hunting",e?"":"Change passwords regularly, use strong passwords",e?"":"Enable two-factor authentication"]},{icon:"",title:e?"":"Interview Safety",color:"#f59e0b",tips:[e?"":"Verify interviewer's identity and position",e?"":"Choose daytime and public places for interviews",e?"":"Bring a friend or family member (wait outside)",e?"":"Dress appropriately, maintain professional image",e?"":"Prepare questions about company and position",e?"":"If uncomfortable, politely end interview and leave"]},{icon:"",title:e?"":"Contracts & Agreements",color:"#8b5cf6",tips:[e?"":"Read contracts carefully, don't rush to sign",e?"":"Ensure contract includes salary, hours, benefits details",e?"":"Understand probation period and resignation terms",e?"":"Keep a copy of the contract",e?"":"Consult lawyer or labor department if in doubt",e?"":"Beware of unreasonable restrictive clauses"]},{icon:"",title:e?"":"Workplace Safety",color:"#06b6d4",tips:[e?"":"Know emergency exits and safety facility locations",e?"":"Follow company safety rules and procedures",e?"":"Report any unsafe work environment",e?"":"Know your labor rights",e?"":"Keep work records and pay slips",e?"":"Report workplace harassment or discrimination immediately"]}],i=[{step:"1",title:e?"":"Stop Communication",desc:e?"":"Immediately stop all contact with suspicious employer"},{step:"2",title:e?"":"Save Evidence",desc:e?"":"Screenshot all chat records and job information"},{step:"3",title:e?"":"Report to Us",desc:e?" support@onejob.my":"Email support@onejob.my with evidence"},{step:"4",title:e?"":"Report to Police",desc:e?"":"If financial loss involved, report to police"}];return l.jsxs("div",{style:{maxWidth:1e3,margin:"0 auto",padding:"40px 20px"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[l.jsx("div",{style:{fontSize:60,marginBottom:16},children:""}),l.jsx("h1",{style:{fontSize:36,fontWeight:800,marginBottom:12,background:"linear-gradient(135deg, var(--primary) 0%, #ea580c 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e?"":"Safety Guide"}),l.jsx("p",{style:{fontSize:16,color:"var(--muted)",maxWidth:600,margin:"0 auto"},children:e?"":"Your safety is our top priority. Please read the following safety tips carefully."})]}),l.jsx("div",{style:{display:"grid",gap:24,marginBottom:60},children:n.map((o,c)=>l.jsxs("div",{style:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:16,padding:28},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:20},children:[l.jsx("span",{style:{fontSize:32},children:o.icon}),l.jsx("h2",{style:{fontSize:22,fontWeight:700,color:o.color,margin:0},children:o.title})]}),l.jsx("ul",{style:{margin:0,paddingLeft:24,display:"flex",flexDirection:"column",gap:12},children:o.tips.map((d,f)=>l.jsx("li",{style:{fontSize:15,color:"var(--text)",lineHeight:1.6},children:d},f))})]},c))}),l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.1) 0%, rgba(220, 38, 38, 0.05) 100%)",border:"2px solid rgba(239, 68, 68, 0.3)",borderRadius:16,padding:32,marginBottom:40},children:[l.jsx("h2",{style:{fontSize:24,fontWeight:700,marginBottom:20,textAlign:"center"},children:e?"":"How to Report Suspicious Jobs"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:20,marginTop:24},children:i.map((o,c)=>l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:60,height:60,borderRadius:"50%",background:"var(--primary)",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24,fontWeight:700,margin:"0 auto 12px"},children:o.step}),l.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:8},children:o.title}),l.jsx("p",{style:{fontSize:13,color:"var(--muted)",margin:0},children:o.desc})]},c))})]}),l.jsxs("div",{style:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:16,padding:32,textAlign:"center"},children:[l.jsx("h2",{style:{fontSize:24,fontWeight:700,marginBottom:20},children:e?"":"Emergency Contacts"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:20,marginTop:24},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),l.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:e?"":"Police"}),l.jsx("p",{style:{fontSize:20,fontWeight:700,color:"var(--primary)"},children:"999"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),l.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:e?"":"Report Scam"}),l.jsx("a",{href:"mailto:support@onejob.my",style:{fontSize:14,color:"var(--primary)",textDecoration:"none"},children:"support@onejob.my"})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:32,marginBottom:8},children:""}),l.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:4},children:e?"":"Labor Dept"}),l.jsx("p",{style:{fontSize:14,color:"var(--muted)"},children:"1-800-88-2038"})]})]})]}),l.jsxs("div",{style:{marginTop:40,padding:24,background:"rgba(249, 115, 22, 0.08)",border:"1px solid rgba(249, 115, 22, 0.2)",borderRadius:12,textAlign:"center",fontSize:13,color:"var(--muted)"},children:[l.jsx("strong",{children:e?"":"Important:"})," ",e?"OneJob OneJob":"OneJob will never ask you to pay any fees to apply for jobs. If someone asks for payment in OneJob's name, it's a scam - report it to us immediately."]})]})}function aR(){const{lang:t}=et(),e=t==="zh",n=[{title:e?"1. ":"1. Information We Collect",content:[{subtitle:e?"":"Personal Information",text:e?"":"When you register, we collect: name, email address, phone number, resume, and portfolio. Employers also provide company name and address."},{subtitle:e?"":"Usage Data",text:e?"IP":"We automatically collect your browser type, IP address, visit time, page views, etc., to improve service quality."},{subtitle:"Cookies",text:e?"CookiesCookies":"We use Cookies to remember your login status and preferences. You can disable Cookies in browser settings, but this may affect some features."}]},{title:e?"2. ":"2. How We Use Information",content:[{subtitle:e?"":"Service Provision",text:e?"":"We use your information to: create and manage accounts, process job applications, connect employers and job seekers, send notifications and updates."},{subtitle:e?"":"Platform Improvement",text:e?"":"Analyze usage data to optimize user experience, fix technical issues, develop new features."},{subtitle:e?"":"Security",text:e?"":"Detect and prevent fraud, abuse, and illegal activities to protect users and the platform."}]},{title:e?"3. ":"3. Information Sharing",content:[{subtitle:e?"":"With Employers",text:e?"":"When you apply for a job, employers can view your resume, contact details, and application. You can choose to hide some personal information."},{subtitle:e?"":"Service Providers",text:e?"":"We may share necessary information with third-party providers (payment processing, cloud storage, analytics), but they must comply with confidentiality agreements."},{subtitle:e?"":"Legal Requirements",text:e?"":"We may disclose information to law enforcement or government agencies if required by law or to protect rights and safety."},{subtitle:e?"":"We Don't Sell Information",text:e?"OneJob ":"OneJob does not sell your personal information to third parties."}]},{title:e?"4. ":"4. Data Security",content:[{subtitle:e?"":"Security Measures",text:e?"SSL":"We use SSL encryption, firewalls, access controls, and other technical measures to protect your data. All sensitive information is encrypted."},{subtitle:e?"":"Data Retention",text:e?"30":"We retain your information until account deletion. After deletion, your personal information will be removed from our systems within 30 days."}]},{title:e?"5. ":"5. Your Rights",content:[{subtitle:e?"":"Access & Update",text:e?"":"You can log in anytime to view and edit your personal information."},{subtitle:e?"":"Delete Account",text:e?"":"You can delete your account in account settings. After deletion, all your data will be permanently removed."},{subtitle:e?"":"Data Export",text:e?"support@onejob.my":"You can request a copy of your personal data. Email support@onejob.my."},{subtitle:e?"":"Opt-out Marketing",text:e?"":"You can unsubscribe from marketing emails anytime, but important account notifications will still be sent."}]},{title:e?"6. ":"6. Children's Privacy",content:[{subtitle:"",text:e?"OneJob 18":"OneJob does not provide services to children under 18. If we discover we've collected children's personal information, we will delete it immediately. If you believe we've inadvertently collected such information, please contact us."}]},{title:e?"7. ":"7. Third-Party Links",content:[{subtitle:"",text:e?"":"Our platform may contain links to third-party websites. We are not responsible for their privacy policies. We recommend reading their privacy policies when visiting."}]},{title:e?"8. ":"8. Privacy Policy Updates",content:[{subtitle:"",text:e?"":"We may update this privacy policy from time to time. For significant changes, we'll notify you via email or platform notification. Continued use of the service indicates your acceptance of the updated policy."}]}];return l.jsxs("div",{style:{maxWidth:900,margin:"0 auto",padding:"40px 20px"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:48},children:[l.jsx("div",{style:{fontSize:60,marginBottom:16},children:""}),l.jsx("h1",{style:{fontSize:36,fontWeight:800,marginBottom:12,background:"linear-gradient(135deg, var(--primary) 0%, #ea580c 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:e?"":"Privacy Policy"}),l.jsx("p",{style:{fontSize:14,color:"var(--muted)",maxWidth:600,margin:"0 auto"},children:e?"202512":"Last Updated: December 2025"}),l.jsx("p",{style:{fontSize:16,color:"var(--muted)",maxWidth:600,margin:"12px auto 0"},children:e?"":"We value and protect your privacy. This policy explains how we collect, use, and protect your personal information."})]}),l.jsx("div",{style:{marginBottom:60},children:n.map((i,o)=>l.jsxs("div",{style:{marginBottom:40,background:"var(--card)",border:"1px solid var(--border)",borderRadius:16,padding:32},children:[l.jsx("h2",{style:{fontSize:22,fontWeight:700,marginBottom:24,color:"var(--primary)"},children:i.title}),i.content.map((c,d)=>l.jsxs("div",{style:{marginBottom:c.subtitle?24:0},children:[c.subtitle&&l.jsx("h3",{style:{fontSize:16,fontWeight:600,marginBottom:12,color:"var(--text)"},children:c.subtitle}),l.jsx("p",{style:{fontSize:15,lineHeight:1.8,color:"var(--text)",margin:0},children:c.text})]},d))]},o))}),l.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(249, 115, 22, 0.1) 0%, rgba(234, 88, 12, 0.05) 100%)",border:"1px solid rgba(249, 115, 22, 0.2)",borderRadius:16,padding:32,textAlign:"center"},children:[l.jsx("h3",{style:{fontSize:20,fontWeight:700,marginBottom:12},children:e?"":"Contact Us"}),l.jsx("p",{style:{fontSize:14,color:"var(--muted)",marginBottom:20},children:e?"":"If you have any questions or concerns about this privacy policy, please contact us:"}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:12,alignItems:"center"},children:[l.jsx("a",{href:"mailto:support@onejob.my",style:{display:"inline-flex",alignItems:"center",gap:8,padding:"12px 32px",background:"var(--primary)",color:"#ffffff",borderRadius:999,textDecoration:"none",fontWeight:600,fontSize:14},children:" support@onejob.my"}),l.jsx("p",{style:{fontSize:13,color:"var(--muted)",margin:0},children:e?"24":"We usually respond within 24 hours"})]})]}),l.jsx("div",{style:{marginTop:40,padding:20,background:"rgba(59, 130, 246, 0.08)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:12,fontSize:13,color:"var(--muted)",textAlign:"center"},children:e?" OneJob ":"By using OneJob, you agree to this privacy policy. If you do not agree, please do not use our services."})]})}const lR=C.createContext();function cR({children:t}){const[e,n]=C.useState(()=>typeof window>"u"?"light":localStorage.getItem("theme")==="dark"?"dark":"light");C.useEffect(()=>{const c=document.documentElement;c.setAttribute("data-theme",e),localStorage.setItem("theme",e),console.log("Current theme:",e),console.log("HTML data-theme:",c.getAttribute("data-theme"))},[e]);const o={theme:e,toggleTheme:()=>{n(c=>c==="light"?"dark":"light")}};return l.jsx(lR.Provider,{value:o,children:t})}function Js({children:t}){const{user:e,loading:n}=xt(),{role:i,loaded:o}=ef(),{lang:c}=et(),[d,f]=C.useState(!0),[p,g]=C.useState(null),v=(y,x)=>c==="zh"?y:x;return C.useEffect(()=>{async function y(){if(!e){f(!1);return}const x=await X2(e.uid);g(x),f(!1)}e&&o&&i==="employer"?y():!n&&!e&&f(!1)},[e,i,o,n]),n||!o||d?l.jsx("div",{className:"container",style:{paddingTop:80},children:l.jsxs("div",{className:"card",style:{padding:48,textAlign:"center"},children:[l.jsx("div",{style:{fontSize:40,marginBottom:16},children:""}),l.jsx("p",{style:{fontSize:16,color:"var(--muted)"},children:v("...","Checking permissions...")})]})}):e?i!=="employer"?l.jsx(sn,{to:"/choose-role",replace:!0}):p&&!p.canPost?l.jsx(uR,{reason:p.reason,currentPlan:p.currentPlan,lang:c}):l.jsx(l.Fragment,{children:t}):l.jsx(sn,{to:"/login",replace:!0})}function uR({reason:t,currentPlan:e,lang:n}){const i=(o,c)=>n==="zh"?o:c;return l.jsx("div",{className:"container",style:{paddingTop:80,paddingBottom:80},children:l.jsxs("div",{className:"card",style:{padding:64,textAlign:"center",maxWidth:700,margin:"0 auto"},children:[l.jsx("div",{style:{fontSize:80,marginBottom:24},children:""}),l.jsx("h1",{style:{fontSize:32,marginBottom:16,fontWeight:800},children:i("","Upgrade Required")}),l.jsx("p",{style:{fontSize:18,color:"var(--muted)",marginBottom:32},children:t}),l.jsxs("div",{style:{background:"var(--bg)",padding:32,borderRadius:16,marginBottom:32,textAlign:"left"},children:[l.jsx("h3",{style:{fontSize:18,marginBottom:16},children:i("","After upgrading, you can:")}),l.jsxs("ul",{style:{listStyle:"none",padding:0},children:[l.jsxs("li",{style:{padding:"8px 0",fontSize:16},children:[" ",i("","Post unlimited jobs")]}),l.jsxs("li",{style:{padding:"8px 0",fontSize:16},children:[" ",i("","Manage all your jobs")]}),l.jsxs("li",{style:{padding:"8px 0",fontSize:16},children:[" ",i("","View applicant profiles")]}),l.jsxs("li",{style:{padding:"8px 0",fontSize:16},children:[" ",i("","Communicate with candidates")]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16,marginBottom:32},children:[l.jsxs("div",{style:{padding:24,border:"1px solid var(--border)",borderRadius:12,textAlign:"center"},children:[l.jsx("h4",{style:{fontSize:18,marginBottom:8},children:i("","Basic Employer")}),l.jsx("div",{style:{fontSize:32,fontWeight:800,color:"#f97316",marginBottom:8},children:"RM 20"}),l.jsx("div",{style:{fontSize:14,color:"var(--muted)",marginBottom:16},children:i("/ 30","/ 30 days")}),l.jsx(ue,{to:"/employer/plan",children:l.jsx("button",{className:"btn",style:{width:"100%"},children:i("","Choose Plan")})})]}),l.jsxs("div",{style:{padding:24,border:"2px solid #f97316",borderRadius:12,textAlign:"center",background:"linear-gradient(145deg, rgba(249,115,22,0.05), rgba(59,130,246,0.05))"},children:[l.jsx("div",{style:{display:"inline-block",padding:"4px 12px",background:"#f97316",color:"white",borderRadius:999,fontSize:12,fontWeight:700,marginBottom:8},children:i("","Recommended")}),l.jsx("h4",{style:{fontSize:18,marginBottom:8},children:i("","Premium Employer")}),l.jsx("div",{style:{fontSize:32,fontWeight:800,color:"#f97316",marginBottom:8},children:"RM 200"}),l.jsx("div",{style:{fontSize:14,color:"var(--muted)",marginBottom:4},children:i("/ 365","/ 365 days")}),l.jsx("div",{style:{fontSize:12,color:"#10b981",marginBottom:16},children:i("+ ","+ Search talents")}),l.jsx(ue,{to:"/employer/plan",children:l.jsx("button",{className:"btn",style:{width:"100%"},children:i("","Choose Plan")})})]})]}),l.jsx(ue,{to:"/employer/dashboard",children:l.jsx("button",{className:"btn-ghost",style:{marginTop:16},children:i(" "," Back to Dashboard")})})]})})}function dR(){const{user:t,loading:e}=xt();return e?l.jsx("div",{className:"container",children:l.jsx("div",{className:"card",children:l.jsx("p",{children:"Loading..."})})}):l.jsx(S1,{children:l.jsxs(Be,{path:"/",element:l.jsx(l2,{}),children:[l.jsx(Be,{index:!0,element:t?l.jsx(u2,{}):l.jsx(c2,{})}),l.jsx(Be,{path:"login",element:l.jsx(B2,{})}),l.jsx(Be,{path:"register",element:l.jsx(W2,{})}),l.jsx(Be,{path:"choose-role",element:t?l.jsx(H2,{}):l.jsx(sn,{to:"/login",replace:!0})}),l.jsx(Be,{path:"disclaimer",element:l.jsx(rR,{})}),l.jsx(Be,{path:"terms",element:l.jsx(iR,{})}),l.jsx(Be,{path:"jobs",element:l.jsx(d2,{})}),l.jsx(Be,{path:"jobs/:jobId",element:l.jsx(y2,{})}),l.jsx(Be,{path:"jobs/:jobId/applicants",element:l.jsx(Js,{children:l.jsx(Ry,{})})}),l.jsx(Be,{path:"dashboard",element:t?l.jsx(v2,{}):l.jsx(sn,{to:"/"})}),l.jsx(Be,{path:"profile",element:t?l.jsx(U2,{}):l.jsx(sn,{to:"/"})}),l.jsx(Be,{path:"my-applications",element:t?l.jsx(k2,{}):l.jsx(sn,{to:"/login"})}),l.jsx(Be,{path:"people",element:t?l.jsx(q2,{}):l.jsx(sn,{to:"/login"})}),l.jsx(Be,{path:"people/:uid",element:t?l.jsx(Y2,{}):l.jsx(sn,{to:"/login"})}),l.jsx(Be,{path:"employer",element:l.jsx(Js,{children:l.jsx(j2,{})})}),l.jsx(Be,{path:"employer/plan",element:t?l.jsx(tR,{}):l.jsx(sn,{to:"/login",replace:!0})}),l.jsx(Be,{path:"employer/post",element:l.jsx(Js,{children:l.jsx(D2,{})})}),l.jsx(Be,{path:"employer/jobs/:jobId/edit",element:l.jsx(Js,{children:l.jsx(M2,{})})}),l.jsx(Be,{path:"employer/jobs/:jobId/applicants",element:l.jsx(Js,{children:l.jsx(Ry,{})})}),l.jsx(Be,{path:"/faq",element:l.jsx(sR,{})}),l.jsx(Be,{path:"/safety",element:l.jsx(oR,{})}),l.jsx(Be,{path:"/privacy",element:l.jsx(aR,{})})]})})}Ib.createRoot(document.getElementById("root")).render(l.jsx(el.StrictMode,{children:l.jsx(o2,{children:l.jsx(cR,{children:l.jsx(s2,{children:l.jsx(R1,{children:l.jsx(dR,{})})})})})}));
